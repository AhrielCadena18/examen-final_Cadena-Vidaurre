import{A as yt,B as wf,C as If,D as Ef,E as kr,a as j,b as ge,c as U,d as I0,e as ru,f as E0,g as C0,h as D0,i as b0,j as yf,k as T0,l as S0,m as A0,n as vf,o as M0,p as x0,q as Zt,r as ta,s as Xn,t as iu,u as na,v as _f,w as P0,x as R0,y as ra,z as ou}from"./chunk-BZ6NUYZF.js";function N0(n,e){return Object.is(n,e)}var rt=null,su=!1,au=1,er=Symbol("SIGNAL");function Ee(n){let e=rt;return rt=n,e}function O0(){return rt}var oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bf(n){if(su)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let e=rt.nextProducerIndex++;if(du(rt),e<rt.producerNode.length&&rt.producerNode[e]!==n&&ia(rt)){let t=rt.producerNode[e];lu(t,rt.producerIndexOfThis[e])}rt.producerNode[e]!==n&&(rt.producerNode[e]=n,rt.producerIndexOfThis[e]=ia(rt)?L0(n,rt,e):0),rt.producerLastReadVersion[e]=n.version}function WA(){au++}function k0(n){if(!(ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===au)){if(!n.producerMustRecompute(n)&&!Sf(n)){n.dirty=!1,n.lastCleanEpoch=au;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=au}}function F0(n){if(n.liveConsumerNode===void 0)return;let e=su;su=!0;try{for(let t of n.liveConsumerNode)t.dirty||KA(t)}finally{su=e}}function V0(){return rt?.consumerAllowSignalWrites!==!1}function KA(n){n.dirty=!0,F0(n),n.consumerMarkedDirty?.(n)}function uu(n){return n&&(n.nextProducerIndex=0),Ee(n)}function Tf(n,e){if(Ee(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)lu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Sf(n){du(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(k0(t),r!==t.version))return!0}return!1}function Af(n){if(du(n),ia(n))for(let e=0;e<n.producerNode.length;e++)lu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function L0(n,e,t){if(j0(n),n.liveConsumerNode.length===0&&U0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=L0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function lu(n,e){if(j0(n),n.liveConsumerNode.length===1&&U0(n))for(let r=0;r<n.producerNode.length;r++)lu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];du(i),i.producerIndexOfThis[r]=e}}function ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function du(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function j0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function U0(n){return n.producerNode!==void 0}function B0(n){let e=Object.create(QA);e.computation=n;let t=()=>{if(k0(e),bf(e),e.value===cu)throw e.error;return e.value};return t[er]=e,t}var Cf=Symbol("UNSET"),Df=Symbol("COMPUTING"),cu=Symbol("ERRORED"),QA=ge(j({},oa),{value:Cf,dirty:!0,error:null,equal:N0,producerMustRecompute(n){return n.value===Cf||n.value===Df},producerRecomputeValue(n){if(n.value===Df)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Df;let t=uu(n),r;try{r=n.computation()}catch(i){r=cu,n.error=i}finally{Tf(n,t)}if(e!==Cf&&e!==cu&&r!==cu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function YA(){throw new Error}var $0=YA;function z0(){$0()}function q0(n){$0=n}var ZA=null;function H0(n){let e=Object.create(W0);e.value=n;let t=()=>(bf(e),e.value);return t[er]=e,t}function Mf(n,e){V0()||z0(),n.equal(n.value,e)||(n.value=e,JA(n))}function G0(n,e){V0()||z0(),Mf(n,e(n.value))}var W0=ge(j({},oa),{equal:N0,value:void 0});function JA(n){n.version++,WA(),F0(n),ZA?.()}function ie(n){return typeof n=="function"}function ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var hu=ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function _i(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof hu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{K0(o)}catch(s){e=e??[],s instanceof hu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)K0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_i(t,e)}remove(e){let{_finalizers:t}=this;t&&_i(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var xf=Ge.EMPTY;function fu(n){return n instanceof Ge||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function K0(n){ie(n)?n():n.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fo={setTimeout(n,e,...t){let{delegate:r}=fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pu(n){fo.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(n);else throw n})}function sa(){}var Q0=Pf("C",void 0,void 0);function Y0(n){return Pf("E",void 0,n)}function Z0(n){return Pf("N",n,void 0)}function Pf(n,e,t){return{kind:n,value:e,error:t}}var wi=null;function po(n){if(pn.useDeprecatedSynchronousErrorHandling){let e=!wi;if(e&&(wi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wi;if(wi=null,t)throw r}}else n()}function J0(n){pn.useDeprecatedSynchronousErrorHandling&&wi&&(wi.errorThrown=!0,wi.error=n)}var Ii=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fu(e)&&e.add(this)):this.destination=tM}static create(e,t,r){return new tr(e,t,r)}next(e){this.isStopped?Nf(Z0(e),this):this._next(e)}error(e){this.isStopped?Nf(Y0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nf(Q0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XA=Function.prototype.bind;function Rf(n,e){return XA.call(n,e)}var Of=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){gu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){gu(r)}else gu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){gu(t)}}},tr=class extends Ii{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rf(e.next,o),error:e.error&&Rf(e.error,o),complete:e.complete&&Rf(e.complete,o)}):i=e}this.destination=new Of(i)}};function gu(n){pn.useDeprecatedSynchronousErrorHandling?J0(n):pu(n)}function eM(n){throw n}function Nf(n,e){let{onStoppedNotification:t}=pn;t&&fo.setTimeout(()=>t(n,e))}var tM={closed:!0,next:sa,error:eM,complete:sa};var go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(n){return n}function mu(...n){return kf(n)}function kf(n){return n.length===0?Bt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=rM(t)?t:new tr(t,r,i);return po(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=X0(r),new r((i,o)=>{let s=new tr({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[go](){return this}pipe(...t){return kf(t)(this)}toPromise(t){return t=X0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function X0(n){var e;return(e=n??pn.Promise)!==null&&e!==void 0?e:Promise}function nM(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function rM(n){return n&&n instanceof Ii||nM(n)&&fu(n)}function Ff(n){return ie(n?.lift)}function ye(n){return e=>{if(Ff(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,r,i){return new Vf(n,e,t,r,i)}var Vf=class extends Ii{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function mo(){return ye((n,e)=>{let t=null;n._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var yo=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return mo()(this)}};var ew=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new yu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ew}next(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xf:(this.currentObservers=null,o.push(t),new Ge(()=>{this.currentObservers=null,_i(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new yu(e,t),n})(),yu=class extends je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:xf}};var lt=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var aa={now(){return(aa.delegate||Date).now()},delegate:void 0};var vu=class extends je{constructor(e=1/0,t=1/0,r=aa){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var _u=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var vo=class extends _u{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_i(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_o.now=aa.now;var wo=class extends _o{constructor(e,t=_o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Lf=new wo(vo);var wu=class extends vo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Iu=class extends wo{};var jf=new Iu(wu);var bt=new ce(n=>n.complete());function tw(n){return n&&ie(n.schedule)}function Uf(n){return n[n.length-1]}function Eu(n){return ie(Uf(n))?n.pop():void 0}function An(n){return tw(Uf(n))?n.pop():void 0}function nw(n,e){return typeof Uf(n)=="number"?n.pop():e}var Cu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Du(n){return ie(n?.then)}function bu(n){return ie(n[go])}function Tu(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Su(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Au=iM();function Mu(n){return ie(n?.[Au])}function xu(n){return E0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ru(t.read());if(i)return yield ru(void 0);yield yield ru(r)}}finally{t.releaseLock()}})}function Pu(n){return ie(n?.getReader)}function Le(n){if(n instanceof ce)return n;if(n!=null){if(bu(n))return oM(n);if(Cu(n))return sM(n);if(Du(n))return aM(n);if(Tu(n))return rw(n);if(Mu(n))return cM(n);if(Pu(n))return uM(n)}throw Su(n)}function oM(n){return new ce(e=>{let t=n[go]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sM(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function aM(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pu)})}function cM(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rw(n){return new ce(e=>{lM(n,e).catch(t=>e.error(t))})}function uM(n){return rw(xu(n))}function lM(n,e){var t,r,i,o;return I0(this,void 0,void 0,function*(){try{for(t=C0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Rt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $t(n,e=0){return ye((t,r)=>{t.subscribe(ve(r,i=>Rt(r,n,()=>r.next(i),e),()=>Rt(r,n,()=>r.complete(),e),i=>Rt(r,n,()=>r.error(i),e)))})}function Jt(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function iw(n,e){return Le(n).pipe(Jt(e),$t(e))}function ow(n,e){return Le(n).pipe(Jt(e),$t(e))}function sw(n,e){return new ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function aw(n,e){return new ce(t=>{let r;return Rt(t,e,()=>{r=n[Au](),Rt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Ru(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{Rt(t,e,()=>{let r=n[Symbol.asyncIterator]();Rt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cw(n,e){return Ru(xu(n),e)}function uw(n,e){if(n!=null){if(bu(n))return iw(n,e);if(Cu(n))return sw(n,e);if(Du(n))return ow(n,e);if(Tu(n))return Ru(n,e);if(Mu(n))return aw(n,e);if(Pu(n))return cw(n,e)}throw Su(n)}function xe(n,e){return e?uw(n,e):Le(n)}function ee(...n){let e=An(n);return xe(n,e)}function Io(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new ce(e?i=>e.schedule(r,0,i):r)}function Bf(n){return!!n&&(n instanceof ce||ie(n.lift)&&ie(n.subscribe))}var nr=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ye((t,r)=>{let i=0;t.subscribe(ve(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:dM}=Array;function hM(n,e){return dM(e)?n(...e):n(e)}function Nu(n){return te(e=>hM(n,e))}var{isArray:fM}=Array,{getPrototypeOf:pM,prototype:gM,keys:mM}=Object;function Ou(n){if(n.length===1){let e=n[0];if(fM(e))return{args:e,keys:null};if(yM(e)){let t=mM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function yM(n){return n&&typeof n=="object"&&pM(n)===gM}function ku(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Fu(...n){let e=An(n),t=Eu(n),{args:r,keys:i}=Ou(n);if(r.length===0)return xe([],e);let o=new ce(vM(r,e,i?s=>ku(i,s):Bt));return t?o.pipe(Nu(t)):o}function vM(n,e,t=Bt){return r=>{lw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)lw(e,()=>{let l=xe(n[u],e),h=!1;l.subscribe(ve(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lw(n,e,t){n?Rt(t,n,e):e()}function dw(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?T(P):u.push(P),T=P=>{o&&e.next(P),l++;let A=!1;Le(t(P,h++)).subscribe(ve(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let F=u.shift();s?Rt(e,s,()=>T(F)):T(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ve(e,y,()=>{p=!0,m()})),()=>{c?.()}}function it(n,e,t=1/0){return ie(e)?it((r,i)=>te((o,s)=>e(r,o,i,s))(Le(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>dw(r,i,n,t)))}function ua(n=1/0){return it(Bt,n)}function hw(){return ua(1)}function Eo(...n){return hw()(xe(n,An(n)))}function Vu(n){return new ce(e=>{Le(n()).subscribe(e)})}function $f(...n){let e=Eu(n),{args:t,keys:r}=Ou(n),i=new ce(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Le(t[h]).subscribe(ve(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ku(r,c):c),o.complete())}))}});return e?i.pipe(Nu(e)):i}function zf(...n){let e=An(n),t=nw(n,1/0),r=n;return r.length?r.length===1?Le(r[0]):ua(t)(xe(r,e)):bt}function vt(n,e){return ye((t,r)=>{let i=0;t.subscribe(ve(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Fr(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ve(t,void 0,void 0,s=>{o=Le(n(s,Fr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function fw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ve(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Vr(n,e){return ie(e)?it(n,e,1):it(n,1)}function Lr(n){return ye((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function rr(n){return n<=0?()=>bt:ye((e,t)=>{let r=0;e.subscribe(ve(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qf(n){return te(()=>n)}function Lu(n=_M){return ye((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _M(){return new nr}function jr(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Bt,rr(1),t?Lr(e):Lu(()=>new nr))}function Co(n){return n<=0?()=>bt:ye((e,t)=>{let r=[];e.subscribe(ve(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Bt,Co(1),t?Lr(e):Lu(()=>new nr))}function ju(n,e){return ye(fw(n,e,arguments.length>=2,!0))}function pw(n={}){let{connector:e=()=>new je,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,c,u,l=0,h=!1,p=!1,m=()=>{c?.unsubscribe(),c=void 0},y=()=>{m(),s=u=void 0,h=p=!1},T=()=>{let P=s;y(),P?.unsubscribe()};return ye((P,A)=>{l++,!p&&!h&&m();let F=u=u??e();A.add(()=>{l--,l===0&&!p&&!h&&(c=Gf(T,i))}),F.subscribe(A),!s&&l>0&&(s=new tr({next:q=>F.next(q),error:q=>{p=!0,m(),c=Gf(y,t,q),F.error(q)},complete:()=>{h=!0,m(),c=Gf(y,r),F.complete()}}),Le(P).subscribe(s))})(o)}}function Gf(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new tr({next:()=>{r.unsubscribe(),n()}});return Le(e(...t)).subscribe(r)}function Uu(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,pw({connector:()=>new vu(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Bu(...n){let e=An(n);return ye((t,r)=>{(e?Eo(n,t,e):Eo(n,t)).subscribe(r)})}function ze(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ve(r,u=>{i?.unsubscribe();let l=0,h=o++;Le(n(u,h)).subscribe(i=ve(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function $u(n,e){return ie(e)?ze(()=>n,e):ze(()=>n)}function Wf(n){return ye((e,t)=>{Le(n).subscribe(ve(t,()=>t.complete(),sa)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ve(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Bt}var tI="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,t){super(Dl(e,t)),this.code=e}};function Dl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function wa(n){return{toString:n}.toString()}var zu="__parameters__";function wM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nI(n,e,t){return wa(()=>{let r=wM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(zu)?u[zu]:Object.defineProperty(u,zu,{value:[]})[zu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ci=globalThis;function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function IM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function St(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(St).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function gw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var EM=ke({__forward_ref__:ke});function _n(n){return n.__forward_ref__=_n,n.toString=function(){return St(this())},n}function Tt(n){return rI(n)?n():n}function rI(n){return typeof n=="function"&&n.hasOwnProperty(EM)&&n.__forward_ref__===_n}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function bl(n){return mw(n,oI)||mw(n,sI)}function iI(n){return bl(n)!==null}function mw(n,e){return n.hasOwnProperty(e)?n[e]:null}function CM(n){let e=n&&(n[oI]||n[sI]);return e||null}function yw(n){return n&&(n.hasOwnProperty(vw)||n.hasOwnProperty(DM))?n[vw]:null}var oI=ke({\u0275prov:ke}),vw=ke({\u0275inj:ke}),sI=ke({ngInjectableDef:ke}),DM=ke({ngInjectorDef:ke}),z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aI(n){return n&&!!n.\u0275providers}var bM=ke({\u0275cmp:ke}),TM=ke({\u0275dir:ke}),SM=ke({\u0275pipe:ke}),AM=ke({\u0275mod:ke}),Xu=ke({\u0275fac:ke}),ha=ke({__NG_ELEMENT_ID__:ke}),_w=ke({__NG_ENV_ID__:ke});function Tl(n){return typeof n=="string"?n:n==null?"":String(n)}function MM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Tl(n)}function xM(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Y(-200,n)}function Qp(n,e){throw new Y(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),cp;function cI(){return cp}function Nt(n){let e=cp;return cp=n,e}function uI(n,e,t){let r=bl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;Qp(n,"Injector")}var PM={},fa=PM,up="__NG_DI_FLAG__",el="ngTempTokenPath",RM="ngTokenPath",NM=/\n/gm,OM="\u0275",ww="__source",So;function kM(){return So}function Ur(n){let e=So;return So=n,e}function FM(n,e=de.Default){if(So===void 0)throw new Y(-203,!1);return So===null?uI(n,void 0,e):So.get(n,e&de.Optional?null:void 0,e)}function G(n,e=de.Default){return(cI()||FM)(Tt(n),e)}function B(n,e=de.Default){return G(n,Sl(e))}function Sl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lp(n){let e=[];for(let t=0;t<n.length;t++){let r=Tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let c=r[s],u=VM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(G(i,o))}else e.push(G(r))}return e}function lI(n,e){return n[up]=e,n.prototype[up]=e,n}function VM(n){return n[up]}function LM(n,e,t,r){let i=n[el];throw e[ww]&&i.unshift(e[ww]),n.message=jM(`
`+n.message,i,t,r),n[RM]=i,n[el]=null,n}function jM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==OM?n.slice(2):n;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):St(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(NM,`
  `)}`}var _t=lI(nI("Optional"),8);var dI=lI(nI("SkipSelf"),4);function bi(n,e){let t=n.hasOwnProperty(Xu);return t?n[Xu]:null}function Yp(n,e){n.forEach(t=>Array.isArray(t)?Yp(t,e):e(t))}function hI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function UM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function BM(n,e,t){let r=Ia(n,e);return r>=0?n[r|1]=t:(r=~r,UM(n,r,e,t)),r}function Kf(n,e){let t=Ia(n,e);if(t>=0)return n[t|1]}function Ia(n,e){return $M(n,e,1)}function $M(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Mo={},en=[],xo=new z(""),fI=new z("",-1),pI=new z(""),nl=class{get(e,t=fa){if(t===fa){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return t}},gI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gI||{}),Pn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pn||{}),zr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(zr||{});function zM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function dp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];qM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function mI(n){return n===3||n===4||n===6}function qM(n){return n.charCodeAt(0)===64}function pa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Iw(n,t,i,null,e[++r]):Iw(n,t,i,null,null))}}return n}function Iw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var yI="ng-template";function HM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&zM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Zp(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Zp(n){return n.type===4&&n.value!==yI}function GM(n,e,t){let r=n.type===4&&!t?yI:n.value;return e===r}function WM(n,e,t){let r=4,i=n.attrs,o=i!==null?YM(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!GM(n,u,t)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!HM(n,i,u,t)){if(gn(r))return!1;s=!0}}else{let l=e[++c],h=KM(u,i,Zp(n),t);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(n){return(n&1)===0}function KM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ZM(e,n)}function QM(n,e,t=!1){for(let r=0;r<e.length;r++)if(WM(n,e[r],t))return!0;return!1}function YM(n){for(let e=0;e<n.length;e++){let t=n[e];if(mI(t))return e}return n.length}function ZM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ew(n,e){return n?":not("+e.trim()+")":e}function JM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=Ew(o,i),i=""),r=s,o=o||!gn(r);t++}return i!==""&&(e+=Ew(o,i)),e}function XM(n){return n.map(JM).join(",")}function ex(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gn(i))break;i=o}r++}return{attrs:e,classes:t}}function Re(n){return wa(()=>{let e=CI(n),t=ge(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""});DI(t);let r=n.dependencies;return t.directiveDefs=Dw(r,!1),t.pipeDefs=Dw(r,!0),t.id=rx(t),t})}function tx(n){return Ti(n)||_I(n)}function nx(n){return n!==null}function on(n){return wa(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cw(n,e){if(n==null)return Mo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c=zr.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=c!==zr.None?[r,c]:r,e[o]=s):t[o]=r}return t}function Ue(n){return wa(()=>{let e=CI(n);return DI(e),e})}function vI(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ti(n){return n[bM]||null}function _I(n){return n[TM]||null}function wI(n){return n[SM]||null}function II(n){let e=Ti(n)||_I(n)||wI(n);return e!==null?e.standalone:!1}function EI(n,e){let t=n[AM]||null;if(!t&&e===!0)throw new Error(`Type ${St(n)} does not have '\u0275mod' property.`);return t}function CI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Mo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cw(n.inputs,e),outputs:Cw(n.outputs),debugInfo:null}}function DI(n){n.features?.forEach(e=>e(n))}function Dw(n,e){if(!n)return null;let t=e?wI:tx;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(nx)}function rx(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(n){return{\u0275providers:n}}function Jp(...n){return{\u0275providers:bI(!0,n),\u0275fromNgModule:!0}}function bI(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Yp(e,s=>{let c=s;hp(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&TI(i,o),t}function TI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Xp(i,o=>{e(o,r)})}}function hp(n,e,t,r){if(n=Tt(n),!n)return!1;let i=null,o=yw(n),s=!o&&Ti(n);if(!o&&!s){let u=n.ngModule;if(o=yw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hp(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Yp(o.imports,h=>{hp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&TI(l,e)}if(!c){let l=bi(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:pI,useValue:i,multi:!0},i),e({provide:xo,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Xp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Xp(n,e){for(let t of n)aI(t)&&(t=t.\u0275providers),Array.isArray(t)?Xp(t,e):e(t)}var ix=ke({provide:String,useValue:ke});function SI(n){return n!==null&&typeof n=="object"&&ix in n}function ox(n){return!!(n&&n.useExisting)}function sx(n){return!!(n&&n.useFactory)}function Po(n){return typeof n=="function"}function ax(n){return!!n.useClass}var Al=new z(""),Ku={},cx={},Qf;function eg(){return Qf===void 0&&(Qf=new nl),Qf}var Ot=class{},ga=class extends Ot{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pp(e,s=>this.processProvider(s)),this.records.set(fI,Do(void 0,this)),i.has("environment")&&this.records.set(Ot,Do(void 0,this));let o=this.records.get(Al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pI,en,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ur(this),r=Nt(void 0),i;try{return e()}finally{Ur(t),Nt(r)}}get(e,t=fa,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_w))return e[_w](this);r=Sl(r);let i,o=Ur(this),s=Nt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=fx(e)&&bl(e);l&&this.injectableDefInScope(l)?u=Do(fp(e),Ku):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&de.Self?eg():this.parent;return t=r&de.Optional&&t===fa?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[el]=c[el]||[]).unshift(St(e)),o)throw c;return LM(c,e,"R3InjectorError",this.source)}else throw c}finally{Nt(s),Ur(o)}}resolveInjectorInitializers(){let e=Ee(null),t=Ur(this),r=Nt(void 0),i;try{let o=this.get(xo,en,de.Self);for(let s of o)s()}finally{Ur(t),Nt(r),Ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Tt(e);let t=Po(e)?e:Tt(e&&e.provide),r=lx(e);if(!Po(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Do(void 0,Ku,!0),i.factory=()=>lp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ee(null);try{return t.value===Ku&&(t.value=cx,t.value=t.factory()),typeof t.value=="object"&&t.value&&hx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function fp(n){let e=bl(n),t=e!==null?e.factory:bi(n);if(t!==null)return t;if(n instanceof z)throw new Y(204,!1);if(n instanceof Function)return ux(n);throw new Y(204,!1)}function ux(n){if(n.length>0)throw new Y(204,!1);let t=CM(n);return t!==null?()=>t.factory(n):()=>new n}function lx(n){if(SI(n))return Do(void 0,n.useValue);{let e=AI(n);return Do(e,Ku)}}function AI(n,e,t){let r;if(Po(n)){let i=Tt(n);return bi(i)||fp(i)}else if(SI(n))r=()=>Tt(n.useValue);else if(sx(n))r=()=>n.useFactory(...lp(n.deps||[]));else if(ox(n))r=()=>G(Tt(n.useExisting));else{let i=Tt(n&&(n.useClass||n.provide));if(dx(n))r=()=>new i(...lp(n.deps));else return bi(i)||fp(i)}return r}function Do(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function dx(n){return!!n.deps}function hx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function fx(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function pp(n,e){for(let t of n)Array.isArray(t)?pp(t,e):t&&aI(t)?pp(t.\u0275providers,e):e(t)}function wn(n,e){n instanceof ga&&n.assertNotDestroyed();let t,r=Ur(n),i=Nt(void 0);try{return e()}finally{Ur(r),Nt(i)}}function px(){return cI()!==void 0||kM()!=null}function gx(n){return typeof n=="function"}var ar=0,me=1,oe=2,At=3,mn=4,In=5,rl=6,il=7,yn=8,Ro=9,Rn=10,Ze=11,ma=12,bw=13,Uo=14,Nn=15,No=16,bo=17,Oo=18,Ml=19,MI=20,Br=21,Yf=22,tn=23,vn=25,xI=1;var Si=7,ol=8,sl=9,nn=10,al=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(al||{});function $r(n){return Array.isArray(n)&&typeof n[xI]=="object"}function cr(n){return Array.isArray(n)&&n[xI]===!0}function PI(n){return(n.flags&4)!==0}function xl(n){return n.componentOffset>-1}function tg(n){return(n.flags&1)===1}function qr(n){return!!n.template}function gp(n){return(n[oe]&512)!==0}var mp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function RI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function kn(){return NI}function NI(n){return n.type.prototype.ngOnChanges&&(n.setInput=yx),mx}kn.ngInherit=!0;function mx(){let n=kI(this),e=n?.current;if(e){let t=n.previous;if(t===Mo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function yx(n,e,t,r,i){let o=this.declaredInputs[r],s=kI(n)||vx(n,{previous:Mo,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new mp(l&&l.currentValue,t,u===Mo),RI(n,e,i,t)}var OI="__ngSimpleChanges__";function kI(n){return n[OI]||null}function vx(n,e){return n[OI]=e}var Tw=null;var Mn=function(n,e,t){Tw?.(n,e,t)},_x="svg",wx="math";function On(n){for(;Array.isArray(n);)n=n[ar];return n}function FI(n,e){return On(e[n])}function an(n,e){return On(e[n.index])}function VI(n,e){return n.data[e]}function LI(n,e){return n[e]}function Wr(n,e){let t=e[n];return $r(t)?t:t[ar]}function ng(n){return(n[oe]&128)===128}function Ix(n){return cr(n[At])}function cl(n,e){return e==null?null:n[e]}function jI(n){n[bo]=0}function UI(n){n[oe]&1024||(n[oe]|=1024,ng(n)&&Rl(n))}function Ex(n,e){for(;n>0;)e=e[Uo],n--;return e}function Pl(n){return!!(n[oe]&9216||n[tn]?.dirty)}function yp(n){n[Rn].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),Pl(n)&&Rl(n)}function Rl(n){n[Rn].changeDetectionScheduler?.notify(0);let e=Ai(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!ng(e)));)e=Ai(e)}function BI(n,e){if((n[oe]&256)===256)throw new Y(911,!1);n[Br]===null&&(n[Br]=[]),n[Br].push(e)}function Cx(n,e){if(n[Br]===null)return;let t=n[Br].indexOf(e);t!==-1&&n[Br].splice(t,1)}function Ai(n){let e=n[At];return cr(e)?e[At]:e}var fe={lFrame:YI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $I=!1;function Dx(){return fe.lFrame.elementDepthCount}function bx(){fe.lFrame.elementDepthCount++}function Tx(){fe.lFrame.elementDepthCount--}function zI(){return fe.bindingsEnabled}function Sx(){return fe.skipHydrationRootTNode!==null}function Ax(n){return fe.skipHydrationRootTNode===n}function Mx(){fe.skipHydrationRootTNode=null}function Se(){return fe.lFrame.lView}function Mt(){return fe.lFrame.tView}function Je(n){return fe.lFrame.contextLView=n,n[yn]}function Xe(n){return fe.lFrame.contextLView=null,n}function xt(){let n=qI();for(;n!==null&&n.type===64;)n=n.parent;return n}function qI(){return fe.lFrame.currentTNode}function xx(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ea(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function HI(){return fe.lFrame.isParent}function Px(){fe.lFrame.isParent=!1}function Rx(){return fe.lFrame.contextLView}function GI(){return $I}function Sw(n){$I=n}function rg(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Nx(n){return fe.lFrame.bindingIndex=n}function Nl(){return fe.lFrame.bindingIndex++}function Ox(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kx(){return fe.lFrame.inI18n}function Fx(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,vp(e)}function Vx(){return fe.lFrame.currentDirectiveIndex}function vp(n){fe.lFrame.currentDirectiveIndex=n}function Lx(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function WI(n){fe.lFrame.currentQueryIndex=n}function jx(n){let e=n[me];return e.type===2?e.declTNode:e.type===1?n[In]:null}function KI(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=jx(o),i===null||(o=o[Uo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=QI();return r.currentTNode=e,r.lView=n,!0}function ig(n){let e=QI(),t=n[me];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function QI(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?YI(n):e}function YI(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ZI(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var JI=ZI;function og(){let n=ZI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ux(n){return(fe.lFrame.contextLView=Ex(n,fe.lFrame.contextLView))[yn]}function Bo(){return fe.lFrame.selectedIndex}function Mi(n){fe.lFrame.selectedIndex=n}function Ol(){let n=fe.lFrame;return VI(n.tView,n.selectedIndex)}function Bx(){return fe.lFrame.currentNamespace}var XI=!0;function sg(){return XI}function ag(n){XI=n}function $x(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=NI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function cg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Qu(n,e,t){eE(n,e,3,t)}function Yu(n,e,t,r){(n[oe]&3)===t&&eE(n,e,t,r)}function Zf(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function eE(n,e,t,r){let i=r!==void 0?n[bo]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[bo]+=65536),(c<o||o==-1)&&(zx(n,t,e,u),n[bo]=(n[bo]&4294901760)+u+2),u++}function Aw(n,e){Mn(4,n,e);let t=Ee(null);try{e.call(n)}finally{Ee(t),Mn(5,n,e)}}function zx(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[oe]>>14<n[bo]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,Aw(c,o)):Aw(c,o)}var Ao=-1,xi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function qx(n){return n instanceof xi}function Hx(n){return(n.flags&8)!==0}function Gx(n){return(n.flags&16)!==0}var Jf={},_p=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Sl(r);let i=this.injector.get(e,Jf,r);return i!==Jf||t===Jf?i:this.parentInjector.get(e,t,r)}};function tE(n){return n!==Ao}function ul(n){return n&32767}function Wx(n){return n>>16}function ll(n,e){let t=Wx(n),r=e;for(;t>0;)r=r[Uo],t--;return r}var wp=!0;function dl(n){let e=wp;return wp=n,e}var Kx=256,nE=Kx-1,rE=5,Qx=0,xn={};function Yx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ha)&&(r=t[ha]),r==null&&(r=t[ha]=Qx++);let i=r&nE,o=1<<i;e.data[n+(i>>rE)]|=o}function hl(n,e){let t=iE(n,e);if(t!==-1)return t;let r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,Xf(r.data,n),Xf(e,null),Xf(r.blueprint,null));let i=ug(n,e),o=n.injectorIndex;if(tE(i)){let s=ul(i),c=ll(i,e),u=c[me].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Xf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ug(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=uE(i),r===null)return Ao;if(t++,i=i[Uo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ao}function Ip(n,e,t){Yx(n,e,t)}function Zx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(mI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function oE(n,e,t){if(t&de.Optional||n!==void 0)return n;Qp(e,"NodeInjector")}function sE(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),!(t&(de.Self|de.Host))){let i=n[Ro],o=Nt(void 0);try{return i?i.get(e,r,t&de.Optional):uI(e,r,t&de.Optional)}finally{Nt(o)}}return oE(r,e,t)}function aE(n,e,t,r=de.Default,i){if(n!==null){if(e[oe]&2048&&!(r&de.Self)){let s=nP(n,e,t,r,xn);if(s!==xn)return s}let o=cE(n,e,t,r,xn);if(o!==xn)return o}return sE(e,t,r,i)}function cE(n,e,t,r,i){let o=eP(t);if(typeof o=="function"){if(!KI(e,n,r))return r&de.Host?oE(i,t,r):sE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))Qp(t);else return s}finally{JI()}}else if(typeof o=="number"){let s=null,c=iE(n,e),u=Ao,l=r&de.Host?e[Nn][In]:null;for((c===-1||r&de.SkipSelf)&&(u=c===-1?ug(n,e):e[c+8],u===Ao||!xw(r,!1)?c=-1:(s=e[me],c=ul(u),e=ll(u,e)));c!==-1;){let h=e[me];if(Mw(o,c,h.data)){let p=Jx(c,e,t,s,r,l);if(p!==xn)return p}u=e[c+8],u!==Ao&&xw(r,e[me].data[c+8]===l)&&Mw(o,c,e)?(s=h,c=ul(u),e=ll(u,e)):c=-1}}return i}function Jx(n,e,t,r,i,o){let s=e[me],c=s.data[n+8],u=r==null?xl(c)&&wp:r!=s&&(c.type&3)!==0,l=i&de.Host&&o===c,h=Xx(c,s,t,u,l);return h!==null?ko(e,s,h,c):xn}function Xx(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&qr(y)&&y.type===t)return u}return null}function ko(n,e,t,r){let i=n[t],o=e.data;if(qx(i)){let s=i;s.resolving&&xM(MM(o[t]));let c=dl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Nt(s.injectImpl):null,h=KI(n,r,de.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&$x(t,o[t],e)}finally{l!==null&&Nt(l),dl(c),s.resolving=!1,JI()}}return i}function eP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ha)?n[ha]:void 0;return typeof e=="number"?e>=0?e&nE:tP:e}function Mw(n,e,t){let r=1<<n;return!!(t[e+(n>>rE)]&r)}function xw(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var Di=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aE(this._tNode,this._lView,e,Sl(r),t)}};function tP(){return new Di(xt(),Se())}function ur(n){return wa(()=>{let e=n.prototype.constructor,t=e[Xu]||Ep(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Xu]||Ep(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ep(n){return rI(n)?()=>{let e=Ep(Tt(n));return e&&e()}:bi(n)}function nP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!(s[oe]&512);){let c=cE(o,s,t,r|de.Self,xn);if(c!==xn)return c;let u=o.parent;if(!u){let l=s[MI];if(l){let h=l.get(t,xn,r);if(h!==xn)return h}u=uE(s),s=s[Uo]}o=u}return i}function uE(n){let e=n[me],t=e.type;return t===2?e.declTNode:t===1?n[In]:null}function lg(n){return Zx(xt(),n)}function Pw(n,e=null,t=null,r){let i=lE(n,e,t,r);return i.resolveInjectorInitializers(),i}function lE(n,e=null,t=null,r,i=new Set){let o=[t||en,Jp(n)];return r=r||(typeof n=="object"?void 0:St(n)),new ga(o,e||eg(),r||null,i)}var kt=class n{static{this.THROW_IF_NOT_FOUND=fa}static{this.NULL=new nl}static create(e,t){if(Array.isArray(e))return Pw({name:""},t,e,"");{let r=e.name??"";return Pw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Q({token:n,providedIn:"any",factory:()=>G(fI)})}static{this.__NG_ELEMENT_ID__=-1}};var rP=new z("");rP.__NG_ELEMENT_ID__=n=>{let e=xt();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new Y(204,!1)};var iP="ngOriginalError";function ep(n){return n[iP]}var dE=!0,hE=(()=>{class n{static{this.__NG_ELEMENT_ID__=oP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Cp=class extends hE{constructor(e){super(),this._lView=e}onDestroy(e){return BI(this._lView,e),()=>Cx(this._lView,e)}};function oP(){return new Cp(Se())}var lr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Dp=class extends je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,px()&&(this.destroyRef=B(hE,{optional:!0})??void 0,this.pendingTasks=B(lr,{optional:!0})??void 0)}emit(e){let t=Ee(null);try{super.next(e)}finally{Ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ge&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=Dp;function fl(...n){}function fE(n){let e,t;function r(){n=fl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Rw(n){return queueMicrotask(()=>n()),()=>{n=fl}}var dg="isAngularZone",pl=dg+"_ID",sP=0,Ce=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dE}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Y(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aP,fl,fl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},aP={};function hg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){fE(()=>{n.callbackScheduled=!1,bp(n),n.isCheckStableRunning=!0,hg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bp(n)}function uP(n){let e=()=>{cP(n)},t=sP++;n._inner=n._inner.fork({name:"angular",properties:{[dg]:!0,[pl]:t,[pl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(lP(u))return r.invokeTask(o,s,c,u);try{return Nw(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Ow(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Nw(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!dP(u)&&e(),Ow(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,bp(n),hg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function bp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Nw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ow(n){n._nesting--,hg(n)}var Tp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function lP(n){return pE(n,"__ignore_ng_zone__")}function dP(n){return pE(n,"__scheduler_tick__")}function pE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ir=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ep(e);for(;t&&ep(t);)t=ep(t);return t||null}},hP=new z("",{providedIn:"root",factory:()=>{let n=B(Ce),e=B(ir);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function fP(){return kl(xt(),Se())}function kl(n,e){return new En(an(n,e))}var En=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=fP}}return n})();function gE(n){return(n.flags&128)===128}var mE=new Map,pP=0;function gP(){return pP++}function mP(n){mE.set(n[Ml],n)}function Sp(n){mE.delete(n[Ml])}var kw="__ngContext__";function Pi(n,e){$r(e)?(n[kw]=e[Ml],mP(e)):n[kw]=e}function yE(n){return _E(n[ma])}function vE(n){return _E(n[mn])}function _E(n){for(;n!==null&&!cr(n);)n=n[mn];return n}var Ap;function wE(n){Ap=n}function yP(){if(Ap!==void 0)return Ap;if(typeof document<"u")return document;throw new Y(210,!1)}var fg=new z("",{providedIn:"root",factory:()=>vP}),vP="ng",pg=new z(""),zt=new z("",{providedIn:"platform",factory:()=>"unknown"});var gg=new z("",{providedIn:"root",factory:()=>yP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _P="h",wP="b";var IP=()=>null;function mg(n,e,t=!1){return IP(n,e,t)}var IE=!1,EP=new z("",{providedIn:"root",factory:()=>IE});var qu;function CP(){if(qu===void 0&&(qu=null,Ci.trustedTypes))try{qu=Ci.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qu}function Fw(n){return CP()?.createScriptURL(n)||n}var gl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tI})`}};function Ca(n){return n instanceof gl?n.changingThisBreaksApplicationSecurity:n}function yg(n,e){let t=DP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tI})`)}return t===e}function DP(n){return n instanceof gl&&n.getTypeName()||null}var bP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function EE(n){return n=String(n),n.match(bP)?n:"unsafe:"+n}var Fl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fl||{});function Fn(n){let e=DE();return e?e.sanitize(Fl.URL,n)||"":yg(n,"URL")?Ca(n):EE(Tl(n))}function TP(n){let e=DE();if(e)return Fw(e.sanitize(Fl.RESOURCE_URL,n)||"");if(yg(n,"ResourceURL"))return Fw(Ca(n));throw new Y(904,!1)}function SP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?TP:Fn}function CE(n,e,t){return SP(e,t)(n)}function DE(){let n=Se();return n&&n[Rn].sanitizer}function bE(n){return n instanceof Function?n():n}var or=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(or||{}),AP;function vg(n,e){return AP(n,e)}function To(n,e,t,r,i){if(r!=null){let o,s=!1;cr(r)?o=r:$r(r)&&(s=!0,r=r[ar]);let c=On(r);n===0&&t!==null?i==null?xE(e,t,c):ml(e,t,c,i||null,!0):n===1&&t!==null?ml(e,t,c,i||null,!0):n===2?zP(e,c,s):n===3&&e.destroyNode(c),o!=null&&HP(e,n,o,t,i)}}function MP(n,e){return n.createText(e)}function xP(n,e,t){n.setValue(e,t)}function TE(n,e,t){return n.createElement(e,t)}function PP(n,e){SE(n,e),e[ar]=null,e[In]=null}function RP(n,e,t,r,i,o){r[ar]=i,r[In]=e,Vl(n,r,t,1,i,o)}function SE(n,e){e[Rn].changeDetectionScheduler?.notify(9),Vl(n,e,e[Ze],2,null,null)}function NP(n){let e=n[ma];if(!e)return tp(n[me],n);for(;e;){let t=null;if($r(e))t=e[ma];else{let r=e[nn];r&&(t=r)}if(!t){for(;e&&!e[mn]&&e!==n;)$r(e)&&tp(e[me],e),e=e[At];e===null&&(e=n),$r(e)&&tp(e[me],e),t=e&&e[mn]}e=t}}function OP(n,e,t,r){let i=nn+r,o=t.length;r>0&&(t[i-1][mn]=e),r<o-nn?(e[mn]=t[i],hI(t,nn+r,e)):(t.push(e),e[mn]=null),e[At]=t;let s=e[No];s!==null&&t!==s&&AE(s,e);let c=e[Oo];c!==null&&c.insertView(n),yp(e),e[oe]|=128}function AE(n,e){let t=n[sl],r=e[At];if($r(r))n[oe]|=al.HasTransplantedViews;else{let i=r[At][Nn];e[Nn]!==i&&(n[oe]|=al.HasTransplantedViews)}t===null?n[sl]=[e]:t.push(e)}function _g(n,e){let t=n[sl],r=t.indexOf(e);t.splice(r,1)}function Mp(n,e){if(n.length<=nn)return;let t=nn+e,r=n[t];if(r){let i=r[No];i!==null&&i!==n&&_g(i,r),e>0&&(n[t-1][mn]=r[mn]);let o=tl(n,nn+e);PP(r[me],r);let s=o[Oo];s!==null&&s.detachView(o[me]),r[At]=null,r[mn]=null,r[oe]&=-129}return r}function ME(n,e){if(!(e[oe]&256)){let t=e[Ze];t.destroyNode&&Vl(n,e,t,3,null,null),NP(e)}}function tp(n,e){if(e[oe]&256)return;let t=Ee(null);try{e[oe]&=-129,e[oe]|=256,e[tn]&&Af(e[tn]),FP(n,e),kP(n,e),e[me].type===1&&e[Ze].destroy();let r=e[No];if(r!==null&&cr(e[At])){r!==e[At]&&_g(r,e);let i=e[Oo];i!==null&&i.detachView(n)}Sp(e)}finally{Ee(t)}}function kP(n,e){let t=n.cleanup,r=e[il];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[il]=null);let i=e[Br];if(i!==null){e[Br]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function FP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Mn(4,c,u);try{u.call(c)}finally{Mn(5,c,u)}}else{Mn(4,i,o);try{o.call(i)}finally{Mn(5,i,o)}}}}}function VP(n,e,t){return LP(n,e.parent,t)}function LP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ar];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Pn.None||o===Pn.Emulated)return null}return an(r,t)}}function ml(n,e,t,r,i){n.insertBefore(e,t,r,i)}function xE(n,e,t){n.appendChild(e,t)}function Vw(n,e,t,r,i){r!==null?ml(n,e,t,r,i):xE(n,e,t)}function PE(n,e){return n.parentNode(e)}function jP(n,e){return n.nextSibling(e)}function UP(n,e,t){return $P(n,e,t)}function BP(n,e,t){return n.type&40?an(n,t):null}var $P=BP,Lw;function wg(n,e,t,r){let i=VP(n,r,e),o=e[Ze],s=r.parent||e[In],c=UP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Vw(o,i,t[u],c,!1);else Vw(o,i,t,c,!1);Lw!==void 0&&Lw(o,r,e,t,i)}function la(n,e){if(e!==null){let t=e.type;if(t&3)return an(e,n);if(t&4)return xp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return la(n,r);{let i=n[e.index];return cr(i)?xp(-1,i):On(i)}}else{if(t&128)return la(n,e.next);if(t&32)return vg(e,n)()||On(n[e.index]);{let r=RE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ai(n[Nn]);return la(i,r)}else return la(n,e.next)}}}return null}function RE(n,e){if(e!==null){let r=n[Nn][In],i=e.projection;return r.projection[i]}return null}function xp(n,e){let t=nn+n+1;if(t<e.length){let r=e[t],i=r[me].firstChild;if(i!==null)return la(r,i)}return e[Si]}function zP(n,e,t){n.removeChild(null,e,t)}function Ig(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Pi(On(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Ig(n,e,t.child,r,i,o,!1),To(e,n,i,c,o);else if(u&32){let l=vg(t,r),h;for(;h=l();)To(e,n,i,h,o);To(e,n,i,c,o)}else u&16?qP(n,e,r,t,i,o):To(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Vl(n,e,t,r,i,o){Ig(t,r,n.firstChild,e,i,o,!1)}function qP(n,e,t,r,i,o){let s=t[Nn],u=s[In].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];To(e,n,i,h,o)}else{let l=u,h=s[At];gE(r)&&(l.flags|=128),Ig(n,e,l,h,i,o,!0)}}function HP(n,e,t,r,i){let o=t[Si],s=On(t);o!==s&&To(e,n,r,o,i);for(let c=nn;c<t.length;c++){let u=t[c];Vl(u[me],u,n,e,r,o)}}function GP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:or.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=or.Important),n.setStyle(t,r,i,o))}}function WP(n,e,t){n.setAttribute(e,"style",t)}function NE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&dp(n,e,r),i!==null&&NE(n,e,i),o!==null&&WP(n,e,o)}var Kr={};function N(n=1){kE(Mt(),Se(),Bo()+n,!1)}function kE(n,e,t,r){if(!r)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Qu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yu(e,o,0,t)}Mi(t)}function k(n,e=de.Default){let t=Se();if(t===null)return G(n,e);let r=xt();return aE(r,t,Tt(n),e)}function FE(n,e,t,r,i,o){let s=Ee(null);try{let c=null;i&zr.SignalBased&&(c=e[r][er]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&zr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,c,o,t,r):RI(e,c,r,o)}finally{Ee(s)}}function KP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Mi(~i);else{let o=i,s=t[++r],c=t[++r];Fx(s,o);let u=e[o];c(2,u)}}}finally{Mi(-1)}}function Ll(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[ar]=i,p[oe]=r|4|128|8|64,(l!==null||n&&n[oe]&2048)&&(p[oe]|=2048),jI(p),p[At]=p[Uo]=n,p[yn]=t,p[Rn]=s||n&&n[Rn],p[Ze]=c||n&&n[Ze],p[Ro]=u||n&&n[Ro]||null,p[In]=o,p[Ml]=gP(),p[rl]=h,p[MI]=l,p[Nn]=e.type==2?n[Nn]:p,p}function jl(n,e,t,r,i){let o=n.data[e];if(o===null)o=QP(n,e,t,r,i),kx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=xx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ea(o,!0),o}function QP(n,e,t,r,i){let o=qI(),s=HI(),c=s?o:o&&o.parent,u=n.data[e]=eR(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function VE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function LE(n,e,t,r,i){let o=Bo(),s=r&2;try{Mi(-1),s&&e.length>vn&&kE(n,e,vn,!1),Mn(s?2:0,i),t(r,i)}finally{Mi(o),Mn(s?3:1,i)}}function jE(n,e,t){if(PI(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{Ee(r)}}}function UE(n,e,t){zI()&&(sR(n,e,t,an(t,e)),(t.flags&64)===64&&HE(n,e,t))}function BE(n,e,t=an){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function $E(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Eg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Eg(n,e,t,r,i,o,s,c,u,l,h){let p=vn+r,m=p+i,y=YP(p,m),T=typeof l=="function"?l():l;return y[me]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function YP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Kr);return t}function ZP(n,e,t,r){let o=r.get(EP,IE)||t===Pn.ShadowDom,s=n.selectRootElement(e,o);return JP(s),s}function JP(n){XP(n)}var XP=()=>null;function eR(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Sx()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jw(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=zr.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?Uw(r,t,l,c,u):Uw(r,t,l,c)}return r}function Uw(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function tR(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=t?t.get(p):null,y=m?m.inputs:null,T=m?m.outputs:null;u=jw(0,p.inputs,h,u,y),l=jw(1,p.outputs,h,l,T);let P=u!==null&&s!==null&&!Zp(e)?yR(u,h,s):null;c.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function nR(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Cg(n,e,t,r,i,o,s,c){let u=an(e,t),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(Dg(n,t,h,r,i),xl(e)&&rR(t,e.index)):e.type&3?(r=nR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function rR(n,e){let t=Wr(e,n);t[oe]&16||(t[oe]|=64)}function zE(n,e,t,r){if(zI()){let i=r===null?null:{"":-1},o=cR(n,t),s,c;o===null?s=c=null:[s,c]=o,s!==null&&qE(n,e,t,s,i,c),i&&uR(t,r,i)}t.mergedAttrs=pa(t.mergedAttrs,t.attrs)}function qE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Ip(hl(t,e),n,r[l].type);dR(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,c=!1,u=VE(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=pa(t.mergedAttrs,h.hostAttrs),hR(n,t,e,u,h),lR(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}tR(n,t,o)}function iR(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;oR(s)!=c&&s.push(c),s.push(t,r,o)}}function oR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sR(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;xl(t)&&fR(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||hl(t,e),Pi(r,e);let s=t.initialInputs;for(let c=i;c<o;c++){let u=n.data[c],l=ko(e,n,c,t);if(Pi(l,e),s!==null&&mR(e,c-i,l,u,t,s),qr(u)){let h=Wr(t.index,e);h[yn]=ko(e,n,c,t)}}}function HE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Vx();try{Mi(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];vp(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&aR(u,l)}}finally{Mi(-1),vp(s)}}function aR(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function cR(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(QM(e,s.selectors,!1))if(r||(r=[]),qr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Pp(n,e,u)}else r.unshift(s),Pp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uR(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Y(-301,!1);r.push(e[i],o)}}}function lR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qr(e)&&(t[""]=n)}}function dR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hR(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=bi(i.type,!0)),s=new xi(o,qr(i),k);n.blueprint[r]=s,t[r]=s,iR(n,e,r,VE(n,t,i.hostVars,Kr),i)}function fR(n,e,t){let r=an(e,n),i=$E(t),o=n[Rn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let c=Ul(n,Ll(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=c}function pR(n,e,t,r,i,o){let s=an(n,e);gR(e[Ze],s,o,n.value,t,r,i)}function gR(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?Tl(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function mR(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],h=s[c++],p=s[c++];FE(r,t,u,l,h,p)}}function yR(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],t[i+1]);break}}i+=2}return r}function GE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function WE(n,e){let t=n.contentQueries;if(t!==null){let r=Ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];WI(o),c.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function Ul(n,e){return n[ma]?n[bw][mn]=e:n[ma]=e,n[bw]=e,e}function Rp(n,e,t){WI(0);let r=Ee(null);try{e(n,t)}finally{Ee(r)}}function vR(n){return n[il]??=[]}function _R(n){return n.cleanup??=[]}function KE(n,e){let t=n[Ro],r=t?t.get(ir,null):null;r&&r.handleError(e)}function Dg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],c=t[o++],u=t[o++],l=e[s],h=n.data[s];FE(h,l,r,c,u,i)}}function wR(n,e,t){let r=FI(e,n);xP(n[Ze],r,t)}function IR(n,e){let t=Wr(e,n),r=t[me];ER(r,t);let i=t[ar];i!==null&&t[rl]===null&&(t[rl]=mg(i,t[Ro])),bg(r,t,t[yn])}function ER(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function bg(n,e,t){ig(e);try{let r=n.viewQuery;r!==null&&Rp(1,r,t);let i=n.template;i!==null&&LE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Oo]?.finishViewCreation(n),n.staticContentQueries&&WE(n,e),n.staticViewQueries&&Rp(2,n.viewQuery,t);let o=n.components;o!==null&&CR(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,og()}}function CR(n,e){for(let t=0;t<e.length;t++)IR(n,e[t])}function DR(n,e,t,r){let i=Ee(null);try{let o=e.tView,c=n[oe]&4096?4096:16,u=Ll(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[No]=l;let h=n[Oo];return h!==null&&(u[Oo]=h.createEmbeddedView(o)),bg(o,u,t),u}finally{Ee(i)}}function Bw(n,e){return!e||e.firstChild===null||gE(n)}function bR(n,e,t,r=!0){let i=e[me];if(OP(i,e,n,t),r){let s=xp(t,n),c=e[Ze],u=PE(c,n[Si]);u!==null&&RP(i,n[In],c,e,u,s)}let o=e[rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(On(o)),cr(o)&&TR(o,r);let s=t.type;if(s&8)yl(n,e,t.child,r);else if(s&32){let c=vg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=RE(e,t);if(Array.isArray(c))r.push(...c);else{let u=Ai(e[Nn]);yl(u[me],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function TR(n,e){for(let t=nn;t<n.length;t++){let r=n[t],i=r[me].firstChild;i!==null&&yl(r[me],r,i,e)}n[Si]!==n[ar]&&e.push(n[Si])}var QE=[];function SR(n){return n[tn]??AR(n)}function AR(n){let e=QE.pop()??Object.create(xR);return e.lView=n,e}function MR(n){n.lView[tn]!==n&&(n.lView=null,QE.push(n))}var xR=ge(j({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Rl(n.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function PR(n){let e=n[tn]??Object.create(RR);return e.lView=n,e}var RR=ge(j({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ai(n.lView);for(;e&&!YE(e[me]);)e=Ai(e);e&&UI(e)},consumerOnSignalRead(){this.lView[tn]=this}});function YE(n){return n.type!==2}var NR=100;function ZE(n,e=!0,t=0){let r=n[Rn],i=r.rendererFactory,o=!1;o||i.begin?.();try{OR(n,t)}catch(s){throw e&&KE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function OR(n,e){let t=GI();try{Sw(!0),Np(n,e);let r=0;for(;Pl(n);){if(r===NR)throw new Y(103,!1);r++,Np(n,1)}}finally{Sw(t)}}function kR(n,e,t,r){let i=e[oe];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Rn].inlineEffectRunner?.flush(),ig(e);let c=!0,u=null,l=null;o||(YE(n)?(l=SR(e),u=uu(l)):O0()===null?(c=!1,l=PR(e),u=uu(l)):e[tn]&&(Af(e[tn]),e[tn]=null));try{jI(e),Nx(n.bindingStartIndex),t!==null&&LE(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Qu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Yu(e,y,0,null),Zf(e,0)}if(s||FR(e),JE(e,0),n.contentQueries!==null&&WE(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Qu(e,y)}else{let y=n.contentHooks;y!==null&&Yu(e,y,1),Zf(e,1)}KP(n,e);let p=n.components;p!==null&&eC(e,p,0);let m=n.viewQuery;if(m!==null&&Rp(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Qu(e,y)}else{let y=n.viewHooks;y!==null&&Yu(e,y,2),Zf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Yf]){for(let y of e[Yf])y();e[Yf]=null}o||(e[oe]&=-73)}catch(h){throw o||Rl(e),h}finally{l!==null&&(Tf(l,u),c&&MR(l)),og()}}function JE(n,e){for(let t=yE(n);t!==null;t=vE(t))for(let r=nn;r<t.length;r++){let i=t[r];XE(i,e)}}function FR(n){for(let e=yE(n);e!==null;e=vE(e)){if(!(e[oe]&al.HasTransplantedViews))continue;let t=e[sl];for(let r=0;r<t.length;r++){let i=t[r];UI(i)}}}function VR(n,e,t){let r=Wr(e,n);XE(r,t)}function XE(n,e){ng(n)&&Np(n,e)}function Np(n,e){let r=n[me],i=n[oe],o=n[tn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sf(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)kR(r,n,r.template,n[yn]);else if(i&8192){JE(n,1);let c=r.components;c!==null&&eC(n,c,1)}}function eC(n,e,t){for(let r=0;r<e.length;r++)VR(n,e[r],t)}function Tg(n,e){let t=GI()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let r=Ai(n);if(gp(n)&&!r)return n;n=r}return null}var Ri=class{get rootNodes(){let e=this._lView,t=e[me];return yl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yn]}set context(e){this._lView[yn]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(cr(e)){let t=e[ol],r=t?t.indexOf(this):-1;r>-1&&(Mp(e,r),tl(t,r))}this._attachedToViewContainer=!1}ME(this._lView[me],this._lView)}onDestroy(e){BI(this._lView,e)}markForCheck(){Tg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){yp(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,ZE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gp(this._lView),t=this._lView[No];t!==null&&!e&&_g(t,this._lView),SE(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let t=gp(this._lView),r=this._lView[No];r!==null&&!t&&AE(r,this._lView),yp(this._lView)}},Bl=(()=>{class n{static{this.__NG_ELEMENT_ID__=UR}}return n})(),LR=Bl,jR=class extends LR{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=DR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ri(i)}};function UR(){return BR(xt(),Se())}function BR(n,e){return n.type&4?new jR(e,n,kl(n,e)):null}var NH=new RegExp(`^(\\d+)*(${wP}|${_P})*(.*)`);var $R=()=>null;function $w(n,e){return $R(n,e)}var Fo=class{},$l=new z("",{providedIn:"root",factory:()=>!1});var tC=new z(""),nC=new z(""),Op=class{},vl=class{};function zR(n){let e=Error(`No component factory found for ${St(n)}.`);return e[qR]=n,e}var qR="ngComponent";var kp=class{resolveComponentFactory(e){throw zR(e)}},Vo=class{static{this.NULL=new kp}},Lo=class{},Vn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>HR()}}return n})();function HR(){let n=Se(),e=xt(),t=Wr(e.index,n);return($r(t)?t:n)[Ze]}var GR=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}}return n})();function Fp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=gw(i,c);else if(o==2){let u=c,l=e[++s];r=gw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var _l=class extends Vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ti(e);return new ya(t,this.ngModule)}};function zw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:zr.None;e?t.push({propName:s,templateName:r,isSignal:(c&zr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function WR(n){let e=n.toLowerCase();return e==="svg"?_x:e==="math"?wx:null}var ya=class extends vl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=zw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return zw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=XM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ee(null);try{i=i||this.ngModule;let s=i instanceof Ot?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new _p(e,s):e,u=c.get(Lo,null);if(u===null)throw new Y(407,!1);let l=c.get(GR,null),h=c.get(Fo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=r?ZP(m,r,this.componentDef.encapsulation,c):TE(m,y,WR(y)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let A=null;T!==null&&(A=mg(T,c,!0));let F=Eg(0,null,null,1,0,null,null,null,null,null,null),q=Ll(null,F,null,P,null,null,p,m,c,null,A);ig(q);let L,J,he=null;try{let re=this.componentDef,I,v=null;re.findHostDirectiveDefs?(I=[],v=new Map,re.findHostDirectiveDefs(re,I,v),I.push(re)):I=[re];let w=KR(q,T);he=QR(w,T,re,I,q,p,m),J=VI(F,vn),T&&JR(m,re,T,r),t!==void 0&&XR(J,this.ngContentSelectors,t),L=ZR(he,re,I,v,q,[e1]),bg(F,q,null)}catch(re){throw he!==null&&Sp(he),Sp(q),re}finally{og()}return new Vp(this.componentType,L,kl(J,q),q,J)}finally{Ee(o)}}},Vp=class extends Op{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ri(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Dg(o[me],o,i,e,t),this.previousInputValues.set(e,t);let s=Wr(this._tNode.index,o);Tg(s,1)}}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KR(n,e){let t=n[me],r=vn;return n[r]=e,jl(t,r,2,"#host",null)}function QR(n,e,t,r,i,o,s){let c=i[me];YR(r,n,e,s);let u=null;e!==null&&(u=mg(e,i[Ro]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ll(i,$E(t),null,h,i[n.index],n,o,l,null,null,u);return c.firstCreatePass&&Pp(c,n,r.length-1),Ul(i,p),i[n.index]=p}function YR(n,e,t,r){for(let i of n)e.mergedAttrs=pa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Fp(e,e.mergedAttrs,!0),t!==null&&OE(r,t,e))}function ZR(n,e,t,r,i,o){let s=xt(),c=i[me],u=an(s,i);qE(c,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,m=ko(i,c,p,s);Pi(m,i)}HE(c,i,s),u&&Pi(u,i);let l=ko(i,c,s.directiveStart+s.componentOffset,s);if(n[yn]=i[yn]=l,o!==null)for(let h of o)h(l,e);return jE(c,s,i),l}function JR(n,e,t,r){if(r)dp(n,t,["ng-version","18.2.7"]);else{let{attrs:i,classes:o}=ex(e.selectors[0]);i&&dp(n,t,i),o&&o.length>0&&NE(n,t,o.join(" "))}}function XR(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function e1(){let n=xt();cg(Se()[me],n)}var $o=(()=>{class n{static{this.__NG_ELEMENT_ID__=t1}}return n})();function t1(){let n=xt();return r1(n,Se())}var n1=$o,rC=class extends n1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let e=ug(this._hostTNode,this._hostLView);if(tE(e)){let t=ll(e,this._hostLView),r=ul(e),i=t[me].data[r+8];return new Di(i,t)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=qw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$w(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Bw(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!gx(e),c;if(s)c=t;else{let T=t||{};c=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new ya(Ti(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Ot,null);P&&(o=P)}let h=Ti(u.componentType??{}),p=$w(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,c,Bw(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Ix(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[At],l=new rC(u,u[In],u[At]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return bR(s,i,o,r),e.attachToViewContainerRef(),hI(np(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=qw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Mp(this._lContainer,t);r&&(tl(np(this._lContainer),t),ME(r[me],r))}detach(e){let t=this._adjustIndex(e,-1),r=Mp(this._lContainer,t);return r&&tl(np(this._lContainer),t)!=null?new Ri(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function qw(n){return n[ol]}function np(n){return n[ol]||(n[ol]=[])}function r1(n,e){let t,r=e[n.index];return cr(r)?t=r:(t=GE(r,e,null,n),e[n.index]=t,Ul(e,t)),o1(t,e,n,r),new rC(t,n,e)}function i1(n,e){let t=n[Ze],r=t.createComment(""),i=an(e,n),o=PE(t,i);return ml(t,o,r,jP(t,i),!1),r}var o1=c1,s1=()=>!1;function a1(n,e,t){return s1(n,e,t)}function c1(n,e,t,r){if(n[Si])return;let i;t.type&8?i=On(r):i=i1(e,t),n[Si]=i}var Hw=new Set;function zo(n){Hw.has(n)||(Hw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function u1(n){return typeof n=="function"&&n[er]!==void 0}function Da(n,e){zo("NgSignals");let t=H0(n),r=t[er];return e?.equal&&(r.equal=e.equal),t.set=i=>Mf(r,i),t.update=i=>G0(r,i),t.asReadonly=l1.bind(t),t}function l1(){let n=this[er];if(n.readonlyFn===void 0){let e=()=>this();e[er]=n,n.readonlyFn=e}return n.readonlyFn}function iC(n){return u1(n)&&typeof n.set=="function"}function d1(n){return Object.getPrototypeOf(n.prototype).constructor}function qt(n){let e=d1(n.type),t=!0,r=[n];for(;e;){let i;if(qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Hu(n.inputs),s.inputTransforms=Hu(n.inputTransforms),s.declaredInputs=Hu(n.declaredInputs),s.outputs=Hu(n.outputs);let c=i.hostBindings;c&&m1(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&p1(n,u),l&&g1(n,l),h1(n,i),IM(n.outputs,i.outputs),qr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===qt&&(t=!1)}}e=Object.getPrototypeOf(e)}f1(r)}function h1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function f1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pa(i.hostAttrs,t=pa(t,i.hostAttrs))}}function Hu(n){return n===Mo?{}:n===en?[]:n}function p1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function g1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function m1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Sg(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Hr=class{},va=class{};var Lp=class extends Hr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _l(this);let o=EI(e);this._bootstrapComponents=bE(o.bootstrap),this._r3Injector=lE(e,t,[{provide:Hr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jp=class extends va{constructor(e){super(),this.moduleType=e}create(e){return new Lp(this.moduleType,e,[])}};var wl=class extends Hr{constructor(e){super(),this.componentFactoryResolver=new _l(this),this.instance=null;let t=new ga([...e.providers,{provide:Hr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],e.parent||eg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ag(n,e,t=null){return new wl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function oC(n){return v1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function y1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function v1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function sC(n,e,t){return n[e]=t}function Gr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _1(n,e,t,r){let i=Gr(n,e,t);return Gr(n,e+1,r)||i}function w1(n){return(n.flags&32)===32}function I1(n,e,t,r,i,o,s,c,u){let l=e.consts,h=jl(e,n,4,s||null,c||null);zE(e,t,h,cl(l,u)),cg(e,h);let p=h.tView=Eg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function E1(n,e,t,r,i,o,s,c,u,l){let h=t+vn,p=e.firstCreatePass?I1(h,e,n,r,i,o,s,c,u):e.data[h];Ea(p,!1);let m=C1(e,n,p,t);sg()&&wg(e,n,m,p),Pi(m,n);let y=GE(m,n,m,p);return n[h]=y,Ul(n,y),a1(y,p,n),tg(p)&&UE(e,n,p),u!=null&&BE(n,p,l),p}function we(n,e,t,r,i,o,s,c){let u=Se(),l=Mt(),h=cl(l.consts,o);return E1(u,l,n,e,t,r,i,h,s,c),we}var C1=D1;function D1(n,e,t,r){return ag(!0),e[Ze].createComment("")}var da=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(da||{}),b1=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Gw=class n{constructor(){this.ngZone=B(Ce),this.scheduler=B(Fo),this.errorHandler=B(ir,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[da.EarlyRead,da.Write,da.MixedReadWrite,da.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}};function ba(n,e,t,r){let i=Se(),o=Nl();if(Gr(i,o,e)){let s=Mt(),c=Ol();pR(c,i,n,e,t,r)}return ba}function aC(n,e,t,r){return Gr(n,Nl(),t)?e+Tl(t)+r:Kr}function Gu(n,e){return n<<17|e<<2}function Ni(n){return n>>17&32767}function T1(n){return(n&2)==2}function S1(n,e){return n&131071|e<<17}function Up(n){return n|2}function jo(n){return(n&131068)>>2}function rp(n,e){return n&-131069|e<<2}function A1(n){return(n&1)===1}function Bp(n){return n|1}function M1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ni(s),u=jo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ia(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ni(n[c+1]);n[r+1]=Gu(m,c),m!==0&&(n[m+1]=rp(n[m+1],r)),n[c+1]=S1(n[c+1],r)}else n[r+1]=Gu(c,0),c!==0&&(n[c+1]=rp(n[c+1],r)),c=r;else n[r+1]=Gu(u,0),c===0?c=r:n[u+1]=rp(n[u+1],r),u=r;l&&(n[r+1]=Up(n[r+1])),Ww(n,h,r,!0),Ww(n,h,r,!1),x1(e,h,n,r,o),s=Gu(c,u),o?e.classBindings=s:e.styleBindings=s}function x1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ia(o,e)>=0&&(t[r+1]=Bp(t[r+1]))}function Ww(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ni(i):jo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];P1(u,e)&&(c=!0,n[s+1]=r?Bp(l):Up(l)),s=r?Ni(l):jo(l)}c&&(n[t+1]=r?Up(i):Bp(i))}function P1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ia(n,e)>=0:!1}function H(n,e,t){let r=Se(),i=Nl();if(Gr(r,i,e)){let o=Mt(),s=Ol();Cg(o,s,r,n,e,r[Ze],t,!1)}return H}function Kw(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Dg(n,t,o[s],s,r)}function dr(n,e){return R1(n,e,null,!0),dr}function R1(n,e,t,r){let i=Se(),o=Mt(),s=Ox(2);if(o.firstUpdatePass&&O1(o,n,s,r),e!==Kr&&Gr(i,s,e)){let c=o.data[Bo()];j1(o,c,i,i[Ze],n,i[s+1]=U1(e,t),r,s)}}function N1(n,e){return e>=n.expandoStartIndex}function O1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Bo()],s=N1(n,t);B1(o,r)&&e===null&&!s&&(e=!1),e=k1(i,o,e,r),M1(i,o,e,t,s,r)}}function k1(n,e,t,r){let i=Lx(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ip(null,n,e,t,r),t=_a(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ip(i,n,e,t,r),o===null){let u=F1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ip(null,n,e,u[1],r),u=_a(u,e.attrs,r),V1(n,e,r,u))}else o=L1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function F1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(jo(r)!==0)return n[Ni(r)]}function V1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ni(i)]=r}function L1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=_a(r,s,t)}return _a(r,e.attrs,t)}function ip(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=_a(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function _a(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),BM(n,s,t?!0:e[++o]))}return n===void 0?null:n}function j1(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=A1(l)?Qw(u,e,t,i,jo(l),s):void 0;if(!Il(h)){Il(o)||T1(l)&&(o=Qw(u,null,t,i,c,s));let p=FI(Bo(),t);GP(r,s,p,i,o)}}function Qw(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Kr&&(m=p?en:void 0);let y=p?Kf(m,r):h===r?m:void 0;if(l&&!Il(y)&&(y=Kf(u,r)),Il(y)&&(c=y,s))return c;let T=n[i+1];i=s?Ni(T):jo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Kf(u,r))}return c}function Il(n){return n!==void 0}function U1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=St(Ca(n)))),n}function B1(n,e){return(n.flags&(e?8:16))!==0}function $1(n,e,t,r,i,o){let s=e.consts,c=cl(s,i),u=jl(e,n,2,r,c);return zE(e,t,u,cl(s,o)),u.attrs!==null&&Fp(u,u.attrs,!1),u.mergedAttrs!==null&&Fp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(n,e,t,r){let i=Se(),o=Mt(),s=vn+n,c=i[Ze],u=o.firstCreatePass?$1(s,o,i,e,t,r):o.data[s],l=z1(o,i,u,c,e,n);i[s]=l;let h=tg(u);return Ea(u,!0),OE(c,l,u),!w1(u)&&sg()&&wg(o,i,l,u),Dx()===0&&Pi(l,i),bx(),h&&(UE(o,i,u),jE(o,u,i)),r!==null&&BE(i,u),M}function b(){let n=xt();HI()?Px():(n=n.parent,Ea(n,!1));let e=n;Ax(e)&&Mx(),Tx();let t=Mt();return t.firstCreatePass&&(cg(t,n),PI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Hx(e)&&Kw(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Gx(e)&&Kw(t,e,Se(),e.stylesWithoutHost,!1),b}function Z(n,e,t,r){return M(n,e,t,r),b(),Z}var z1=(n,e,t,r,i,o)=>(ag(!0),TE(r,i,Bx()));function Ft(){return Se()}var Ei=void 0;function q1(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var H1=["en",[["a","p"],["AM","PM"],Ei],[["AM","PM"],Ei,Ei],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ei,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ei,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ei,"{1} 'at' {0}",Ei],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",q1],op={};function zl(n){let e=G1(n),t=Yw(e);if(t)return t;let r=e.split("-")[0];if(t=Yw(r),t)return t;if(r==="en")return H1;throw new Y(701,!1)}function Yw(n){return n in op||(op[n]=Ci.ng&&Ci.ng.common&&Ci.ng.common.locales&&Ci.ng.common.locales[n]),op[n]}var Oi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Oi||{});function G1(n){return n.toLowerCase().replace(/_/g,"-")}var El="en-US",W1="USD";var K1=El;function Q1(n){typeof n=="string"&&(K1=n.toLowerCase().replace(/_/g,"-"))}var Y1=(n,e,t)=>{};function se(n,e,t,r){let i=Se(),o=Mt(),s=xt();return cC(o,i,i[Ze],s,n,e,r),se}function Z1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[il],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function cC(n,e,t,r,i,o,s){let c=tg(r),l=n.firstCreatePass&&_R(n),h=e[yn],p=vR(e),m=!0;if(r.type&3||s){let P=an(r,e),A=s?s(P):P,F=p.length,q=s?J=>s(On(J[r.index])):r.index,L=null;if(!s&&c&&(L=Z1(n,e,i,r.index)),L!==null){let J=L.__ngLastListenerFn__||L;J.__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,m=!1}else{o=Jw(r,e,h,o),Y1(P,i,o);let J=t.listen(A,i,o);p.push(o,J),l&&l.push(i,q,F,F+1)}}else o=Jw(r,e,h,o);let y=r.outputs,T;if(m&&y!==null&&(T=y[i])){let P=T.length;if(P)for(let A=0;A<P;A+=2){let F=T[A],q=T[A+1],he=e[F][q].subscribe(o),re=p.length;p.push(o,he),l&&l.push(i,r.index,re,-(re+1))}}}function Zw(n,e,t,r){let i=Ee(null);try{return Mn(6,e,t),t(r)!==!1}catch(o){return KE(n,o),!1}finally{Mn(7,e,t),Ee(i)}}function Jw(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Wr(n.index,e):e;Tg(s,5);let c=Zw(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)c=Zw(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function be(n=1){return Ux(n)}function Ln(n,e,t){return jn(n,"",e,"",t),Ln}function jn(n,e,t,r,i){let o=Se(),s=aC(o,e,t,r);if(s!==Kr){let c=Mt(),u=Ol();Cg(c,u,o,n,s,o[Ze],i,!1)}return jn}function J1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function uC(n){let e=Rx();return LI(e,vn+n)}function R(n,e=""){let t=Se(),r=Mt(),i=n+vn,o=r.firstCreatePass?jl(r,i,1,e,null):r.data[i],s=X1(r,t,o,e,n);t[i]=s,sg()&&wg(r,t,s,o),Ea(o,!1)}var X1=(n,e,t,r,i)=>(ag(!0),MP(e[Ze],r));function ot(n){return pe("",n,""),ot}function pe(n,e,t){let r=Se(),i=aC(r,n,e,t);return i!==Kr&&wR(r,Bo(),i),pe}function Ta(n,e,t){iC(e)&&(e=e());let r=Se(),i=Nl();if(Gr(r,i,e)){let o=Mt(),s=Ol();Cg(o,s,r,n,e,r[Ze],t,!1)}return Ta}function ql(n,e){let t=iC(n);return t&&n.set(e),t}function Sa(n,e){let t=Se(),r=Mt(),i=xt();return cC(r,t,t[Ze],i,n,e),Sa}function eN(n,e,t){let r=Mt();if(r.firstCreatePass){let i=qr(n);$p(t,r.data,r.blueprint,i,!0),$p(e,r.data,r.blueprint,i,!1)}}function $p(n,e,t,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)$p(n[o],e,t,r,i);else{let o=Mt(),s=Se(),c=xt(),u=Po(n)?n:Tt(n.provide),l=AI(n),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Po(n)||!n.multi){let y=new xi(l,i,k),T=ap(u,e,i?h:h+m,p);T===-1?(Ip(hl(c,s),o,u),sp(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=ap(u,e,h+m,p),T=ap(u,e,h,h+m),P=y>=0&&t[y],A=T>=0&&t[T];if(i&&!A||!i&&!P){Ip(hl(c,s),o,u);let F=rN(i?nN:tN,t.length,i,r,l);!i&&A&&(t[T].providerFactory=F),sp(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=lC(t[i?T:y],l,!i&&r);sp(o,n,y>-1?y:T,F)}!i&&r&&A&&t[T].componentProviders++}}}function sp(n,e,t,r){let i=Po(e),o=ax(e);if(i||o){let u=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function lC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ap(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tN(n,e,t,r){return zp(this.multi,[])}function nN(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=ko(t,t[me],this.providerFactory.index,r);o=c.slice(0,s),zp(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],zp(i,o);return o}function zp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function rN(n,e,t,r,i){let o=new xi(n,t,k);return o.multi=[],o.index=e,o.componentProviders=0,lC(o,i,r&&!t),o}function hr(n,e=[]){return t=>{t.providersResolver=(r,i)=>eN(r,i?i(n):n,e)}}var iN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bI(!1,t.type),i=r.length>0?Ag([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(G(Ot))})}}return n})();function Ne(n){zo("NgStandalone"),n.getStandaloneInjector=e=>e.get(iN).getOrCreateStandaloneInjector(n)}function dC(n,e,t,r){return fC(Se(),rg(),n,e,t,r)}function Aa(n,e,t,r,i){return oN(Se(),rg(),n,e,t,r,i)}function hC(n,e){let t=n[e];return t===Kr?void 0:t}function fC(n,e,t,r,i,o){let s=e+t;return Gr(n,s,i)?sC(n,s+1,o?r.call(o,i):r(i)):hC(n,s+1)}function oN(n,e,t,r,i,o,s){let c=e+t;return _1(n,c,i,o)?sC(n,c+2,s?r.call(s,i,o):r(i,o)):hC(n,c+2)}function pC(n,e){let t=Mt(),r,i=n+vn;t.firstCreatePass?(r=sN(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=bi(r.type,!0)),s,c=Nt(k);try{let u=dl(!1),l=o();return dl(u),J1(t,Se(),i,l),l}finally{Nt(c)}}function sN(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function gC(n,e,t){let r=n+vn,i=Se(),o=LI(i,r);return aN(i,r)?fC(i,rg(),e,o.transform,t,o):o.transform(t)}function aN(n,e){return n[me].data[e].pure}var sr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Mg=new sr("18.2.7");var Hl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var mC=new z("");function ki(n){return!!n&&typeof n.then=="function"}function yC(n){return!!n&&typeof n.subscribe=="function"}var vC=new z(""),_C=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=B(vC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ki(o))t.push(o);else if(yC(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gl=new z("");function cN(){q0(()=>{throw new Y(600,!1)})}function uN(n){return n.isBoundToModule}var lN=10;function dN(n,e,t){try{let r=t();return ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Qr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(hP),this.afterRenderManager=B(b1),this.zonelessEnabled=B($l),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new je,this.afterTick=new je,this.componentTypes=[],this.components=[],this.isStable=B(lr).hasPendingTasks.pipe(te(t=>!t)),this._injector=B(Ot)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof vl;if(!this._injector.get(_C).done){let m=!i&&II(t),y=!1;throw new Y(405,y)}let s;i?s=t:s=this._injector.get(Vo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=uN(s)?void 0:this._injector.get(Hr),u=r||s.selector,l=s.create(kt.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(mC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Zu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let t=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ee(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Lo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<lN;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)hN(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Pl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Zu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Gl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Zu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Y(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function hN(n,e,t,r){if(!t&&!Pl(n))return;ZE(n,e,t&&!r?0:1)}var qp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xg=(()=>{class n{compileModuleSync(t){return new jp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=EI(t),o=bE(i.declarations).reduce((s,c)=>{let u=Ti(c);return u&&s.push(new ya(u)),s},[]);return new qp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fN=(()=>{class n{constructor(){this.zone=B(Ce),this.changeDetectionScheduler=B(Fo),this.applicationRef=B(Qr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pN=new z("",{factory:()=>!1});function wC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(ge(j({},EC()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:xo,multi:!0,useFactory:()=>{let r=B(fN,{optional:!0});return()=>r.initialize()}},{provide:xo,multi:!0,useFactory:()=>{let r=B(gN);return()=>{r.initialize()}}},e===!0?{provide:tC,useValue:!0}:[],{provide:nC,useValue:t??dE}]}function IC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=wC({ngZoneFactory:()=>{let i=EC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&zo("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return sn([{provide:pN,useValue:!0},{provide:$l,useValue:!1},r])}function EC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var gN=(()=>{class n{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=B(Ce),this.pendingTasks=B(lr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mN=(()=>{class n{constructor(){this.appRef=B(Qr),this.taskService=B(lr),this.ngZone=B(Ce),this.zonelessEnabled=B($l),this.disableScheduling=B(tC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(nC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Rw:fE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yN(){return typeof $localize<"u"&&$localize.locale||El}var Wl=new z("",{providedIn:"root",factory:()=>B(Wl,de.Optional|de.SkipSelf)||yN()}),CC=new z("",{providedIn:"root",factory:()=>W1});var DC=new z("");function Wu(n){return!!n.platformInjector}function vN(n){let e=Wu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{Wu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ir,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Wu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(DC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{Zu(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return dN(r,t,()=>{let o=e.get(_C);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Wl,El);if(Q1(s||El),Wu(n)){let c=e.get(Qr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return _N(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function _N(n,e){let t=n.injector.get(Qr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Y(-403,!1);e.push(n)}var Ju=null;function wN(n=[],e){return kt.create({name:e,providers:[{provide:Al,useValue:"platform"},{provide:DC,useValue:new Set([()=>Ju=null])},...n]})}function IN(n=[]){if(Ju)return Ju;let e=wN(n);return Ju=e,cN(),EN(e),e}function EN(n){n.get(pg,null)?.forEach(t=>t())}function Pg(){return!1}var Fi=(()=>{class n{static{this.__NG_ELEMENT_ID__=CN}}return n})();function CN(n){return DN(xt(),Se(),(n&16)===16)}function DN(n,e,t){if(xl(n)&&!t){let r=Wr(n.index,e);return new Ri(r,r)}else if(n.type&175){let r=e[Nn];return new Ri(r,e)}return null}var Hp=class{constructor(){}supports(e){return oC(e)}create(e){return new Gp(e)}},bN=(n,e)=>e,Gp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Xw(r,i,o)?t:r,c=Xw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!oC(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,y1(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Wp(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Kp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Cl=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Kp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function eI(){return new Rg([new Hp])}var Rg=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:eI})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eI()),deps:[[n,new dI,new _t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Y(901,!1)}}return n})();function bC(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=IN(r),o=[wC({}),{provide:Fo,useExisting:mN},...t||[]],s=new wl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return vN({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Vi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ma(n,e){zo("NgSignals");let t=B0(n);return e?.equal&&(t[er].equal=e.equal),t}function fr(n){let e=Ee(null);try{return n()}finally{Ee(e)}}var NC=null;function gr(){return NC}function OC(n){NC??=n}var Kl=class{};var Vt=new z(""),kC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>B(SN),providedIn:"platform"})}}return n})();var SN=(()=>{class n extends kC{constructor(){super(),this._doc=B(Vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(t){let r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function FC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function TC(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Li(n){return n&&n[0]!=="?"?"?"+n:n}var Ho=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>B(VC),providedIn:"root"})}}return n})(),AN=new z(""),VC=(()=>{class n extends Ho{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return FC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Li(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Li(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Li(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G(kC),G(AN,8))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ra=(()=>{class n{constructor(t){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=PN(TC(SC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Li(r))}normalize(t){return n.stripTrailingSlash(xN(this._basePath,SC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Li(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Li(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Li}static{this.joinWithSlash=FC}static{this.stripTrailingSlash=TC}static{this.\u0275fac=function(r){return new(r||n)(G(Ho))}}static{this.\u0275prov=Q({token:n,factory:()=>MN(),providedIn:"root"})}}return n})();function MN(){return new Ra(G(Ho))}function xN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function SC(n){return n.replace(/\/index.html$/,"")}function PN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var LC={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},jC=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(jC||{});var pr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xa(n,e){let t=zl(n),r=t[Oi.NumberSymbols][e];if(typeof r>"u"){if(e===pr.CurrencyDecimal)return t[Oi.NumberSymbols][pr.Decimal];if(e===pr.CurrencyGroup)return t[Oi.NumberSymbols][pr.Group]}return r}function RN(n,e){return zl(n)[Oi.NumberFormats][e]}function NN(n){return zl(n)[Oi.Currencies]}function ON(n,e,t="en"){let r=NN(t)[n]||LC[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var kN=2;function FN(n){let e,t=LC[n];return t&&(e=t[2]),typeof e=="number"?e:kN}var VN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,AC=22,Ql=".",Pa="0",LN=";",jN=",",Ng="#",MC="\xA4";function UN(n,e,t,r,i,o,s=!1){let c="",u=!1;if(!isFinite(n))c=xa(t,pr.Infinity);else{let l=qN(n);s&&(l=zN(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let q=o.match(VN);if(q===null)throw new Error(`${o} is not a valid digit info`);let L=q[1],J=q[3],he=q[5];L!=null&&(h=Og(L)),J!=null&&(p=Og(J)),he!=null?m=Og(he):J!=null&&p>m&&(m=p)}HN(l,p,m);let y=l.digits,T=l.integerLen,P=l.exponent,A=[];for(u=y.every(q=>!q);T<h;T++)y.unshift(0);for(;T<0;T++)y.unshift(0);T>0?A=y.splice(T,y.length):(A=y,y=[0]);let F=[];for(y.length>=e.lgSize&&F.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)F.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&F.unshift(y.join("")),c=F.join(xa(t,r)),A.length&&(c+=xa(t,i)+A.join("")),P&&(c+=xa(t,pr.Exponential)+"+"+P)}return n<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function BN(n,e,t,r,i){let o=RN(e,jC.Currency),s=$N(o,xa(e,pr.MinusSign));return s.minFrac=FN(r),s.maxFrac=s.minFrac,UN(n,s,e,pr.CurrencyGroup,pr.CurrencyDecimal,i).replace(MC,t).replace(MC,"").trim()}function $N(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(LN),i=r[0],o=r[1],s=i.indexOf(Ql)!==-1?i.split(Ql):[i.substring(0,i.lastIndexOf(Pa)+1),i.substring(i.lastIndexOf(Pa)+1)],c=s[0],u=s[1]||"";t.posPre=c.substring(0,c.indexOf(Ng));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Pa?t.minFrac=t.maxFrac=h+1:p===Ng?t.maxFrac=h+1:t.posSuf+=p}let l=c.split(jN);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(Ng);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function zN(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function qN(n){let e=Math.abs(n)+"",t=0,r,i,o,s,c;for((i=e.indexOf(Ql))>-1&&(e=e.replace(Ql,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Pa;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===Pa;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>AC&&(r=r.splice(0,AC-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function HN(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,c=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,m,y,T){return m=m+p,T[y]=m<10?m:m-10,u&&(T[y]===0&&y>=l?T.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function Og(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Yl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var kg=/\s+/,xC=[],Go=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=xC,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(kg):xC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(kg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(kg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(k(En),k(Vn))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Fg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},st=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Fg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),PC(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);PC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(k($o),k(Bl),k(Rg))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function PC(n,e){n.context.$implicit=e.item}var Lt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(k($o),k(Bl))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Vg=class{constructor(){this.$implicit=null,this.ngIf=null}};function RC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${St(e)}'.`)}function GN(n,e){return new Y(2100,!1)}var UC=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!WN(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=ON(c,i==="symbol"?"wide":"narrow",s):c=i);try{let u=KN(t);return BN(u,s,c,r,o)}catch(u){throw GN(n,u.message)}}static{this.\u0275fac=function(r){return new(r||n)(k(Wl,16),k(CC,16))}}static{this.\u0275pipe=vI({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();function WN(n){return!(n==null||n===""||n!==n)}function KN(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Ht=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=on({type:n})}static{this.\u0275inj=rn({})}}return n})(),BC="browser",QN="server";function Wo(n){return n===QN}var qo=class{};var Oa=class{},Jl=class{},mr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var jg=class{encodeKey(e){return $C(e)}encodeValue(e){return $C(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function YN(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(c),t.set(s,u)}),t}var ZN=/%(\d[a-f0-9])/gi,JN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $C(n){return encodeURIComponent(n).replace(ZN,(e,t)=>JN[t]??e)}function Zl(n){return`${n}`}var Zr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=YN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Zl):[Zl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Zl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ug=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function XN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qC(n){return typeof Blob<"u"&&n instanceof Blob}function HC(n){return typeof FormData<"u"&&n instanceof FormData}function eO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Na=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(XN(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mr,this.context??=new Ug,!this.params)this.params=new Zr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zC(this.body)||qC(this.body)||HC(this.body)||eO(this.body)?this.body:this.body instanceof Zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HC(this.body)?null:qC(this.body)?this.body.type||null:zC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:o})}},Jr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Jr||{}),ka=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new mr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xl=class n extends ka{constructor(e={}){super(e),this.type=Jr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fa=class n extends ka{constructor(e={}){super(e),this.type=Jr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yr=class extends ka{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},YC=200,tO=204;function Lg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Va=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Na)o=t;else{let u;i.headers instanceof mr?u=i.headers:u=new mr(i.headers);let l;i.params&&(i.params instanceof Zr?l=i.params:l=new Zr({fromObject:i.params})),o=new Na(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(Vr(u=>this.handler.handle(u)));if(t instanceof Na||i.observe==="events")return s;let c=s.pipe(vt(u=>u instanceof Fa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(te(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(te(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Zr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Lg(i,r))}post(t,r,i={}){return this.request("POST",t,Lg(i,r))}put(t,r,i={}){return this.request("PUT",t,Lg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(G(Oa))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),nO=/^\)\]\}',?\n/,rO="X-Request-URL";function GC(n){if(n.url)return n.url;let e=rO.toLocaleLowerCase();return n.headers.get(e)}var iO=(()=>{class n{constructor(){this.fetchImpl=B(Bg,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=B(Ce)}handle(t){return new ce(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then($g,o=>r.error(new Yr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return U(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,j({signal:r},o)));oO(y),i.next({type:Jr.Sent}),s=yield y}catch(y){i.error(new Yr({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let c=new mr(s.headers),u=s.statusText,l=GC(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new Xl({headers:c,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),T=[],P=s.body.getReader(),A=0,F,q,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>U(this,null,function*(){for(;;){let{done:he,value:re}=yield P.read();if(he)break;if(T.push(re),A+=re.length,t.reportProgress){q=t.responseType==="text"?(q??"")+(F??=new TextDecoder).decode(re,{stream:!0}):void 0;let I=()=>i.next({type:Jr.DownloadProgress,total:y?+y:void 0,loaded:A,partialText:q});L?L.run(I):I()}}}));let J=this.concatChunks(T,A);try{let he=s.headers.get("Content-Type")??"";p=this.parseBody(t,J,he)}catch(he){i.error(new Yr({error:he,headers:new mr(s.headers),status:s.status,statusText:s.statusText,url:GC(s)??t.urlWithParams}));return}}h===0&&(h=p?YC:0),h>=200&&h<300?(i.next(new Fa({body:p,headers:c,status:h,statusText:u,url:l})),i.complete()):i.error(new Yr({error:p,headers:c,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(nO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),Bg=class{};function $g(){}function oO(n){n.then($g,$g)}function ZC(n,e){return e(n)}function sO(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function aO(n,e,t){return(r,i)=>wn(t,()=>e(r,o=>n(o,i)))}var cO=new z(""),zg=new z(""),uO=new z(""),JC=new z("",{providedIn:"root",factory:()=>!0});function lO(){let n=null;return(e,t)=>{n===null&&(n=(B(cO,{optional:!0})??[]).reduceRight(sO,ZC));let r=B(lr);if(B(JC)){let o=r.add();return n(e,t).pipe(jr(()=>r.remove(o)))}else return n(e,t)}}var WC=(()=>{class n extends Oa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=B(lr),this.contributeToStability=B(JC)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(zg),...this.injector.get(uO,[])]));this.chain=r.reduceRight((i,o)=>aO(i,o,this.injector),ZC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(jr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(G(Jl),G(Ot))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();var dO=/^\)\]\}',?\n/;function hO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var KC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Y(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xe(r.\u0275loadImpl()):ee(null)).pipe(ze(()=>new ce(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((P,A)=>s.setRequestHeader(P,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let P=t.detectContentTypeHeader();P!==null&&s.setRequestHeader("Content-Type",P)}if(t.responseType){let P=t.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let c=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=s.statusText||"OK",A=new mr(s.getAllResponseHeaders()),F=hO(s)||t.url;return u=new Xl({headers:A,status:s.status,statusText:P,url:F}),u},h=()=>{let{headers:P,status:A,statusText:F,url:q}=l(),L=null;A!==tO&&(L=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=L?YC:0);let J=A>=200&&A<300;if(t.responseType==="json"&&typeof L=="string"){let he=L;L=L.replace(dO,"");try{L=L!==""?JSON.parse(L):null}catch(re){L=he,J&&(J=!1,L={error:re,text:L})}}J?(o.next(new Fa({body:L,headers:P,status:A,statusText:F,url:q||void 0})),o.complete()):o.error(new Yr({error:L,headers:P,status:A,statusText:F,url:q||void 0}))},p=P=>{let{url:A}=l(),F=new Yr({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(F)},m=!1,y=P=>{m||(o.next(l()),m=!0);let A={type:Jr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(A.total=P.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},T=P=>{let A={type:Jr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(A.total=P.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),c!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(c),o.next({type:Jr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),c!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(G(qo))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),XC=new z(""),fO="XSRF-TOKEN",pO=new z("",{providedIn:"root",factory:()=>fO}),gO="X-XSRF-TOKEN",mO=new z("",{providedIn:"root",factory:()=>gO}),ed=class{},yO=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(G(Vt),G(zt),G(pO))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function vO(n,e){let t=n.url.toLowerCase();if(!B(XC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=B(ed).getToken(),i=B(mO);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var eD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(eD||{});function _O(n,e){return{\u0275kind:n,\u0275providers:e}}function wO(...n){let e=[Va,KC,WC,{provide:Oa,useExisting:WC},{provide:Jl,useFactory:()=>B(iO,{optional:!0})??B(KC)},{provide:zg,useValue:vO,multi:!0},{provide:XC,useValue:!0},{provide:ed,useClass:yO}];for(let t of n)e.push(...t.\u0275providers);return sn(e)}var QC=new z("");function IO(){return _O(eD.LegacyInterceptors,[{provide:QC,useFactory:lO},{provide:zg,useExisting:QC,multi:!0}])}var tD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=on({type:n})}static{this.\u0275inj=rn({providers:[wO(IO())]})}}return n})();var Gg=class extends Kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wg=class n extends Gg{static makeCurrent(){OC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=EO();return t==null?null:CO(t)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yl(document.cookie,e)}},La=null;function EO(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}function CO(n){return new URL(n,document.baseURI).pathname}var DO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),Kg=new z(""),sD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(G(Kg),G(Ce))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),td=class{constructor(e){this._doc=e}},qg="ng-app-id",aD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wo(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${qg}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(qg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(qg,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(G(Vt),G(fg),G(gg,8),G(zt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),Hg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yg=/%COMP%/g,cD="%COMP%",bO=`_nghost-${cD}`,TO=`_ngcontent-${cD}`,SO=!0,AO=new z("",{providedIn:"root",factory:()=>SO});function MO(n){return TO.replace(Yg,n)}function xO(n){return bO.replace(Yg,n)}function uD(n,e){return e.map(t=>t.replace(Yg,n))}var rD=(()=>{class n{constructor(t,r,i,o,s,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Wo(c),this.defaultRenderer=new ja(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pn.ShadowDom&&(r=ge(j({},r),{encapsulation:Pn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof nd?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Pn.Emulated:o=new nd(u,l,r,this.appId,h,s,c,p);break;case Pn.ShadowDom:return new Qg(u,l,t,r,s,c,this.nonce,p);default:o=new Ua(u,l,r,h,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(G(sD),G(aD),G(fg),G(AO),G(Vt),G(zt),G(Ce),G(gg))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),ja=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Hg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(iD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(iD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Hg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Hg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(or.DashCase|or.Important)?e.style.setProperty(t,r,i&or.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&or.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=gr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function iD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qg=class extends ja{constructor(e,t,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=uD(i.id,i.styles);for(let h of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends ja{constructor(e,t,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?uD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nd=class extends Ua{constructor(e,t,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,t,r,o,s,c,u,l),this.contentAttr=MO(l),this.hostAttr=xO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},PO=(()=>{class n extends td{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(G(Vt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),oD=["alt","control","meta","shift"],RO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},OO=(()=>{class n extends td{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),oD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=RO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oD.forEach(s=>{if(s!==i){let c=NO[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(G(Vt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function lD(n,e){return bC(j({rootComponent:n},kO(e)))}function kO(n){return{appProviders:[...UO,...n?.providers??[]],platformProviders:jO}}function FO(){Wg.makeCurrent()}function VO(){return new ir}function LO(){return wE(document),document}var jO=[{provide:zt,useValue:BC},{provide:pg,useValue:FO,multi:!0},{provide:Vt,useFactory:LO,deps:[]}];var UO=[{provide:Al,useValue:"root"},{provide:ir,useFactory:VO,deps:[]},{provide:Kg,useClass:PO,multi:!0,deps:[Vt,Ce,zt]},{provide:Kg,useClass:OO,multi:!0,deps:[Vt]},rD,aD,sD,{provide:Lo,useExisting:rD},{provide:qo,useClass:DO,deps:[]},[]];var dD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(G(Vt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var le="primary",nc=Symbol("RouteTitle"),tm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function es(n){return new tm(n)}function $O(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Un(n[t],e[t]))return!1;return!0}function Un(n,e){let t=n?nm(n):void 0,r=e?nm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!_D(n[i],e[i]))return!1;return!0}function nm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _D(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function wD(n){return n.length>0?n[n.length-1]:null}function ei(n){return Bf(n)?n:ki(n)?xe(Promise.resolve(n)):ee(n)}var qO={exact:ED,subset:CD},ID={exact:HO,subset:GO,ignored:()=>!0};function hD(n,e,t){return qO[t.paths](n.root,e.root,t.matrixParams)&&ID[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function HO(n,e){return Un(n,e)}function ED(n,e,t){if(!Ui(n.segments,e.segments)||!od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ED(n.children[r],e.children[r],t))return!1;return!0}function GO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_D(n[t],e[t]))}function CD(n,e,t){return DD(n,e,e.segments,t)}function DD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ui(i,t)||e.hasChildren()||!od(i,t,r))}else if(n.segments.length===t.length){if(!Ui(n.segments,t)||!od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!CD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ui(n.segments,i)||!od(n.segments,i,r)||!n.children[le]?!1:DD(n.children[le],e,o,r)}}function od(n,e,t){return e.every((r,i)=>ID[t](n[i].parameters,r.parameters))}var vr=class{constructor(e=new Ae([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){return QO.serialize(this)}},Ae=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},ji=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=es(this.parameters),this._parameterMap}toString(){return TD(this)}};function WO(n,e){return Ui(n,e)&&n.every((t,r)=>Un(t.parameters,e[r].parameters))}function Ui(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function KO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===le&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==le&&(t=t.concat(e(i,r)))}),t}var Am=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>new Wa,providedIn:"root"})}}return n})(),Wa=class{parse(e){let t=new im(e);return new vr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ba(e.root,!0)}`,r=JO(e.queryParams),i=typeof e.fragment=="string"?`#${YO(e.fragment)}`:"";return`${t}${r}${i}`}},QO=new Wa;function sd(n){return n.segments.map(e=>TD(e)).join("/")}function Ba(n,e){if(!n.hasChildren())return sd(n);if(e){let t=n.children[le]?Ba(n.children[le],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==le&&r.push(`${i}:${Ba(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=KO(n,(r,i)=>i===le?[Ba(n.children[le],!1)]:[`${i}:${Ba(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[le]!=null?`${sd(n)}/${t[0]}`:`${sd(n)}/(${t.join("//")})`}}function bD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(n){return bD(n).replace(/%3B/gi,";")}function YO(n){return encodeURI(n)}function rm(n){return bD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(n){return decodeURIComponent(n)}function fD(n){return ad(n.replace(/\+/g,"%20"))}function TD(n){return`${rm(n.path)}${ZO(n.parameters)}`}function ZO(n){return Object.entries(n).map(([e,t])=>`;${rm(e)}=${rm(t)}`).join("")}function JO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rd(t)}=${rd(i)}`).join("&"):`${rd(t)}=${rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var XO=/^[^\/()?;#]+/;function Zg(n){let e=n.match(XO);return e?e[0]:""}var ek=/^[^\/()?;=#]+/;function tk(n){let e=n.match(ek);return e?e[0]:""}var nk=/^[^=?&#]+/;function rk(n){let e=n.match(nk);return e?e[0]:""}var ik=/^[^&#]+/;function ok(n){let e=n.match(ik);return e?e[0]:""}var im=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[le]=new Ae(e,t)),r}parseSegment(){let e=Zg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new ji(ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=tk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Zg(this.remaining);i&&(r=i,this.capture(r))}e[ad(t)]=ad(r)}parseQueryParam(e){let t=rk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=ok(this.remaining);s&&(r=s,this.capture(r))}let i=fD(t),o=fD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=le);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[le]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function SD(n){return n.segments.length>0?new Ae([],{[le]:n}):n}function AD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=AD(i);if(r===le&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ae(n.segments,e);return sk(t)}function sk(n){if(n.numberOfChildren===1&&n.children[le]){let e=n.children[le];return new Ae(n.segments.concat(e.segments),e.children)}return n}function Bi(n){return n instanceof vr}function ak(n,e,t=null,r=null){let i=MD(n);return xD(i,e,t,r)}function MD(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new Ae(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=SD(r);return e??i}function xD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Jg(i,i,i,t,r);let o=ck(e);if(o.toRoot())return Jg(i,i,new Ae([],{}),t,r);let s=uk(o,i,n),c=s.processChildren?qa(s.segmentGroup,s.index,o.commands):RD(s.segmentGroup,s.index,o.commands);return Jg(i,s.segmentGroup,c,t,r)}function cd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ka(n){return typeof n=="object"&&n!=null&&n.outlets}function Jg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=PD(n,e,t);let c=SD(AD(s));return new vr(c,o,i)}function PD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=PD(o,e,t)}),new Ae(n.segments,r)}var ud=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cd(r[0]))throw new Y(4003,!1);let i=r.find(Ka);if(i&&i!==wD(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ck(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ud(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new ud(t,e,r)}var Zo=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function uk(n,e,t){if(n.isAbsolute)return new Zo(e,!0,0);if(!t)return new Zo(e,!1,NaN);if(t.parent===null)return new Zo(t,!0,0);let r=cd(n.commands[0])?0:1,i=t.segments.length-1+r;return lk(t,i,n.numberOfDoubleDots)}function lk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Zo(r,!1,i-o)}function dk(n){return Ka(n[0])?n[0].outlets:{[le]:n}}function RD(n,e,t){if(n??=new Ae([],{}),n.segments.length===0&&n.hasChildren())return qa(n,e,t);let r=hk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ae(n.segments.slice(0,r.pathIndex),{});return o.children[le]=new Ae(n.segments.slice(r.pathIndex),n.children),qa(o,0,i)}else return r.match&&i.length===0?new Ae(n.segments,{}):r.match&&!n.hasChildren()?om(n,e,t):r.match?qa(n,0,i):om(n,e,t)}function qa(n,e,t){if(t.length===0)return new Ae(n.segments,{});{let r=dk(t),i={};if(Object.keys(r).some(o=>o!==le)&&n.children[le]&&n.numberOfChildren===1&&n.children[le].segments.length===0){let o=qa(n.children[le],e,t);return new Ae(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=RD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(n.segments,i)}}function hk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(Ka(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gD(u,l,s))return o;r+=2}else{if(!gD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function om(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ka(o)){let u=fk(o.outlets);return new Ae(r,u)}if(i===0&&cd(t[0])){let u=n.segments[e];r.push(new ji(u.path,pD(t[0]))),i++;continue}let s=Ka(o)?o.outlets[le]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&cd(c)?(r.push(new ji(s,pD(c))),i+=2):(r.push(new ji(s,{})),i++)}return new Ae(r,{})}function fk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=om(new Ae([],{}),0,r))}),e}function pD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gD(n,e,t){return n==t.path&&Un(e,t.parameters)}var Ha="imperative",dt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(dt||{}),cn=class{constructor(e,t){this.id=e,this.url=t}},Qa=class extends cn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=dt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xr=class extends cn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Wt||{}),sm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(sm||{}),yr=class extends cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$i=class extends cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=dt.NavigationSkipped}},Ya=class extends cn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ld=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cm=class extends cn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},um=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hm=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fm=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gm=class{constructor(e){this.snapshot=e,this.type=dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mm=class{constructor(e){this.snapshot=e,this.type=dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Za=class{},ts=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function pk(n,e){return n.providers&&!n._injector&&(n._injector=Ag(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Cn(n){return n.outlet||le}function gk(n,e){let t=n.filter(r=>Cn(r)===e);return t.push(...n.filter(r=>Cn(r)!==e)),t}function rc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ym=class{get injector(){return rc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new yd(this.rootInjector),this.attachRef=null}},yd=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ym(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(G(Ot))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=vm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=vm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_m(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _m(e,this._root).map(t=>t.value)}};function vm(n,e){if(n===e.value)return e;for(let t of e.children){let r=vm(n,t);if(r)return r}return null}function _m(n,e){if(n===e.value)return[e];for(let t of e.children){let r=_m(n,t);if(r.length)return r.unshift(e),r}return[]}var Gt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Yo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hd=class extends dd{constructor(e,t){super(e),this.snapshot=t,Mm(this,e)}toString(){return this.snapshot.toString()}};function ND(n){let e=mk(n),t=new lt([new ji("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),c=new Kt(t,r,o,s,i,le,n,e.root);return c.snapshot=e.root,new hd(new Gt(c,[]),e)}function mk(n){let e={},t={},r={},i="",o=new Jo([],e,r,i,t,le,n,null,{});return new pd("",new Gt(o,[]))}var Kt=class{constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[nc]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>es(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>es(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&kD(i)&&(r.resolve[nc]=i.title),r}var Jo=class{get title(){return this.data?.[nc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},pd=class extends dd{constructor(e,t){super(t),this.url=e,Mm(this,t)}toString(){return OD(this._root)}};function Mm(n,e){e.value._routerState=n,e.children.forEach(t=>Mm(n,t))}function OD(n){let e=n.children.length>0?` { ${n.children.map(OD).join(", ")} } `:"";return`${n.value}${e}`}function Xg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Un(e.params,t.params)||n.paramsSubject.next(t.params),zO(e.url,t.url)||n.urlSubject.next(t.url),Un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wm(n,e){let t=Un(n.params,e.params)&&WO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||wm(n.parent,e.parent))}function kD(n){return typeof n.title=="string"||n.title===null}var xm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=B(yd),this.location=B($o),this.changeDetector=B(Fi),this.inputBinder=B(Pm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Im(t,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]})}}return n})(),Im=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Kt?this.route:e===yd?this.childContexts:this.parent.get(e,t)}},Pm=new z("");function yk(n,e,t){let r=Ja(n,e._root,t?t._root:void 0);return new hd(r,e)}function Ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=vk(n,e,t);return new Gt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ja(n,c)),s}}let r=_k(e.value),i=e.children.map(o=>Ja(n,o));return new Gt(r,i)}}function vk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ja(n,r,i);return Ja(n,r)})}function _k(n){return new Kt(new lt(n.url),new lt(n.params),new lt(n.queryParams),new lt(n.fragment),new lt(n.data),n.outlet,n.component,n)}var Xa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},FD="ngNavigationCancelingError";function gd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Bi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VD(!1,Wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function VD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[FD]=!0,t.cancellationCode=e,t}function wk(n){return LD(n)&&Bi(n.url)}function LD(n){return!!n&&n[FD]}var Ik=(n,e,t,r)=>te(i=>(new Em(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Em=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Yo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Yo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Yo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Yo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pm(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Xg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Xg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},md=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xo=class{constructor(e,t){this.component=e,this.route=t}};function Ek(n,e,t){let r=n._root,i=e?e._root:null;return $a(r,i,t,[r.value])}function Ck(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function rs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!iI(n)?n:e.get(n):r}function $a(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Yo(e);return n.children.forEach(s=>{Dk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ga(c,t.getContext(s),i)),i}function Dk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=bk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new md(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$a(n,e,c?c.children:null,r,i):$a(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Xo(c.outlet.component,s))}else s&&Ga(e,c,i),i.canActivateChecks.push(new md(r)),o.component?$a(n,null,c?c.children:null,r,i):$a(n,null,t,r,i);return i}function bk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ui(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ui(n.url,e.url)||!Un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wm(n,e)||!Un(n.queryParams,e.queryParams);case"paramsChange":default:return!wm(n,e)}}function Ga(n,e,t){let r=Yo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),t):Ga(s,null,t):Ga(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Xo(e.outlet.component,i)):t.canDeactivateChecks.push(new Xo(null,i)):t.canDeactivateChecks.push(new Xo(null,i))}function ic(n){return typeof n=="function"}function Tk(n){return typeof n=="boolean"}function Sk(n){return n&&ic(n.canLoad)}function Ak(n){return n&&ic(n.canActivate)}function Mk(n){return n&&ic(n.canActivateChild)}function xk(n){return n&&ic(n.canDeactivate)}function Pk(n){return n&&ic(n.canMatch)}function jD(n){return n instanceof nr||n?.name==="EmptyError"}var id=Symbol("INITIAL_VALUE");function ns(){return ze(n=>Fu(n.map(e=>e.pipe(rr(1),Bu(id)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===id)return id;if(t===!1||Rk(t))return t}return!0}),vt(e=>e!==id),rr(1)))}function Rk(n){return Bi(n)||n instanceof Xa}function Nk(n,e){return it(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ee(ge(j({},t),{guardsResult:!0})):Ok(s,r,i,n).pipe(it(c=>c&&Tk(c)?kk(r,o,n,e):ee(c)),te(c=>ge(j({},t),{guardsResult:c})))})}function Ok(n,e,t,r){return xe(n).pipe(it(i=>Uk(i.component,i.route,t,e,r)),Xt(i=>i!==!0,!0))}function kk(n,e,t,r){return xe(e).pipe(Vr(i=>Eo(Vk(i.route.parent,r),Fk(i.route,r),jk(n,i.path,t),Lk(n,i.route,t))),Xt(i=>i!==!0,!0))}function Fk(n,e){return n!==null&&e&&e(new gm(n)),ee(!0)}function Vk(n,e){return n!==null&&e&&e(new fm(n)),ee(!0)}function Lk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Vu(()=>{let s=rc(e)??t,c=rs(o,s),u=Ak(c)?c.canActivate(e,n):wn(s,()=>c(e,n));return ei(u).pipe(Xt())}));return ee(i).pipe(ns())}function jk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Ck(s)).filter(s=>s!==null).map(s=>Vu(()=>{let c=s.guards.map(u=>{let l=rc(s.node)??t,h=rs(u,l),p=Mk(h)?h.canActivateChild(r,n):wn(l,()=>h(r,n));return ei(p).pipe(Xt())});return ee(c).pipe(ns())}));return ee(o).pipe(ns())}function Uk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(c=>{let u=rc(e)??i,l=rs(c,u),h=xk(l)?l.canDeactivate(n,e,t,r):wn(u,()=>l(n,e,t,r));return ei(h).pipe(Xt())});return ee(s).pipe(ns())}function Bk(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let c=rs(s,n),u=Sk(c)?c.canLoad(e,t):wn(n,()=>c(e,t));return ei(u)});return ee(o).pipe(ns(),UD(r))}function UD(n){return mu(Ye(e=>{if(typeof e!="boolean")throw gd(n,e)}),te(e=>e===!0))}function $k(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let c=rs(s,n),u=Pk(c)?c.canMatch(e,t):wn(n,()=>c(e,t));return ei(u)});return ee(o).pipe(ns(),UD(r))}var ec=class{constructor(e){this.segmentGroup=e||null}},tc=class extends Error{constructor(e){super(),this.urlTree=e}};function Qo(n){return Io(new ec(n))}function zk(n){return Io(new Y(4e3,!1))}function qk(n){return Io(VD(!1,Wt.GuardRejected))}var Cm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[le])return zk(`${e.redirectTo}`);i=i.children[le]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:P}=i,A=wn(o,()=>c({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:P}));if(A instanceof vr)throw new tc(A);t=A}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new tc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new vr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Dm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hk(n,e,t,r,i){let o=BD(n,e,t);return o.matched?(r=pk(e,r),$k(r,e,t,i).pipe(te(s=>s===!0?o:j({},Dm)))):ee(o)}function BD(n,e,t){if(e.path==="**")return Gk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Dm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$O)(t,n,e);if(!i)return j({},Dm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Gk(n){return{matched:!0,parameters:n.length>0?wD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mD(n,e,t,r){return t.length>0&&Qk(n,t,r)?{segmentGroup:new Ae(e,Kk(r,new Ae(t,n.children))),slicedSegments:[]}:t.length===0&&Yk(n,t,r)?{segmentGroup:new Ae(n.segments,Wk(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function Wk(n,e,t,r){let i={};for(let o of t)if(vd(n,e,o)&&!r[Cn(o)]){let s=new Ae([],{});i[Cn(o)]=s}return j(j({},r),i)}function Kk(n,e){let t={};t[le]=e;for(let r of n)if(r.path===""&&Cn(r)!==le){let i=new Ae([],{});t[Cn(r)]=i}return t}function Qk(n,e,t){return t.some(r=>vd(n,e,r)&&Cn(r)!==le)}function Yk(n,e,t){return t.some(r=>vd(n,e,r))}function vd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Zk(n,e,t){return e.length===0&&!n.children[t]}var bm=class{};function Jk(n,e,t,r,i,o,s="emptyOnly"){return new Tm(n,e,t,r,i,s,o).recognize()}var Xk=31,Tm=class{constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Cm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=mD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new Gt(r,t),o=new pd("",i),s=ak(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Jo([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,le,t).pipe(te(r=>({children:r,rootSnapshot:t})),Fr(r=>{if(r instanceof tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ec?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof Gt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(Vr(s=>{let c=r.children[s],u=gk(t,s);return this.processSegmentGroup(e,u,c,s,i)}),ju((s,c)=>(s.push(...c),s)),Lr(null),Hf(),it(s=>{if(s===null)return Qo(r);let c=$D(s);return eF(c),ee(c)}))}processSegment(e,t,r,i,o,s,c){return xe(t).pipe(Vr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Fr(l=>{if(l instanceof ec)return ee(null);throw l}))),Xt(u=>!!u),Fr(u=>{if(jD(u))return Zk(r,i,o)?ee(new bm):Qo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return Cn(r)!==s&&(s===le||!vd(i,o,r))?Qo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Qo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=BD(t,i,o);if(!u)return Qo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xk&&(this.allowRedirects=!1));let y=new Jo(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,yD(i),Cn(i),i.component??i._loadedComponent??null,i,vD(i)),T=fd(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(it(A=>this.processSegment(e,r,t,A.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=Hk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(ze(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ze(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Jo(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,yD(r),Cn(r),r.component??r._loadedComponent??null,r,vD(r)),P=fd(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(P.params),T.data=Object.freeze(P.data);let{segmentGroup:A,slicedSegments:F}=mD(t,m,y,l);if(F.length===0&&A.hasChildren())return this.processChildren(h,l,A,T).pipe(te(L=>new Gt(T,L)));if(l.length===0&&F.length===0)return ee(new Gt(T,[]));let q=Cn(r)===o;return this.processSegment(h,l,A,F,q?le:o,!0,T).pipe(te(L=>new Gt(T,L instanceof Gt?[L]:[])))}))):Qo(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):Bk(e,t,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):qk(t))):ee({routes:[],injector:e})}};function eF(n){n.sort((e,t)=>e.value.outlet===le?-1:t.value.outlet===le?1:e.value.outlet.localeCompare(t.value.outlet))}function tF(n){let e=n.value.routeConfig;return e&&e.path===""}function $D(n){let e=[],t=new Set;for(let r of n){if(!tF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=$D(r.children);e.push(new Gt(r.value,i))}return e.filter(r=>!t.has(r))}function yD(n){return n.data||{}}function vD(n){return n.resolve||{}}function nF(n,e,t,r,i,o){return it(s=>Jk(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:c,tree:u})=>ge(j({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function rF(n,e){return it(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of zD(u))s.add(l);let c=0;return xe(s).pipe(Vr(u=>o.has(u)?iF(u,r,n,e):(u.data=fd(u,u.parent,n).resolve,ee(void 0))),Ye(()=>c++),Co(1),it(u=>c===s.size?ee(t):bt))})}function zD(n){let e=n.children.map(t=>zD(t)).flat();return[n,...e]}function iF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!kD(i)&&(o[nc]=i.title),oF(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=fd(n,n.parent,t).resolve,null)))}function oF(n,e,t,r){let i=nm(n);if(i.length===0)return ee({});let o={};return xe(i).pipe(it(s=>sF(n[s],e,t,r).pipe(Xt(),Ye(c=>{if(c instanceof Xa)throw gd(new Wa,c);o[s]=c}))),Co(1),qf(o),Fr(s=>jD(s)?bt:Io(s)))}function sF(n,e,t,r){let i=rc(e)??r,o=rs(n,i),s=o.resolve?o.resolve(e,t):wn(i,()=>o(e,t));return ei(s)}function em(n){return ze(e=>{let t=n(e);return t?xe(t).pipe(te(()=>e)):ee(e)})}var qD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===le);return r}getResolvedTitleForRoute(t){return t.data[nc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>B(aF),providedIn:"root"})}}return n})(),aF=(()=>{class n extends qD{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(G(dD))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rm=new z("",{providedIn:"root",factory:()=>({})}),cF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Re({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ne],decls:1,vars:0,template:function(r,i){r&1&&Z(0,"router-outlet")},dependencies:[xm],encapsulation:2})}}return n})();function Nm(n){let e=n.children&&n.children.map(Nm),t=e?ge(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==le&&(t.component=cF),t}var Om=new z(""),uF=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(xg)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ei(t.loadComponent()).pipe(te(HD),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),jr(()=>{this.componentLoaders.delete(t)})),i=new yo(r,()=>new je).pipe(mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=lF(r,this.compiler,t,this.onLoadEndListener).pipe(jr(()=>{this.childrenLoaders.delete(r)})),s=new yo(o,()=>new je).pipe(mo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lF(n,e,t,r){return ei(n.loadChildren()).pipe(te(HD),it(i=>i instanceof va||Array.isArray(i)?ee(i):xe(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Om,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nm),injector:o}}))}function dF(n){return n&&typeof n=="object"&&"default"in n}function HD(n){return dF(n)?n.default:n}var km=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>B(hF),providedIn:"root"})}}return n})(),hF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fF=new z("");var pF=new z(""),gF=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=B(uF),this.environmentInjector=B(Ot),this.urlSerializer=B(Am),this.rootContexts=B(yd),this.location=B(Ra),this.inputBindingEnabled=B(Pm,{optional:!0})!==null,this.titleStrategy=B(qD),this.options=B(Rm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(km),this.createViewTransition=B(fF,{optional:!0}),this.navigationErrorHandler=B(pF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let t=i=>this.events.next(new dm(i)),r=i=>this.events.next(new hm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ge(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new lt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ha,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(o=>o.id!==0),te(o=>ge(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ze(o=>{let s=!1,c=!1;return ee(o).pipe(ze(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),bt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ge(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new $i(u.id,this.urlSerializer.serialize(u.rawUrl),p,sm.IgnoredSameUrlNavigation)),u.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(ze(p=>{let m=this.transitions?.getValue();return this.events.next(new Qa(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?bt:Promise.resolve(p)}),nF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ge(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new ld(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:T,extras:P}=u,A=new Qa(p,this.urlSerializer.serialize(m),y,T);this.events.next(A);let F=ND(this.rootComponentType).snapshot;return this.currentTransition=o=ge(j({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:ge(j({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ee(o)}else{let p="";return this.events.next(new $i(u.id,this.urlSerializer.serialize(u.extractedUrl),p,sm.IgnoredByUrlHandlingStrategy)),u.resolve(!1),bt}}),Ye(u=>{let l=new am(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),te(u=>(this.currentTransition=o=ge(j({},u),{guards:Ek(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Nk(this.environmentInjector,u=>this.events.next(u)),Ye(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw gd(this.urlSerializer,u.guardsResult);let l=new cm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),vt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Wt.GuardRejected),!1)),em(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(Ye(l=>{let h=new um(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ze(l=>{let h=!1;return ee(l).pipe(rF(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Wt.NoDataFromResolver)}}))}),Ye(l=>{let h=new lm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),em(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ye(m=>{h.component=m}),te(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Fu(l(u.targetSnapshot.root)).pipe(Lr(null),rr(1))}),em(()=>this.afterPreactivation()),ze(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?xe(h).pipe(te(()=>o)):ee(o)}),te(u=>{let l=yk(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ge(j({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ye(()=>{this.events.next(new Za)}),Ik(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),rr(1),Ye({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Wf(this.transitionAbortSubject.pipe(Ye(u=>{throw u}))),jr(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fr(u=>{if(c=!0,LD(u))this.events.next(new yr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),wk(u)?this.events.next(new ts(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ya(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Xa){let{message:p,cancellationCode:m}=gd(this.urlSerializer,h);this.events.next(new yr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new ts(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return bt}))}))}cancelNavigationTransition(t,r,i){let o=new yr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mF(n){return n!==Ha}var yF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>B(vF),providedIn:"root"})}}return n})(),Sm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vF=(()=>{class n extends Sm{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>B(_F),providedIn:"root"})}}return n})(),_F=(()=>{class n extends GD{constructor(){super(...arguments),this.location=B(Ra),this.urlSerializer=B(Am),this.options=B(Rm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(km),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ND(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Qa)this.stateMemento=this.createStateMemento();else if(t instanceof $i)this.rawUrlTree=r.initialUrl;else if(t instanceof ld){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Za?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof yr&&(t.code===Wt.GuardRejected||t.code===Wt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ya?this.restoreHistory(r,!0):t instanceof Xr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof vr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),za=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(za||{});function wF(n,e){n.events.pipe(vt(t=>t instanceof Xr||t instanceof yr||t instanceof Ya||t instanceof $i),te(t=>t instanceof Xr||t instanceof $i?za.COMPLETE:(t instanceof yr?t.code===Wt.Redirect||t.code===Wt.SupersededByNewNavigation:!1)?za.REDIRECTING:za.FAILED),vt(t=>t!==za.REDIRECTING),rr(1)).subscribe(()=>{e()})}function IF(n){throw n}var EF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(Hl),this.stateManager=B(GD),this.options=B(Rm,{optional:!0})||{},this.pendingTasks=B(lr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(gF),this.urlSerializer=B(Am),this.location=B(Ra),this.urlHandlingStrategy=B(km),this._events=new je,this.errorHandler=this.options.errorHandler||IF,this.navigated=!1,this.routeReuseStrategy=B(yF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(Om,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(Pm,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yr&&r.code!==Wt.Redirect&&r.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xr)this.navigated=!0;else if(r instanceof ts){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mF(i.source)},s);this.scheduleNavigation(c,Ha,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Nm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=MD(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return xD(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Bi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ha,null,r)}navigate(t,r={skipLocationChange:!1}){return DF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},EF):r===!1?i=j({},CF):i=r,Bi(t))return hD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return hD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return wF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Y(4008,!1)}function bF(n){return!(n instanceof Za)&&!(n instanceof ts)}var ti=(()=>{class n{constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:CE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Bi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(k(zi),k(Kt),lg("tabindex"),k(Vn),k(En),k(Ho))}}static{this.\u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&se("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ba("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vi],replaceUrl:[2,"replaceUrl","replaceUrl",Vi],routerLink:"routerLink"},standalone:!0,features:[Sg,kn]})}}return n})();var TF=new z("");function WD(n,...e){return sn([{provide:Om,multi:!0,useValue:n},[],{provide:Kt,useFactory:SF,deps:[zi]},{provide:Gl,multi:!0,useFactory:AF},e.map(t=>t.\u0275providers)])}function SF(n){return n.routerState.root}function AF(){let n=B(kt);return e=>{let t=n.get(Qr);if(e!==t.components[0])return;let r=n.get(zi),i=n.get(MF);n.get(xF)===1&&r.initialNavigation(),n.get(PF,null,de.Optional)?.setUpPreloading(),n.get(TF,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var MF=new z("",{factory:()=>new je}),xF=new z("",{providedIn:"root",factory:()=>1});var PF=new z("");var rb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(k(Vn),k(En))}}static{this.\u0275dir=Ue({type:n})}}return n})(),Md=(()=>{class n extends rb{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275dir=Ue({type:n,features:[qt]})}}return n})(),as=new z("");var RF={provide:as,useExisting:_n(()=>jt),multi:!0};function NF(){let n=gr()?gr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var OF=new z(""),jt=(()=>{class n extends rb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!NF())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(k(Vn),k(En),k(OF,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[hr([RF]),qt]})}}return n})();function ni(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ib(n){return n!=null&&typeof n.length=="number"}var xd=new z(""),$m=new z(""),kF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Me=class{static min(e){return ob(e)}static max(e){return FF(e)}static required(e){return VF(e)}static requiredTrue(e){return LF(e)}static email(e){return jF(e)}static minLength(e){return UF(e)}static maxLength(e){return BF(e)}static pattern(e){return $F(e)}static nullValidator(e){return Id(e)}static compose(e){return db(e)}static composeAsync(e){return fb(e)}};function ob(n){return e=>{if(ni(e.value)||ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function FF(n){return e=>{if(ni(e.value)||ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function VF(n){return ni(n.value)?{required:!0}:null}function LF(n){return n.value===!0?null:{required:!0}}function jF(n){return ni(n.value)||kF.test(n.value)?null:{email:!0}}function UF(n){return e=>ni(e.value)||!ib(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function BF(n){return e=>ib(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function $F(n){if(!n)return Id;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ni(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Id(n){return null}function sb(n){return n!=null}function ab(n){return ki(n)?xe(n):n}function cb(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function ub(n,e){return e.map(t=>t(n))}function zF(n){return!n.validate}function lb(n){return n.map(e=>zF(e)?e:t=>e.validate(t))}function db(n){if(!n)return null;let e=n.filter(sb);return e.length==0?null:function(t){return cb(ub(t,e))}}function hb(n){return n!=null?db(lb(n)):null}function fb(n){if(!n)return null;let e=n.filter(sb);return e.length==0?null:function(t){let r=ub(t,e).map(ab);return $f(r).pipe(te(cb))}}function pb(n){return n!=null?fb(lb(n)):null}function KD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gb(n){return n._rawValidators}function mb(n){return n._rawAsyncValidators}function Fm(n){return n?Array.isArray(n)?n:[n]:[]}function Ed(n,e){return Array.isArray(n)?n.includes(e):n===e}function QD(n,e){let t=Fm(e);return Fm(n).forEach(i=>{Ed(t,i)||t.push(i)}),t}function YD(n,e){return Fm(e).filter(t=>!Ed(n,t))}var Cd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},qi=class extends Cd{get formDirective(){return null}get path(){return null}},Hi=class extends Cd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Dd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},S5=ge(j({},qF),{"[class.ng-submitted]":"isSubmitted"}),un=(()=>{class n extends Dd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(k(Hi,2))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qt]})}}return n})(),ii=(()=>{class n extends Dd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(k(qi,10))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qt]})}}return n})();var oc="VALID",wd="INVALID",is="PENDING",sc="DISABLED",ri=class{},bd=class extends ri{constructor(e,t){super(),this.value=e,this.source=t}},ac=class extends ri{constructor(e,t){super(),this.pristine=e,this.source=t}},cc=class extends ri{constructor(e,t){super(),this.touched=e,this.source=t}},os=class extends ri{constructor(e,t){super(),this.status=e,this.source=t}},Vm=class extends ri{constructor(e){super(),this.source=e}},Lm=class extends ri{constructor(e){super(),this.source=e}};function zm(n){return(Pd(n)?n.validators:n)||null}function HF(n){return Array.isArray(n)?hb(n):n||null}function qm(n,e){return(Pd(e)?e.asyncValidators:n)||null}function GF(n){return Array.isArray(n)?pb(n):n||null}function Pd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function yb(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[t])throw new Y(1001,"")}function vb(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Y(1002,"")})}var ss=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ma(()=>this.statusReactive()),this.statusReactive=Da(void 0),this._pristine=Ma(()=>this.pristineReactive()),this.pristineReactive=Da(!0),this._touched=Ma(()=>this.touchedReactive()),this.touchedReactive=Da(!1),this._events=new je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fr(this.statusReactive)}set status(e){fr(()=>this.statusReactive.set(e))}get valid(){return this.status===oc}get invalid(){return this.status===wd}get pending(){return this.status==is}get disabled(){return this.status===sc}get enabled(){return this.status!==sc}get pristine(){return fr(this.pristineReactive)}set pristine(e){fr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return fr(this.touchedReactive)}set touched(e){fr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YD(e,this._rawAsyncValidators))}hasValidator(e){return Ed(this._rawValidators,e)}hasAsyncValidator(e){return Ed(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new cc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new cc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAsPending(e={}){this.status=is;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new os(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=sc,this.errors=null,this._forEachChild(i=>{i.disable(ge(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bd(this.value,r)),this._events.next(new os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=oc,this._forEachChild(r=>{r.enable(ge(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===is)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bd(this.value,t)),this._events.next(new os(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sc:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=is,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=ab(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new os(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?sc:this.errors?wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(is)?is:this._anyControlsHaveStatus(wd)?wd:oc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ac(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new cc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=GF(this._rawAsyncValidators)}},Td=class extends ss{constructor(e,t,r){super(zm(t),qm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vb(this,!0,e),Object.keys(e).forEach(r=>{yb(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jm=class extends Td{};var Rd=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Nd}),Nd="always";function _b(n,e){return[...e.path,n]}function Um(n,e,t=Nd){Hm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),KF(n,e),YF(n,e),QF(n,e),WF(n,e)}function ZD(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ad(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Hm(n,e){let t=gb(n);e.validator!==null?n.setValidators(KD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=mb(n);e.asyncValidator!==null?n.setAsyncValidators(KD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Sd(e._rawValidators,i),Sd(e._rawAsyncValidators,i)}function Ad(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=gb(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=mb(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Sd(e._rawValidators,r),Sd(e._rawAsyncValidators,r),t}function KF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&wb(n,e)})}function QF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&wb(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function wb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function YF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ZF(n,e){n==null,Hm(n,e)}function JF(n,e){return Ad(n,e)}function Ib(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function XF(n){return Object.getPrototypeOf(n.constructor)===Md}function eV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Eb(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===jt?t=o:XF(o)?r=o:i=o}),i||r||t||null}function tV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var uc=class extends ss{constructor(e=null,t,r){super(zm(t),qm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(XD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nV=n=>n instanceof uc;var rV={provide:Hi,useExisting:_n(()=>lc)},eb=Promise.resolve(),lc=(()=>{class n extends Hi{constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new uc,this._registered=!1,this.name="",this.update=new Qe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Eb(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ib(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Um(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){eb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Vi(r);eb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?_b(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(k(qi,9),k(xd,10),k($m,10),k(as,10),k(Fi,8),k(Rd,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hr([rV]),qt,kn]})}}return n})(),oi=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),iV={provide:as,useExisting:_n(()=>dc),multi:!0},dc=(()=>{class n extends Md{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[hr([iV]),qt]})}}return n})();var Cb=new z("");var oV={provide:qi,useExisting:_n(()=>_r)},_r=(()=>{class n extends qi{get submitted(){return fr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ma(()=>this._submittedReactive()),this._submittedReactive=Da(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Um(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ZD(t.control||null,t,!1),tV(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),eV(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Vm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Lm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ZD(r||null,t),nV(i)&&(Um(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);ZF(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&JF(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hm(this.form,this),this._oldForm&&Ad(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(k(xd,10),k($m,10),k(Rd,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&se("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([oV]),qt,kn]})}}return n})();var sV={provide:Hi,useExisting:_n(()=>wr)},wr=(()=>{class n extends Hi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Eb(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Ib(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _b(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(k(qi,13),k(xd,10),k($m,10),k(as,10),k(Cb,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[hr([sV]),qt,kn]})}}return n})(),aV={provide:as,useExisting:_n(()=>bb),multi:!0};function Db(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function cV(n){return n.split(":")[0]}var bb=(()=>{class n extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Db(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=cV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&se("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([aV]),qt]})}}return n})(),Tb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Db(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(k(En),k(Vn),k(bb,9))}}static{this.\u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),uV={provide:as,useExisting:_n(()=>Sb),multi:!0};function tb(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function lV(n){return n.split(":")[0]}var Sb=(()=>{class n extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=lV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&se("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([uV]),qt]})}}return n})(),Ab=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(tb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tb(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(k(En),k(Vn),k(Sb,9))}}static{this.\u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function dV(n){return typeof n=="number"?n:parseFloat(n)}var hV=(()=>{class n{constructor(){this._validator=Id}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Id,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ue({type:n,features:[kn]})}}return n})();var fV={provide:xd,useExisting:_n(()=>Gm),multi:!0},Gm=(()=>{class n extends hV{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>dV(t),this.createValidator=t=>ob(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ur(n)))(i||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ba("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[hr([fV]),qt]})}}return n})();var Mb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=on({type:n})}static{this.\u0275inj=rn({})}}return n})(),Bm=class extends ss{constructor(e,t,r){super(zm(t),qm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vb(this,!1,e),e.forEach((r,i)=>{yb(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function nb(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var si=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return nb(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Td(i,o)}record(t,r=null){let i=this._reduceControls(t);return new jm(i,r)}control(t,r,i){let o={};return this.useNonNullable?(nb(r)?o=r:(o.validators=r,o.asyncValidators=i),new uc(t,ge(j({},o),{nonNullable:!0}))):new uc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Bm(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof uc)return t;if(t instanceof ss)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Od=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rd,useValue:t.callSetDisabledState??Nd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=on({type:n})}static{this.\u0275inj=rn({imports:[Mb]})}}return n})(),Bn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Rd,useValue:t.callSetDisabledState??Nd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=on({type:n})}static{this.\u0275inj=rn({imports:[Mb]})}}return n})();var pV="firebase",gV="10.14.1";yt(pV,gV,"app");var Er=new sr("ANGULARFIRE2_VERSION");function Fd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var hc=(n,e)=>{let t=e?[e]:ou(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ir=class{constructor(){return hc(mV)}},mV="app-check";function us(){}var kd=class{zone;delegate;constructor(e,t=jf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Wm=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",us,{},us,us)),t.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ai=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new kd(Zone.current)),this.insideAngular=t.run(()=>new kd(Zone.current,Lf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(G(Ce))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function yV(n){return Vd().ngZone.runOutsideAngular(()=>n())}function Gi(n){return Vd().ngZone.run(()=>n())}function Km(n){return vV(Vd())(n)}function vV(n){return function(t){return t=t.lift(new Wm(n.ngZone)),t.pipe(Jt(n.outsideAngular),$t(n.insideAngular))}}var _V=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Gi(()=>n.apply(void 0,r))},at=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",us,{},us,us))),r[o]=_V(r[o],t));let i=yV(()=>n.apply(this,r));if(!e)if(i instanceof ce){let o=Vd();return i.pipe(Jt(o.outsideAngular),$t(o.insideAngular))}else return Gi(()=>i);return i instanceof ce?i.pipe(Km):i instanceof Promise?Gi(()=>new Promise((o,s)=>i.then(c=>Gi(()=>o(c)),c=>Gi(()=>s(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Gi(()=>i)};var Cr=class{constructor(e){return e}},Wi=class{constructor(){return ou()}};function IV(n){return n&&n.length===1?n[0]:new Cr(ra())}var Qm=new z("angularfire2._apps"),EV={provide:Cr,useFactory:IV,deps:[[new _t,Qm]]},CV={provide:Wi,deps:[[new _t,Qm]]};function DV(n){return(e,t)=>{let r=t.get(zt);yt("angularfire",Er.full,"core"),yt("angularfire",Er.full,"app"),yt("angular",Mg.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Cr(i)}}function xb(n,...e){return sn([EV,CV,{provide:Qm,useFactory:DV(n),multi:!0,deps:[Ce,kt,ai,...e]}])}var Pb=at(R0,!0);var Rb="auth",Ki=class{constructor(e){return e}},fc=class{constructor(){return hc(Rb)}};var Ym=new z("angularfire2.auth-instances");function EL(n,e){let t=Fd(Rb,n,e);return t&&new Ki(t)}function CL(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ki(r)}}var DL={provide:fc,deps:[[new _t,Ym]]},bL={provide:Ki,useFactory:EL,deps:[[new _t,Ym],Cr]};function Nb(n,...e){return yt("angularfire",Er.full,"auth"),sn([bL,DL,{provide:Ym,useFactory:CL(n),multi:!0,deps:[Ce,kt,ai,Wi,[new _t,Ir],...e]}])}var Ob=at(wf,!0);var kb=at(Ef,!0);var Fb=at(If,!0);var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lb={};var ci,Zm;(function(){var n;function e(I,v){function w(){}w.prototype=v.prototype,I.D=v.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(E,C,S){for(var _=Array(arguments.length-2),Yn=2;Yn<arguments.length;Yn++)_[Yn-2]=arguments[Yn];return v.prototype[C].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,w){w||(w=0);var E=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)E[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)E[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=I.g[0],w=I.g[1],C=I.g[2];var S=I.g[3],_=v+(S^w&(C^S))+E[0]+3614090360&4294967295;v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+E[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+E[2]+606105819&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+E[3]+3250441966&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(S^w&(C^S))+E[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+E[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+E[6]+2821735955&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+E[7]+4249261313&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(S^w&(C^S))+E[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+E[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+E[10]+4294925233&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+E[11]+2304563134&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(S^w&(C^S))+E[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+E[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+E[14]+2792965006&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+E[15]+1236535329&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(C^S&(w^C))+E[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+E[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+E[11]+643717713&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+E[0]+3921069994&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^S&(w^C))+E[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+E[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+E[15]+3634488961&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+E[4]+3889429448&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^S&(w^C))+E[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+E[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+E[3]+4107603335&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+E[8]+1163531501&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^S&(w^C))+E[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+E[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+E[7]+1735328473&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+E[12]+2368359562&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(w^C^S)+E[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+E[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+E[11]+1839030562&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+E[14]+4259657740&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^S)+E[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+E[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+E[7]+4139469664&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+E[10]+3200236656&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^S)+E[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+E[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+E[3]+3572445317&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+E[6]+76029189&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^S)+E[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+E[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+E[15]+530742520&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+E[2]+3299628645&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(C^(w|~S))+E[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+E[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+E[14]+2878612391&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+E[5]+4237533241&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~S))+E[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+E[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+E[10]+4293915773&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+E[1]+2240044497&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~S))+E[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+E[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+E[6]+2734768916&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+E[13]+1309151649&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~S))+E[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+E[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+E[2]+718787259&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var w=v-this.blockSize,E=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=w;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(E[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,E),C=0;break}}else for(;S<v;)if(E[C++]=I[S++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var w=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=w&255,w/=256;for(this.u(I),I=Array(16),v=w=0;4>v;++v)for(var E=0;32>E;E+=8)I[w++]=this.g[v]>>>E&255;return I};function o(I,v){var w=c;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=v(I)}function s(I,v){this.h=v;for(var w=[],E=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;E&&S==v||(w[C]=S,E=!1)}this.g=w}var c={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(l(-I));for(var v=[],w=1,E=0;I>=w;E++)v[E]=I/w|0,w*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),E=p,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),_=parseInt(I.substring(C,C+S),v);8>S?(S=l(Math.pow(v,S)),E=E.j(S).add(l(_))):(E=E.j(w),E=E.add(l(_)))}return E}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-A(this).m();for(var I=0,v=1,w=0;w<this.g.length;w++){var E=this.i(w);I+=(0<=E?E:4294967296+E)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(P(this))return"-"+A(this).toString(I);for(var v=l(Math.pow(I,6)),w=this,E="";;){var C=J(w,v).g;w=F(w,C.j(v));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=C,T(w))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function P(I){return I.h==-1}n.l=function(I){return I=F(this,I),P(I)?-1:T(I)?0:1};function A(I){for(var v=I.g.length,w=[],E=0;E<v;E++)w[E]=~I.g[E];return new s(w,~I.h).add(m)}n.abs=function(){return P(this)?A(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0,C=0;C<=v;C++){var S=E+(this.i(C)&65535)+(I.i(C)&65535),_=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);E=_>>>16,S&=65535,_&=65535,w[C]=_<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(I,v){return I.add(A(v))}n.j=function(I){if(T(this)||T(I))return p;if(P(this))return P(I)?A(this).j(A(I)):A(A(this).j(I));if(P(I))return A(this.j(A(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,w=[],E=0;E<2*v;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<I.g.length;C++){var S=this.i(E)>>>16,_=this.i(E)&65535,Yn=I.i(C)>>>16,Fs=I.i(C)&65535;w[2*E+2*C]+=_*Fs,q(w,2*E+2*C),w[2*E+2*C+1]+=S*Fs,q(w,2*E+2*C+1),w[2*E+2*C+1]+=_*Yn,q(w,2*E+2*C+1),w[2*E+2*C+2]+=S*Yn,q(w,2*E+2*C+2)}for(E=0;E<v;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=v;E<2*v;E++)w[E]=0;return new s(w,0)};function q(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function L(I,v){this.g=I,this.h=v}function J(I,v){if(T(v))throw Error("division by zero");if(T(I))return new L(p,p);if(P(I))return v=J(A(I),v),new L(A(v.g),A(v.h));if(P(v))return v=J(I,A(v)),new L(A(v.g),v.h);if(30<I.g.length){if(P(I)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=v;0>=E.l(I);)w=he(w),E=he(E);var C=re(w,1),S=re(E,1);for(E=re(E,2),w=re(w,2);!T(E);){var _=S.add(E);0>=_.l(I)&&(C=C.add(w),S=_),E=re(E,1),w=re(w,1)}return v=F(I,C.j(v)),new L(C,v)}for(C=p;0<=I.l(v);){for(w=Math.max(1,Math.floor(I.m()/v.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(w),_=S.j(v);P(_)||0<_.l(I);)w-=E,S=l(w),_=S.j(v);T(S)&&(S=m),C=C.add(S),I=F(I,_)}return new L(C,I)}n.A=function(I){return J(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)&I.i(E);return new s(w,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)|I.i(E);return new s(w,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)^I.i(E);return new s(w,this.h^I.h)};function he(I){for(var v=I.g.length+1,w=[],E=0;E<v;E++)w[E]=I.i(E)<<1|I.i(E-1)>>>31;return new s(w,I.h)}function re(I,v){var w=v>>5;v%=32;for(var E=I.g.length-w,C=[],S=0;S<E;S++)C[S]=0<v?I.i(S+w)>>>v|I.i(S+w+1)<<32-v:I.i(S+w);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zm=Lb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ci=Lb.Integer=s}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var Jm,SL,ls,Xm,pc,jd,ey,ty,ny;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in f))break e;f=f[D]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,D={next:function(){if(!g&&f<a.length){var x=f++;return{value:d(x,a[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,D,x){for(var $=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)$[Oe-2]=arguments[Oe];return d.prototype[D].apply(g,$)}}function P(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function A(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=a.length||0,x=g.length||0;a.length=D+x;for(let $=0;$<x;$++)a[D+$]=g[$]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function L(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function J(a){return J[" "](a),a}J[" "]=function(){};var he=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function re(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function I(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)a[f]=g[f];for(let x=0;x<w.length;x++)f=w[x],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function C(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function S(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Hh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Yn{constructor(){this.h=this.g=null}add(d,f){let g=Fs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Fs=new F(()=>new fA,a=>a.reset());class fA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Vs,Ls=!1,Hh=new Yn,w_=()=>{let a=c.Promise.resolve(void 0);Vs=()=>{a.then(pA)}};var pA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){S(f)}var d=Fs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ls=!1};function Pr(){this.s=this.s,this.C=this.C}Pr.prototype.s=!1,Pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var gA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function js(a,d){if(ft.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(he){e:{try{J(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:mA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&js.aa.h.call(this)}}T(js,ft);var mA={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Us="closure_listenable_"+(1e6*Math.random()|0),yA=0;function vA(a,d,f,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++yA,this.da=this.fa=!1}function Uc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Bc(a){this.src=a,this.g={},this.h=0}Bc.prototype.add=function(a,d,f,g,D){var x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);var $=Wh(a,d,g,D);return-1<$?(d=a[$],f||(d.fa=!1)):(d=new vA(d,this.src,x,!!g,D),d.fa=f,a.push(d)),d};function Gh(a,d){var f=d.type;if(f in a.g){var g=a.g[f],D=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=D)&&Array.prototype.splice.call(g,D,1),x&&(Uc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Wh(a,d,f,g){for(var D=0;D<a.length;++D){var x=a[D];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return D}return-1}var Kh="closure_lm_"+(1e6*Math.random()|0),Qh={};function I_(a,d,f,g,D){if(g&&g.once)return C_(a,d,f,g,D);if(Array.isArray(d)){for(var x=0;x<d.length;x++)I_(a,d[x],f,g,D);return null}return f=Xh(f),a&&a[Us]?a.K(d,f,l(g)?!!g.capture:!!g,D):E_(a,d,f,!1,g,D)}function E_(a,d,f,g,D,x){if(!d)throw Error("Invalid event type");var $=l(D)?!!D.capture:!!D,Oe=Zh(a);if(Oe||(a[Kh]=Oe=new Bc(a)),f=Oe.add(d,f,g,$,x),f.proxy)return f;if(g=_A(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)gA||(D=$),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(b_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function _A(){function a(f){return d.call(a.src,a.listener,f)}let d=wA;return a}function C_(a,d,f,g,D){if(Array.isArray(d)){for(var x=0;x<d.length;x++)C_(a,d[x],f,g,D);return null}return f=Xh(f),a&&a[Us]?a.L(d,f,l(g)?!!g.capture:!!g,D):E_(a,d,f,!0,g,D)}function D_(a,d,f,g,D){if(Array.isArray(d))for(var x=0;x<d.length;x++)D_(a,d[x],f,g,D);else g=l(g)?!!g.capture:!!g,f=Xh(f),a&&a[Us]?(a=a.i,d=String(d).toString(),d in a.g&&(x=a.g[d],f=Wh(x,f,g,D),-1<f&&(Uc(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete a.g[d],a.h--)))):a&&(a=Zh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Wh(d,f,g,D)),(f=-1<a?d[a]:null)&&Yh(f))}function Yh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Us])Gh(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(b_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zh(d))?(Gh(f,a),f.h==0&&(f.src=null,d[Kh]=null)):Uc(a)}}}function b_(a){return a in Qh?Qh[a]:Qh[a]="on"+a}function wA(a,d){if(a.da)a=!0;else{d=new js(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Yh(a),a=f.call(g,d)}return a}function Zh(a){return a=a[Kh],a instanceof Bc?a:null}var Jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xh(a){return typeof a=="function"?a:(a[Jh]||(a[Jh]=function(d){return a.handleEvent(d)}),a[Jh])}function pt(){Pr.call(this),this.i=new Bc(this),this.M=this,this.F=null}T(pt,Pr),pt.prototype[Us]=!0,pt.prototype.removeEventListener=function(a,d,f,g){D_(this,a,d,f,g)};function Ct(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new ft(d,a);else if(d instanceof ft)d.target=d.target||a;else{var D=d;d=new ft(g,a),E(d,D)}if(D=!0,f)for(var x=f.length-1;0<=x;x--){var $=d.g=f[x];D=$c($,g,!0,d)&&D}if($=d.g=a,D=$c($,g,!0,d)&&D,D=$c($,g,!1,d)&&D,f)for(x=0;x<f.length;x++)$=d.g=f[x],D=$c($,g,!1,d)&&D}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Uc(f[g]);delete a.g[d],a.h--}}this.F=null},pt.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},pt.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function $c(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,x=0;x<d.length;++x){var $=d[x];if($&&!$.da&&$.capture==f){var Oe=$.listener,ut=$.ha||$.src;$.fa&&Gh(a.i,$),D=Oe.call(ut,g)!==!1&&D}}return D&&!g.defaultPrevented}function T_(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function S_(a){a.g=T_(()=>{a.g=null,a.i&&(a.i=!1,S_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class IA extends Pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:S_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(a){Pr.call(this),this.h=a,this.g={}}T(Bs,Pr);var A_=[];function M_(a){re(a.g,function(d,f){this.g.hasOwnProperty(f)&&Yh(d)},a),a.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),M_(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ef=c.JSON.stringify,EA=c.JSON.parse,CA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function tf(){}tf.prototype.h=null;function x_(a){return a.h||(a.h=a.i())}function P_(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nf(){ft.call(this,"d")}T(nf,ft);function rf(){ft.call(this,"c")}T(rf,ft);var gi={},R_=null;function zc(){return R_=R_||new pt}gi.La="serverreachability";function N_(a){ft.call(this,gi.La,a)}T(N_,ft);function zs(a){let d=zc();Ct(d,new N_(d))}gi.STAT_EVENT="statevent";function O_(a,d){ft.call(this,gi.STAT_EVENT,a),this.stat=d}T(O_,ft);function Dt(a){let d=zc();Ct(d,new O_(d,a))}gi.Ma="timingevent";function k_(a,d){ft.call(this,gi.Ma,a),this.size=d}T(k_,ft);function qs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function DA(a,d,f,g,D,x){a.info(function(){if(a.g)if(x)for(var $="",Oe=x.split("&"),ut=0;ut<Oe.length;ut++){var De=Oe[ut].split("=");if(1<De.length){var gt=De[0];De=De[1];var mt=gt.split("_");$=2<=mt.length&&mt[1]=="type"?$+(gt+"="+De+"&"):$+(gt+"=redacted&")}}else $=null;else $=x;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+$})}function bA(a,d,f,g,D,x,$){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+x+" "+$})}function ao(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+SA(a,f)+(g?" "+g:"")})}function TA(a,d){a.info(function(){return"TIMEOUT: "+d})}Hs.prototype.info=function(){};function SA(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var x=D[0];if(x!="noop"&&x!="stop"&&x!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return ef(f)}catch{return d}}var qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},of;function Hc(){}T(Hc,tf),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},of=new Hc;function Rr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V_}function V_(){this.i=null,this.g="",this.h=!1}var L_={},sf={};function af(a,d,f){a.L=1,a.v=Qc(Zn(d)),a.m=f,a.P=!0,j_(a,null)}function j_(a,d){a.F=Date.now(),Gc(a),a.A=Zn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),X_(f.i,"t",g),a.C=0,f=a.j.J,a.h=new V_,a.g=y0(a.j,f?d:null,!a.m),0<a.O&&(a.M=new IA(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(A_[0]=D.toString()),D=A_);for(var x=0;x<D.length;x++){var $=I_(f,D[x],g||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),zs(),DA(a.i,a.u,a.A,a.l,a.R,a.m)}Rr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Jn(a)==3?d.j():this.Y(a)},Rr.prototype.Y=function(a){try{if(a==this.g)e:{let mt=Jn(this.g);var d=this.g.Ba();let lo=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||s0(this.g)))){this.J||mt!=4||d==7||(d==8||0>=lo?zs(3):zs(2)),cf(this);var f=this.g.Z();this.X=f;t:if(U_(this)){var g=s0(this.g);a="";var D=g.length,x=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Gs(this);var $="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(x&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,bA(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,ut=this.g;if((Oe=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Oe)){var De=Oe;break t}}De=null}if(f=De)ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uf(this,f);else{this.o=!1,this.s=3,Dt(12),mi(this),Gs(this);break e}}if(this.P){f=!0;let fn;for(;!this.J&&this.C<$.length;)if(fn=AA(this,$),fn==sf){mt==4&&(this.s=4,Dt(14),f=!1),ao(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==L_){this.s=4,Dt(15),ao(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else ao(this.i,this.l,fn,null),uf(this,fn);if(U_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||$.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)ao(this.i,this.l,$,"[Invalid Chunked Response]"),mi(this),Gs(this);else if(0<$.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),gf(gt),gt.M=!0,Dt(11))}}else ao(this.i,this.l,$,null),uf(this,$);mt==4&&mi(this),this.o&&!this.J&&(mt==4?f0(this.j,this):(this.o=!1,Gc(this)))}else HA(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),mi(this),Gs(this)}}}catch{}finally{}};function U_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function AA(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?sf:(f=Number(d.substring(f,g)),isNaN(f)?L_:(g+=1,g+f>d.length?sf:(d=d.slice(g,g+f),a.C=g+f,d)))}Rr.prototype.cancel=function(){this.J=!0,mi(this)};function Gc(a){a.S=Date.now()+a.I,B_(a,a.I)}function B_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=qs(m(a.ba,a),d)}function cf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Rr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(TA(this.i,this.A),this.L!=2&&(zs(),Dt(17)),mi(this),this.s=2,Gs(this)):B_(this,this.S-a)};function Gs(a){a.j.G==0||a.J||f0(a.j,a)}function mi(a){cf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,M_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function uf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||lf(f.h,a))){if(!a.K&&lf(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)eu(f),Jc(f);else break e;pf(f),Dt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=qs(m(f.Za,f),6e3));if(1>=q_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else vi(f,11)}else if((a.K||f.g==a)&&eu(f),!q(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let De=D[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let gt=De[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=De[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let lo=De[5];lo!=null&&typeof lo=="number"&&0<lo&&(g=1.5*lo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let fn=a.g;if(fn){let nu=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var x=g.h;x.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(df(x,x.h),x.h=null))}if(g.D){let mf=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;mf&&(g.ya=mf,Ve(g.I,g.D,mf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var $=a;if(g.qa=m0(g,g.J?g.ia:null,g.W),$.K){H_(g.h,$);var Oe=$,ut=g.L;ut&&(Oe.I=ut),Oe.B&&(cf(Oe),Gc(Oe)),g.g=$}else d0(g);0<f.i.length&&Xc(f)}else De[0]!="stop"&&De[0]!="close"||vi(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?vi(f,7):ff(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}zs(4)}catch{}}var MA=class{constructor(a,d){this.g=a,this.map=d}};function $_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function z_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function q_(a){return a.h?1:a.g?a.g.size:0}function lf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function df(a,d){a.g?a.g.add(d):a.h=d}function H_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}$_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function G_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return P(a.i)}function xA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function PA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function W_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=PA(a),g=xA(a),D=g.length,x=0;x<D;x++)d.call(void 0,g[x],f&&f[x],a)}var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),D=null;if(0<=g){var x=a[f].substring(0,g);D=a[f].substring(g+1)}else x=a[f];d(x,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function yi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof yi){this.h=a.h,Wc(this,a.j),this.o=a.o,this.g=a.g,Kc(this,a.s),this.l=a.l;var d=a.i,f=new Qs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Q_(this,f),this.m=a.m}else a&&(d=String(a).match(K_))?(this.h=!1,Wc(this,d[1]||"",!0),this.o=Ws(d[2]||""),this.g=Ws(d[3]||"",!0),Kc(this,d[4]),this.l=Ws(d[5]||"",!0),Q_(this,d[6]||"",!0),this.m=Ws(d[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}yi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ks(d,Y_,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ks(d,Y_,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ks(f,f.charAt(0)=="/"?kA:OA,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ks(f,VA)),a.join("")};function Zn(a){return new yi(a)}function Wc(a,d,f){a.j=f?Ws(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Kc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Q_(a,d,f){d instanceof Qs?(a.i=d,LA(a.i,a.h)):(f||(d=Ks(d,FA)),a.i=new Qs(d,a.h))}function Ve(a,d,f){a.i.set(d,f)}function Qc(a){return Ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ws(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ks(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,NA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function NA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Y_=/[#\/\?@]/g,OA=/[#\?:]/g,kA=/[#\?]/g,FA=/[#\?@]/g,VA=/#/g;function Qs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Nr(a){a.g||(a.g=new Map,a.h=0,a.i&&RA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Qs.prototype,n.add=function(a,d){Nr(this),this.i=null,a=co(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Z_(a,d){Nr(a),d=co(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function J_(a,d){return Nr(a),d=co(a,d),a.g.has(d)}n.forEach=function(a,d){Nr(this),this.g.forEach(function(f,g){f.forEach(function(D){a.call(d,D,g,this)},this)},this)},n.na=function(){Nr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=a[g];for(let x=0;x<D.length;x++)f.push(d[g])}return f},n.V=function(a){Nr(this);let d=[];if(typeof a=="string")J_(this,a)&&(d=d.concat(this.g.get(co(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return Nr(this),this.i=null,a=co(this,a),J_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function X_(a,d,f){Z_(a,d),0<f.length&&(a.i=null,a.g.set(co(a,d),P(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),$=this.V(g);for(g=0;g<$.length;g++){var D=x;$[g]!==""&&(D+="="+encodeURIComponent(String($[g]))),a.push(D)}}return this.i=a.join("&")};function co(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function LA(a,d){d&&!a.j&&(Nr(a),a.i=null,a.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(Z_(this,g),X_(this,D,f))},a)),a.j=d}function jA(a,d){let f=new Hs;if(c.Image){let g=new Image;g.onload=y(Or,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Or,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Or,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Or,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function UA(a,d){let f=new Hs,g=new AbortController,D=setTimeout(()=>{g.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(x=>{clearTimeout(D),x.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Or(f,"TestPingServer: error",!1,d)})}function Or(a,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function BA(){this.g=new CA}function $A(a,d,f){let g=f||"";try{W_(a,function(D,x){let $=D;l(D)&&($=ef(D)),d.push(g+x+"="+encodeURIComponent($))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ys(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Ys,tf),Ys.prototype.g=function(){return new Yc(this.l,this.j)},Ys.prototype.i=function(a){return function(){return a}}({});function Yc(a,d){pt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Yc,pt),n=Yc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Js(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;e0(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function e0(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Zs(this):Js(this),this.readyState==3&&e0(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Zs(this))},n.Qa=function(a){this.g&&(this.response=a,Zs(this))},n.ga=function(){this.g&&Zs(this)};function Zs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Js(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Js(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function t0(a){let d="";return re(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function hf(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=t0(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ve(a,d,f))}function He(a){pt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(He,pt);var zA=/^https?$/i,qA=["POST","PUT"];n=He.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():of.g(),this.v=this.o?x_(this.o):x_(of),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(x){n0(this,x);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qA,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,$]of f)this.g.setRequestHeader(x,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{o0(this),this.u=!0,this.g.send(a),this.u=!1}catch(x){n0(this,x)}};function n0(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,r0(a),Zc(a)}function r0(a){a.A||(a.A=!0,Ct(a,"complete"),Ct(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ct(this,"complete"),Ct(this,"abort"),Zc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zc(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?i0(this):this.bb())},n.bb=function(){i0(this)};function i0(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Jn(a)!=4||a.Z()!=2)){if(a.u&&Jn(a)==4)T_(a.Ea,0,a);else if(Ct(a,"readystatechange"),Jn(a)==4){a.h=!1;try{let $=a.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=$===0){var D=String(a.D).match(K_)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!zA.test(D?D.toLowerCase():"")}f=g}if(f)Ct(a,"complete"),Ct(a,"success");else{a.m=6;try{var x=2<Jn(a)?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.Z()+"]",r0(a)}}finally{Zc(a)}}}}function Zc(a,d){if(a.g){o0(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Ct(a,"ready");try{f.onreadystatechange=g}catch{}}}function o0(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Jn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),EA(d)}};function s0(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function HA(a){let d={};a=(a.g&&2<=Jn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(q(a[g]))continue;var f=C(a[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[D]||[];d[D]=x,x.push(f)}I(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function a0(a){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,a),this.cb=Xs("retryDelaySeedMs",1e4,a),this.Wa=Xs("forwardChannelMaxRetries",2,a),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new $_(a&&a.concurrentRequestLimit),this.Da=new BA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=a0.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){Dt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=m0(this,null,this.W),Xc(this)};function ff(a){if(c0(a),a.G==3){var d=a.U++,f=Zn(a.I);if(Ve(f,"SID",a.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),ea(a,f),d=new Rr(a,a.j,d),d.L=2,d.v=Qc(Zn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=y0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gc(d)}g0(a)}function Jc(a){a.g&&(gf(a),a.g.cancel(),a.g=null)}function c0(a){Jc(a),a.u&&(c.clearTimeout(a.u),a.u=null),eu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Xc(a){if(!z_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Vs||w_(),Ls||(Vs(),Ls=!0),Hh.add(d,a),a.B=0}}function GA(a,d){return q_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=qs(m(a.Ga,a,d),p0(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Rr(this,this.j,a),x=this.o;if(this.S&&(x?(x=v(x),E(x,this.S)):x=this.S),this.m!==null||this.O||(D.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=l0(this,D,d),f=Zn(this.I),Ve(f,"RID",a),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),ea(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(t0(x)))+"&"+d:this.m&&hf(f,this.m,x)),df(this.h,D),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),D.T=!0,af(D,f,null)):af(D,f,d),this.G=2}}else this.G==3&&(a?u0(this,a):this.i.length==0||z_(this.h)||u0(this))};function u0(a,d){var f;d?f=d.l:f=a.U++;let g=Zn(a.I);Ve(g,"SID",a.K),Ve(g,"RID",f),Ve(g,"AID",a.T),ea(a,g),a.m&&a.o&&hf(g,a.m,a.o),f=new Rr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=l0(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),df(a.h,f),af(f,g,d)}function ea(a,d){a.H&&re(a.H,function(f,g){Ve(d,g,f)}),a.l&&W_({},function(f,g){Ve(d,g,f)})}function l0(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let x=-1;for(;;){let $=["count="+f];x==-1?0<f?(x=D[0].g,$.push("ofs="+x)):x=0:$.push("ofs="+x);let Oe=!0;for(let ut=0;ut<f;ut++){let De=D[ut].g,gt=D[ut].map;if(De-=x,0>De)x=Math.max(0,D[ut].g-100),Oe=!1;else try{$A(gt,$,"req"+De+"_")}catch{g&&g(gt)}}if(Oe){g=$.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function d0(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Vs||w_(),Ls||(Vs(),Ls=!0),Hh.add(d,a),a.v=0}}function pf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=qs(m(a.Fa,a),p0(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,h0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=qs(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Jc(this),h0(this))};function gf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function h0(a){a.g=new Rr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Zn(a.qa);Ve(d,"RID","rpc"),Ve(d,"SID",a.K),Ve(d,"AID",a.T),Ve(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ve(d,"TO",a.ja),Ve(d,"TYPE","xmlhttp"),ea(a,d),a.m&&a.o&&hf(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Qc(Zn(d)),f.m=null,f.P=!0,j_(f,a)}n.Za=function(){this.C!=null&&(this.C=null,Jc(this),pf(this),Dt(19))};function eu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function f0(a,d){var f=null;if(a.g==d){eu(a),gf(a),a.g=null;var g=2}else if(lf(a.h,d))f=d.D,H_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=zc(),Ct(g,new k_(g,f)),Xc(a)}else d0(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&GA(a,d)||g==2&&pf(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),D){case 1:vi(a,5);break;case 4:vi(a,10);break;case 3:vi(a,6);break;default:vi(a,2)}}}function p0(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function vi(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let D=!g;g=new yi(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Wc(g,"https"),Qc(g),D?jA(g.toString(),f):UA(g.toString(),f)}else Dt(2);a.G=0,a.l&&a.l.sa(d),g0(a),c0(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function g0(a){if(a.G=0,a.ka=[],a.l){let d=G_(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function m0(a,d,f){var g=f instanceof yi?Zn(f):new yi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Kc(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var x=new yi(null);g&&Wc(x,g),d&&(x.g=d),D&&Kc(x,D),f&&(x.l=f),g=x}return f=a.D,d=a.ya,f&&d&&Ve(g,f,d),Ve(g,"VER",a.la),ea(a,g),g}function y0(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new He(new Ys({eb:f})):new He(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function v0(){}n=v0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function tu(){}tu.prototype.g=function(a,d){return new Ut(a,d)};function Ut(a,d){pt.call(this),this.g=new a0(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new uo(this)}T(Ut,pt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){ff(this.g)},Ut.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=ef(a),a=f);d.i.push(new MA(d.Ya++,a)),d.G==3&&Xc(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,Ut.aa.N.call(this)};function _0(a){nf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(_0,nf);function w0(){rf.call(this),this.status=1}T(w0,rf);function uo(a){this.g=a}T(uo,v0),uo.prototype.ua=function(){Ct(this.g,"a")},uo.prototype.ta=function(a){Ct(this.g,new _0(a))},uo.prototype.sa=function(a){Ct(this.g,new w0)},uo.prototype.ra=function(){Ct(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,ny=Dr.createWebChannelTransport=function(){return new tu},ty=Dr.getStatEventTarget=function(){return zc()},ey=Dr.Event=gi,jd=Dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qc.NO_ERROR=0,qc.TIMEOUT=8,qc.HTTP_ERROR=6,pc=Dr.ErrorCode=qc,F_.COMPLETE="complete",Xm=Dr.EventType=F_,P_.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ls=Dr.WebChannel=P_,SL=Dr.FetchXmlHttpFactory=Ys,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Jm=Dr.XhrIo=He}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});var jb="@firebase/firestore";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var Ps="10.14.0";var Ji=new iu("@firebase/firestore");function gc(){return Ji.logLevel}function K(n,...e){if(Ji.logLevel<=Xn.DEBUG){let t=e.map(Bv);Ji.debug(`Firestore (${Ps}): ${n}`,...t)}}function Tr(n,...e){if(Ji.logLevel<=Xn.ERROR){let t=e.map(Bv);Ji.error(`Firestore (${Ps}): ${n}`,...t)}}function ys(n,...e){if(Ji.logLevel<=Xn.WARN){let t=e.map(Bv);Ji.warn(`Firestore (${Ps}): ${n}`,...t)}}function Bv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+n;throw Tr(e),new Error(e)}function Pe(n,e){n||ne()}function ae(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends M0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var qd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ay=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ct.UNAUTHENTICATED))}shutdown(){}},cy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},uy=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new br,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>U(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new br)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new qd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new ct(e)}},ly=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},dy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new ly(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Pe(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe(typeof t.token=="string"),this.R=t.token,new hy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function AL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Hd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=AL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function vs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ht=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ht(0,0))}static max(){return new n(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(),r===void 0?r=e.length-t:r>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},qe=class n extends Gd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},ML=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class n extends Gd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ML.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(qe.fromString(e))}static fromName(e){return new n(qe.fromString(e).popFirst(5))}static empty(){return new n(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new qe(e.slice()))}};var py=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};py.UNKNOWN_ID=-1;function xL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Xi(i,X.empty(),e)}function PL(n){return new Xi(n.readTime,n.key,-1)}var Xi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),X.empty(),-1)}static max(){return new n(ue.max(),X.empty(),-1)}};function RL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Oc(n){return U(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==NL)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function OL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kc(n){return n.name==="IndexedDbTransactionError"}var IT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ih(n){return n==null}function Ic(n){return n===0&&1/n==-1/0}function kL(n){return typeof n=="number"&&Number.isInteger(n)&&!Ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var FL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XG=[...FL,"documentOverlays"],VL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LL=VL,jL=[...LL,"indexConfiguration","indexState","indexEntries"];var e6=[...jL,"globals"];function Ub(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ET(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,r,i,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new n([])}unionWith(e){let t=new It(Yt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Kd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var UL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(Pe(!!n),typeof n=="string"){let e=0,t=UL.exec(n);if(Pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(n.seconds),nanos:Be(n.nanos)}}function Be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function li(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}function $v(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function zv(n){let e=n.mapValue.fields.__previous_value__;return $v(e)?zv(e):e}function Ec(n){let e=Sr(n.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}var my=class{constructor(e,t,r,i,o,s,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Qd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$v(n)?4:DT(n)?9007199254740991:CT(n)?10:11:ne()}function Kn(n,e){if(n===e)return!0;let t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ec(n).isEqual(Ec(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Sr(i.timestampValue),c=Sr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Be(i.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Be(i.integerValue)===Be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Be(i.doubleValue),c=Be(o.doubleValue);return s===c?Ic(s)===Ic(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return vs(n.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Ub(s)!==Ub(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Kn(s[u],c[u])))return!1;return!0}(n,e);default:return ne()}}function Cc(n,e){return(n.values||[]).find(t=>Kn(t,e))!==void 0}function _s(n,e){if(n===e)return 0;let t=eo(n),r=eo(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Be(o.integerValue||o.doubleValue),u=Be(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return Bb(n.timestampValue,e.timestampValue);case 4:return Bb(Ec(n),Ec(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(o,s){let c=li(o),u=li(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=Te(c[l],u[l]);if(h!==0)return h}return Te(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Te(Be(o.latitude),Be(s.latitude));return c!==0?c:Te(Be(o.longitude),Be(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $b(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p.value)===null||c===void 0?void 0:c.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:$b(y,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ud.mapValue&&s===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(s===Ud.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Te(u[p],h[p]);if(m!==0)return m;let y=_s(c[u[p]],l[h[p]]);if(y!==0)return y}return Te(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ne()}}function Bb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Sr(n),r=Sr(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function $b(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=_s(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function ws(n){return yy(n)}function yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Sr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return li(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=yy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${yy(t.fields[s])}`;return i+"}"}(n.mapValue):ne()}function zb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vy(n){return!!n&&"integerValue"in n}function qv(n){return!!n&&"arrayValue"in n}function qb(n){return!!n&&"nullValue"in n}function Hb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function CT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=yc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(yc(this.value))}};function bT(n){let e=[];return oo(n.fields,(t,r)=>{let i=new Yt([t]);if($d(r)){let o=bT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ln(e)}var Dn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),Qt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),Qt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),Qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Is=class{constructor(e,t){this.position=e,this.inclusive=t}};function Gb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=_s(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kn(n.position[t],e.position[t]))return!1;return!0}var Es=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function BL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yd=class{},nt=class n extends Yd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wy(e,t,r):t==="array-contains"?new Cy(e,r):t==="in"?new Dy(e,r):t==="not-in"?new by(e,r):t==="array-contains-any"?new Ty(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Iy(e,r):new Ey(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_s(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(_s(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bn=class n extends Yd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return TT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function TT(n){return n.op==="and"}function ST(n){return $L(n)&&TT(n)}function $L(n){for(let e of n.filters)if(e instanceof bn)return!1;return!0}function _y(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+ws(n.value);if(ST(n))return n.filters.map(e=>_y(e)).join(",");{let e=n.filters.map(t=>_y(t)).join(",");return`${n.op}(${e})`}}function AT(n,e){return n instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(n,e):n instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&AT(s,i.filters[c]),!0):!1}(n,e):void ne()}function MT(n){return n instanceof nt?function(t){return`${t.field.canonicalString()} ${t.op} ${ws(t.value)}`}(n):n instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(MT).join(" ,")+"}"}(n):"Filter"}var wy=class extends nt{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},Iy=class extends nt{constructor(e,t){super(e,"in",t),this.keys=xT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Ey=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=xT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function xT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var Cy=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return qv(t)&&Cc(t.arrayValue,this.value)}},Dy=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Cc(this.value.arrayValue,t)}},by=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Cc(this.value.arrayValue,t)}},Ty=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!qv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}};var Sy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function Kb(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Sy(n,e,t,r,i,o,s)}function Hv(n){let e=ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_y(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ws(r)).join(",")),e.ue=t}return e.ue}function Gv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wb(n.startAt,e.startAt)&&Wb(n.endAt,e.endAt)}function Ay(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var to=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function zL(n,e,t,r,i,o,s,c){return new to(n,e,t,r,i,o,s,c)}function Wv(n){return new to(n)}function Qb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PT(n){return n.collectionGroup!==null}function vc(n){let e=ae(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new It(Yt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Es(o,r))}),t.has(Yt.keyField().canonicalString())||e.ce.push(new Es(Yt.keyField(),r))}return e.ce}function qn(n){let e=ae(n);return e.le||(e.le=qL(e,vc(n))),e.le}function qL(n,e){if(n.limitType==="F")return Kb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Es(i.field,o)});let t=n.endAt?new Is(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Is(n.startAt.position,n.startAt.inclusive):null;return Kb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function My(n,e){let t=n.filters.concat([e]);return new to(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xy(n,e,t){return new to(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eh(n,e){return Gv(qn(n),qn(e))&&n.limitType===e.limitType}function RT(n){return`${Hv(qn(n))}|lt:${n.limitType}`}function ds(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>MT(i)).join(", ")}]`),Ih(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ws(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`}(qn(n))}; limitType=${n.limitType})`}function Ch(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=Gb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,vc(r),i)||r.endAt&&!function(s,c,u){let l=Gb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,vc(r),i))}(n,e)}function HL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NT(n){return(e,t)=>{let r=!1;for(let i of vc(n)){let o=GL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GL(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?_s(u,l):ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var di=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}};var WL=new Ke(X.comparator);function Ar(){return WL}var OT=new Ke(X.comparator);function mc(...n){let e=OT;for(let t of n)e=e.insert(t.key,t);return e}function kT(n){let e=OT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qi(){return _c()}function FT(){return _c()}function _c(){return new di(n=>n.toString(),(n,e)=>n.isEqual(e))}var KL=new Ke(X.comparator),QL=new It(X.comparator);function _e(...n){let e=QL;for(let t of n)e=e.add(t);return e}var YL=new It(Te);function ZL(){return YL}function Kv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function VT(n){return{integerValue:""+n}}function JL(n,e){return kL(e)?VT(e):Kv(n,e)}var Cs=class{constructor(){this._=void 0}};function XL(n,e,t){return n instanceof Ds?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$v(o)&&(o=zv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof no?jT(n,e):n instanceof ro?UT(n,e):function(i,o){let s=LT(i,o),c=Yb(s)+Yb(i.Pe);return vy(s)&&vy(i.Pe)?VT(c):Kv(i.serializer,c)}(n,e)}function e2(n,e,t){return n instanceof no?jT(n,e):n instanceof ro?UT(n,e):t}function LT(n,e){return n instanceof bs?function(r){return vy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ds=class extends Cs{},no=class extends Cs{constructor(e){super(),this.elements=e}};function jT(n,e){let t=BT(e);for(let r of n.elements)t.some(i=>Kn(i,r))||t.push(r);return{arrayValue:{values:t}}}var ro=class extends Cs{constructor(e){super(),this.elements=e}};function UT(n,e){let t=BT(e);for(let r of n.elements)t=t.filter(i=>!Kn(i,r));return{arrayValue:{values:t}}}var bs=class extends Cs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Yb(n){return Be(n.integerValue||n.doubleValue)}function BT(n){return qv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function t2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof no&&i instanceof no||r instanceof ro&&i instanceof ro?vs(r.elements,i.elements,Kn):r instanceof bs&&i instanceof bs?Kn(r.Pe,i.Pe):r instanceof Ds&&i instanceof Ds}(n.transform,e.transform)}var Py=class{constructor(e,t){this.version=e,this.transformResults=t}},Hn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ts=class{};function $T(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dc(n.key,Hn.none()):new io(n.key,n.data,Hn.none());{let t=n.data,r=Qt.empty(),i=new It(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qn(n.key,r,new ln(i.toArray()),Hn.none())}}function n2(n,e,t){n instanceof io?function(i,o,s){let c=i.value.clone(),u=Jb(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Qn?function(i,o,s){if(!zd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Jb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(zT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function wc(n,e,t,r){return n instanceof io?function(o,s,c,u){if(!zd(o.precondition,s))return c;let l=o.value.clone(),h=Xb(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qn?function(o,s,c,u){if(!zd(o.precondition,s))return c;let l=Xb(o.fieldTransforms,u,s),h=s.data;return h.setAll(zT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,c){return zd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function r2(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=LT(r.transform,i||null);o!=null&&(t===null&&(t=Qt.empty()),t.set(r.field,o))}return t||null}function Zb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vs(r,i,(o,s)=>t2(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var io=class extends Ts{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends Ts{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function zT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Jb(n,e,t){let r=new Map;Pe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,e2(s,c,t[i]))}return r}function Xb(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,XL(o,s,e))}return r}var Dc=class extends Ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ry=class extends Ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ny=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&n2(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=wc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=wc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=FT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=$T(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(t,r)=>Zb(t,r))&&vs(this.baseMutations,e.baseMutations,(t,r)=>Zb(t,r))}},Oy=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pe(e.mutations.length===r.length);let i=function(){return KL}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ky=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Fy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var et,Ie;function i2(n){switch(n){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function qT(n){if(n===void 0)return Tr("GRPC error has no .code"),O.UNKNOWN;switch(n){case et.OK:return O.OK;case et.CANCELLED:return O.CANCELLED;case et.UNKNOWN:return O.UNKNOWN;case et.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case et.INTERNAL:return O.INTERNAL;case et.UNAVAILABLE:return O.UNAVAILABLE;case et.UNAUTHENTICATED:return O.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case et.NOT_FOUND:return O.NOT_FOUND;case et.ALREADY_EXISTS:return O.ALREADY_EXISTS;case et.PERMISSION_DENIED:return O.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case et.ABORTED:return O.ABORTED;case et.OUT_OF_RANGE:return O.OUT_OF_RANGE;case et.UNIMPLEMENTED:return O.UNIMPLEMENTED;case et.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(Ie=et||(et={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var eT=null;function o2(){return new TextEncoder}var s2=new ci([4294967295,4294967295],0);function tT(n){let e=o2().encode(n),t=new Zm;return t.update(e),new Uint8Array(t.digest())}function nT(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ci([t,r],0),new ci([i,o],0)]}var Vy=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yi(`Invalid padding: ${t}`);if(r<0)throw new Yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ci.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ci.fromNumber(r)));return i.compare(s2)===1&&(i=new ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=tT(e),[r,i]=nT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let t=tT(e),[r,i]=nT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zd=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new Ke(Te),Ar(),_e())}},bc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_e(),_e(),_e())}};var gs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Jd=class{constructor(e,t){this.targetId=e,this.me=t}},Xd=class{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},eh=class{constructor(){this.fe=0,this.ge=iT(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),t=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new bc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=iT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ly=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=rT(),this.Qe=new Ke(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Ay(o))if(r===0){let s=new X(o.path);this.Ue(t,s,Dn.newNoDocument(s,ue.min()))}else Pe(r===1);else{let s=this.Ye(t);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}eT?.et(function(h,p,m,y,T){var P,A,F,q,L,J;let he={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(he.bloomFilter={applied:T===0,hashCount:(P=re?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(q=(F=(A=re?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(J=(L=re?.bits)===null||L===void 0?void 0:L.padding)!==null&&J!==void 0?J:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),he}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=li(r).toUint8Array()}catch(u){if(u instanceof Kd)return ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Vy(s,i,o)}catch(u){return ys(u instanceof Yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&Ay(c.target)){let u=new X(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Dn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Zd(e,t,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=rT(),this.Qe=new Ke(Te),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new eh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function rT(){return new Ke(X.comparator)}function iT(){return new Ke(X.comparator)}var a2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"},jy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Uy(n,e){return n.useProto3Json||Ih(e)?e:{value:e}}function th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function l2(n,e){return th(n,e.toTimestamp())}function Gn(n){return Pe(!!n),ue.fromTimestamp(function(t){let r=Sr(t);return new ht(r.seconds,r.nanos)}(n))}function Qv(n,e){return By(n,e).canonicalString()}function By(n,e){let t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function GT(n){let e=qe.fromString(n);return Pe(ZT(e)),e}function $y(n,e){return Qv(n.databaseId,e.path)}function ry(n,e){let t=GT(e);if(t.get(1)!==n.databaseId.projectId)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(KT(t))}function WT(n,e){return Qv(n.databaseId,e)}function d2(n){let e=GT(n);return e.length===4?qe.emptyPath():KT(e)}function zy(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KT(n){return Pe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function oT(n,e,t){return{name:$y(n,e),fields:t.value.mapValue.fields}}function h2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Pe(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?O.UNKNOWN:qT(l.code);return new W(h,l.message||"")}(s);t=new Xd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ry(n,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):ue.min(),c=new Qt({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ry(n,r.document),o=r.readTime?Gn(r.readTime):ue.min(),s=Dn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new gs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ry(n,r.document),o=r.removedTargetIds||[];t=new gs([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Fy(i,o),c=r.targetId;t=new Jd(c,s)}}return t}function f2(n,e){let t;if(e instanceof io)t={update:oT(n,e.key,e.value)};else if(e instanceof Dc)t={delete:$y(n,e.key)};else if(e instanceof Qn)t={update:oT(n,e.key,e.data),updateMask:E2(e.fieldMask)};else{if(!(e instanceof Ry))return ne();t={verify:$y(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Ds)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof no)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ro)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bs)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ne()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:l2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(n,e.precondition)),t}function p2(n,e){return n&&n.length>0?(Pe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(ue.min())&&(s=Gn(o)),new Py(s,i.transformResults||[])}(t,e))):[]}function g2(n,e){return{documents:[WT(n,e.path)]}}function m2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=WT(n,i);let o=function(l){if(l.length!==0)return YT(bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:hs(m.field),direction:_2(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Uy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function y2(n){let e=d2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Pe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=QT(p);return m instanceof bn&&ST(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(T){return new Es(fs(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,Ih(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Is(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Is(y,m)}(t.endAt)),zL(e,i,s,o,c,"F",u,l)}function v2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fs(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fs(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fs(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return nt.create(fs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(r=>QT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function _2(n){return a2[n]}function w2(n){return c2[n]}function I2(n){return u2[n]}function hs(n){return{fieldPath:n.canonicalString()}}function fs(n){return Yt.fromServerFormat(n.fieldPath)}function YT(n){return n instanceof nt?function(t){if(t.op==="=="){if(Hb(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NAN"}};if(qb(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Hb(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NAN"}};if(qb(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(t.field),op:w2(t.op),value:t.value}}}(n):n instanceof bn?function(t){let r=t.getFilters().map(i=>YT(i));return r.length===1?r[0]:{compositeFilter:{op:I2(t.op),filters:r}}}(n):ne()}function E2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tc=class n{constructor(e,t,r,i,o=ue.min(),s=ue.min(),c=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var qy=class{constructor(e){this.ct=e}};function C2(n){let e=y2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xy(e,e.limit,"L"):e}var nh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ic(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Sr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(li(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?DT(e)?this.dt(t,Number.MAX_SAFE_INTEGER):CT(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Be(c)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};nh.vt=new nh;var Hy=class{constructor(){this.un=new Gy}addToCollectionParentIndex(e,t){return this.un.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Xi.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},Gy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(qe.comparator)).toArray()}};var n6=new Uint8Array(0);var $n=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var Sc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Wy=class{constructor(){this.changes=new di(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ky=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Qy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wc(r.mutation,i,ln.empty(),ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){let i=Qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=mc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Ar(),s=_c(),c=function(){return _c()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Qn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),wc(h.mutation,l,h.mutation.getFieldMask(),ht.now())):s.set(l.key,ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new Ky(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=_c(),i=new Ke((s,c)=>s-c),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||ln.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||_e()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=FT();h.forEach(m=>{if(!o.has(m)){let y=$T(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(Qi()),c=-1,u=o;return s.next(l=>V.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:c,changes:kT(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=mc();return this.indexManager.getCollectionParents(e,o).next(c=>V.forEach(c,u=>{let l=function(p,m){return new to(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let c=mc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&wc(h.mutation,l,ln.empty(),ht.now()),Ch(t,l)&&(c=c.insert(u,l))}),c})}};var Yy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return V.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:C2(i.bundledQuery),readTime:Gn(i.readTime)}}(t)),V.resolve()}};var Zy=class{constructor(){this.overlays=new Ke(X.comparator),this.Ir=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Qi();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=Qi(),o=t.length+1,s=new X(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Qi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Qi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return V.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ky(t,r));let o=this.Ir.get(t);o===void 0&&(o=_e(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Jy=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Ac=class{constructor(){this.Tr=new It(tt.Er),this.dr=new It(tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new tt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new tt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new X(new qe([])),r=new tt(t,e),i=new tt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new qe([])),r=new tt(t,e),i=new tt(t,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new tt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},tt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||Te(e.wr,t.wr)}static Ar(e,t){return Te(e.wr,t.wr)||X.comparator(e.key,t.key)}};var Xy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new It(tt.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ny(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new tt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new tt(t,0),i=new tt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Te);return t.forEach(i=>{let o=new tt(i,0),s=new tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new tt(new X(o),0),c=new It(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),V.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Pe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(t.mutations,i=>{let o=new tt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new tt(t,0),i=this.br.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ev=class{constructor(e){this.Mr=e,this.docs=function(){return new Ke(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Ar();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ar(),s=t.path,c=new X(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||RL(PL(h),r)<=0||(i.has(h.key)||Ch(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne()}Or(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tv(this)}getSize(e){return V.resolve(this.size)}},tv=class extends Wy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var nv=class{constructor(e){this.persistence=e,this.Nr=new di(t=>Hv(t),Gv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ac,this.targetCount=0,this.kr=Sc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),V.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Sc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.Kn(t),V.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Br.containsKey(t))}};var rv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new IT(0),this.Kr=!1,this.Kr=!0,this.$r=new Jy,this.referenceDelegate=e(this),this.Ur=new nv(this),this.indexManager=new Hy,this.remoteDocumentCache=function(i){return new ev(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qy(t),this.Gr=new Yy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Xy(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new iv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},iv=class extends gy{constructor(e){super(),this.currentSequenceNumber=e}},ov=class n{constructor(e){this.persistence=e,this.Jr=new Ac,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return V.or([()=>V.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var sv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=_e(),i=_e();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var av=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var cv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return A0()?8:OL(S0())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new av;return this.Xi(e,t,s).next(c=>{if(o.result=c,this.zi)return this.es(e,t,s,c.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(gc()<=Xn.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(gc()<=Xn.DEBUG&&K("QueryEngine","Query:",ds(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gc()<=Xn.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):V.resolve())}Yi(e,t){if(Qb(t))return V.resolve(null);let r=qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=xy(t,null,"F"),r=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,s,u.readTime)?this.Yi(e,xy(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return Qb(t)||i.isEqual(ue.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?V.resolve(null):(gc()<=Xn.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(t)),this.rs(e,s,t,xL(i,-1)).next(c=>c))})}ts(e,t){let r=new It(NT(e));return t.forEach((i,o)=>{Ch(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return gc()<=Xn.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ds(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var uv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ke(Te),this._s=new di(o=>Hv(o),Gv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function D2(n,e,t,r){return new uv(n,e,t,r)}function JT(n,e){return U(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function b2(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,m=p.keys(),y=V.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(P=>{let A=l.docVersions.get(T);Pe(A!==null),P.version.compareTo(A)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=_e();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function XT(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function T2(n,e){let t=ae(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,A,F){return P.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&c.push(t.Ur.updateTargetData(o,y))});let u=Ar(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(S2(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ue.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return V.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function S2(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ar();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function A2(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M2(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Tc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function lv(n,e,t){return U(this,null,function*(){let r=ae(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!kc(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function sT(n,e,t){let r=ae(n),i=ue.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p._s.get(h);return m!==void 0?V.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,qn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ue.min(),t?o:_e())).next(c=>(x2(r,HL(e),c),{documents:c,Ts:o})))}function x2(n,e,t){let r=n.us.get(e)||ue.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var rh=class{constructor(){this.activeTargetIds=ZL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var dv=class{constructor(){this.so=new rh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var hv=class{_o(e){}shutdown(){}};var ih=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bd=null;function iy(){return Bd===null?Bd=function(){return 268435456+Math.round(2147483648*Math.random())}():Bd++,"0x"+Bd.toString(16)}var P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var fv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var wt="WebChannelConnection",pv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let c=iy(),u=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(K("RestConnection",`Received RPC '${t}' ${c}: `,h),h),h=>{throw ys("RestConnection",`RPC '${t}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,c){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=P2[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=iy();return new Promise((s,c)=>{let u=new Jm;u.setWithCredentials(!0),u.listenOnce(Xm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pc.NO_ERROR:let h=u.getResponseJson();K(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case pc.TIMEOUT:K(wt,`RPC '${e}' ${o} timed out`),c(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:let p=u.getStatus();if(K(wt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let T=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);c(new W(T,y.message))}else c(new W(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new W(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{K(wt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(wt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=iy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ny(),c=ty(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");K(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,T=new fv({Io:A=>{y?K(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(K(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),K(wt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),P=(A,F,q)=>{A.listen(F,L=>{try{q(L)}catch(J){setTimeout(()=>{throw J},0)}})};return P(p,ls.EventType.OPEN,()=>{y||(K(wt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),P(p,ls.EventType.CLOSE,()=>{y||(y=!0,K(wt,`RPC '${e}' stream ${i} transport closed`),T.So())}),P(p,ls.EventType.ERROR,A=>{y||(y=!0,ys(wt,`RPC '${e}' stream ${i} transport errored:`,A),T.So(new W(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,ls.EventType.MESSAGE,A=>{var F;if(!y){let q=A.data[0];Pe(!!q);let L=q,J=L.error||((F=L[0])===null||F===void 0?void 0:F.error);if(J){K(wt,`RPC '${e}' stream ${i} received error:`,J);let he=J.status,re=function(w){let E=et[w];if(E!==void 0)return qT(E)}(he),I=J.message;re===void 0&&(re=O.INTERNAL,I="Unknown error status: "+he+" with message "+J.message),y=!0,T.So(new W(re,I)),p.close()}else K(wt,`RPC '${e}' stream ${i} received:`,q),T.bo(q)}}),P(c,ey.STAT_EVENT,A=>{A.stat===jd.PROXY?K(wt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===jd.NOPROXY&&K(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function oy(){return typeof document<"u"?document:null}function Dh(n){return new jy(n,!0)}var oh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sh=class{constructor(e,t,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new oh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return U(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return U(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return U(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>U(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},gv=class extends sh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=h2(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Gn(s.readTime):ue.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=zy(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=Ay(u)?{documents:g2(o,u)}:{query:m2(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=HT(o,s.resumeToken);let l=Uy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){c.readTime=th(o,s.snapshotVersion.toTimestamp());let l=Uy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=v2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=zy(this.serializer),t.removeTarget=e,this.a_(t)}},mv=class extends sh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=p2(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=zy(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>f2(this.serializer,r))};this.a_(t)}};var yv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,By(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(O.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,By(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},vv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Tr(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var _v=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>U(this,null,function*(){so(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return U(this,null,function*(){let l=ae(u);l.L_.add(4),yield Fc(l),l.q_.set("Unknown"),l.L_.delete(4),yield bh(l)})}(this))}))}),this.q_=new vv(r,i)}};function bh(n){return U(this,null,function*(){if(so(n))for(let e of n.B_)yield e(!0)})}function Fc(n){return U(this,null,function*(){for(let e of n.B_)yield e(!1)})}function eS(n,e){let t=ae(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Xv(t)?Jv(t):Rs(t).r_()&&Zv(t,e))}function Yv(n,e){let t=ae(n),r=Rs(t);t.N_.delete(e),r.r_()&&tS(t,e),t.N_.size===0&&(r.r_()?r.o_():so(t)&&t.q_.set("Unknown"))}function Zv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rs(n).A_(e)}function tS(n,e){n.Q_.xe(e),Rs(n).R_(e)}function Jv(n){n.Q_=new Ly({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Rs(n).start(),n.q_.v_()}function Xv(n){return so(n)&&!Rs(n).n_()&&n.N_.size>0}function so(n){return ae(n).L_.size===0}function nS(n){n.Q_=void 0}function R2(n){return U(this,null,function*(){n.q_.set("Online")})}function N2(n){return U(this,null,function*(){n.N_.forEach((e,t)=>{Zv(n,e)})})}function O2(n,e){return U(this,null,function*(){nS(n),Xv(n)?(n.q_.M_(e),Jv(n)):n.q_.set("Unknown")})}function k2(n,e,t){return U(this,null,function*(){if(n.q_.set("Online"),e instanceof Xd&&e.state===2&&e.cause)try{yield function(i,o){return U(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ah(n,r)}else if(e instanceof gs?n.Q_.Ke(e):e instanceof Jd?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ue.min()))try{let r=yield XT(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),tS(o,u);let p=new Tc(h.target,u,l,h.sequenceNumber);Zv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield ah(n,r)}})}function ah(n,e,t){return U(this,null,function*(){if(!kc(e))throw e;n.L_.add(1),yield Fc(n),n.q_.set("Offline"),t||(t=()=>XT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>U(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield bh(n)}))})}function rS(n,e){return e().catch(t=>ah(n,t,e))}function Th(n){return U(this,null,function*(){let e=ae(n),t=hi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;F2(e);)try{let i=yield A2(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,V2(e,i)}catch(i){yield ah(e,i)}iS(e)&&oS(e)})}function F2(n){return so(n)&&n.O_.length<10}function V2(n,e){n.O_.push(e);let t=hi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function iS(n){return so(n)&&!hi(n).n_()&&n.O_.length>0}function oS(n){hi(n).start()}function L2(n){return U(this,null,function*(){hi(n).p_()})}function j2(n){return U(this,null,function*(){let e=hi(n);for(let t of n.O_)e.m_(t.mutations)})}function U2(n,e,t){return U(this,null,function*(){let r=n.O_.shift(),i=Oy.from(r,e,t);yield rS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Th(n)})}function B2(n,e){return U(this,null,function*(){e&&hi(n).V_&&(yield function(r,i){return U(this,null,function*(){if(function(s){return i2(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();hi(r).s_(),yield rS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Th(r)}})}(n,e)),iS(n)&&oS(n)})}function aT(n,e){return U(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=so(t);t.L_.add(3),yield Fc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield bh(t)})}function $2(n,e){return U(this,null,function*(){let t=ae(n);e?(t.L_.delete(2),yield bh(t)):e||(t.L_.add(2),yield Fc(t),t.q_.set("Unknown"))})}function Rs(n){return n.K_||(n.K_=function(t,r,i){let o=ae(t);return o.w_(),new gv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:R2.bind(null,n),Ro:N2.bind(null,n),mo:O2.bind(null,n),d_:k2.bind(null,n)}),n.B_.push(e=>U(this,null,function*(){e?(n.K_.s_(),Xv(n)?Jv(n):n.q_.set("Unknown")):(yield n.K_.stop(),nS(n))}))),n.K_}function hi(n){return n.U_||(n.U_=function(t,r,i){let o=ae(t);return o.w_(),new mv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L2.bind(null,n),mo:B2.bind(null,n),f_:j2.bind(null,n),g_:U2.bind(null,n)}),n.B_.push(e=>U(this,null,function*(){e?(n.U_.s_(),yield Th(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var wv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function e_(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),kc(n))return new W(O.UNAVAILABLE,`${e}: ${n}`);throw n}var ch=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=mc(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var uh=class{constructor(){this.W_=new Ke(X.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ss=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,ch.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Iv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Ev=class{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=cT(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}};function cT(){return new di(n=>RT(n),Eh)}function z2(n,e){return U(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Iv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=e_(s,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&t_(t)})}function q2(n,e){return U(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function H2(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&t_(t)}function G2(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function t_(n){n.Y_.forEach(e=>{e.next()})}var Cv,uT;(uT=Cv||(Cv={})).ea="default",uT.Cache="cache";var Dv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Cv.Cache}};var lh=class{constructor(e){this.key=e}},dh=class{constructor(e){this.key=e}},bv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=NT(e),this.Ra=new ch(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new uh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ch(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?T!==P&&(r.track({type:3,doc:y}),A=!0):this.ga(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(c=!0)),A&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,T){let P=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return P(y)-P(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ss(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new dh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new lh(r))}),t}ba(e){this.Ta=e.Ts,this.da=_e();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ss.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Tv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Sv=class{constructor(e){this.key=e,this.va=!1}},Av=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new di(c=>RT(c),Eh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(X.comparator),this.Na=new Map,this.La=new Ac,this.Ba={},this.ka=new Map,this.qa=Sc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function W2(n,e,t=!0){return U(this,null,function*(){let r=dS(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield sS(r,e,t,!0),i})}function K2(n,e){return U(this,null,function*(){let t=dS(n);yield sS(t,e,!0,!1)})}function sS(n,e,t,r){return U(this,null,function*(){let i=yield M2(n.localStore,qn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield Q2(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&eS(n.remoteStore,i),c})}function Q2(n,e,t,r,i){return U(this,null,function*(){n.Ka=(p,m,y)=>function(P,A,F,q){return U(this,null,function*(){let L=A.view.ma(F);L.ns&&(L=yield sT(P.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,L)));let J=q&&q.targetChanges.get(A.targetId),he=q&&q.targetMismatches.get(A.targetId)!=null,re=A.view.applyChanges(L,P.isPrimaryClient,J,he);return dT(P,A.targetId,re.wa),re.snapshot})}(n,p,m,y);let o=yield sT(n.localStore,e,!0),s=new bv(e,o.Ts),c=s.ma(o.documents),u=bc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);dT(n,t,l.wa);let h=new Tv(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function Y2(n,e,t){return U(this,null,function*(){let r=ae(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Eh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yv(r.remoteStore,i.targetId),Mv(r,i.targetId)}).catch(Oc))):(Mv(r,i.targetId),yield lv(r.localStore,i.targetId,!0))})}function Z2(n,e){return U(this,null,function*(){let t=ae(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yv(t.remoteStore,r.targetId))})}function J2(n,e,t){return U(this,null,function*(){let r=oj(n);try{let i=yield function(s,c){let u=ae(s),l=ht.now(),h=c.reduce((y,T)=>y.add(T.key),_e()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Ar(),P=_e();return u.cs.getEntries(y,h).next(A=>{T=A,T.forEach((F,q)=>{q.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(A=>{p=A;let F=[];for(let q of c){let L=r2(q,p.get(q.key).overlayedDocument);L!=null&&F.push(new Qn(q.key,L,bT(L.value.mapValue),Hn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,c)}).next(A=>{m=A;let F=A.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,A.batchId,F)})}).then(()=>({batchId:m.batchId,changes:kT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ke(Te)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Vc(r,i.changes),yield Th(r.remoteStore)}catch(i){let o=e_(i,"Failed to persist write");t.reject(o)}})}function aS(n,e){return U(this,null,function*(){let t=ae(n);try{let r=yield T2(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Pe(s.va):i.removedDocuments.size>0&&(Pe(s.va),s.va=!1))}),yield Vc(t,r,e)}catch(r){yield Oc(r)}})}function lT(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=ae(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(c)&&(l=!0)}),l&&t_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function X2(n,e,t){return U(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ke(X.comparator);s=s.insert(o,Dn.newNoDocument(o,ue.min()));let c=_e().add(o),u=new Zd(ue.min(),new Map,new Ke(Te),s,c);yield aS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),n_(r)}else yield lv(r.localStore,e,!1).then(()=>Mv(r,e,t)).catch(Oc)})}function ej(n,e){return U(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield b2(t.localStore,e);uS(t,r,null),cS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,i)}catch(i){yield Oc(i)}})}function tj(n,e,t){return U(this,null,function*(){let r=ae(n);try{let i=yield function(s,c){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Pe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);uS(r,e,t),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,i)}catch(i){yield Oc(i)}})}function cS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function uS(n,e,t){let r=ae(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Mv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||lS(n,r)})}function lS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Yv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),n_(n))}function dT(n,e,t){for(let r of t)r instanceof lh?(n.La.addReference(r.key,e),nj(n,r)):r instanceof dh?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||lS(n,r.key)):ne()}function nj(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),n_(n))}function n_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(qe.fromString(e)),r=n.qa.next();n.Na.set(r,new Sv(t)),n.Oa=n.Oa.insert(t,r),eS(n.remoteStore,new Tc(qn(Wv(t.path)),r,"TargetPurposeLimboResolution",IT.oe))}}function Vc(n,e,t){return U(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=sv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return U(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,m=>V.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>V.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!kc(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),T=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function rj(n,e){return U(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield JT(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new W(O.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.hs)}})}function ij(n,e){let t=ae(n),r=t.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let c=t.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function dS(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ij.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X2.bind(null,e),e.Ca.d_=H2.bind(null,e.eventManager),e.Ca.$a=G2.bind(null,e.eventManager),e}function oj(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tj.bind(null,e),e}var hT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return U(this,null,function*(){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return D2(this.persistence,new cv,t.initialUser,this.serializer)}Ga(t){return new rv(ov.Zr,this.serializer)}Wa(t){return new dv}terminate(){return U(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var sj=(()=>{class n{initialize(t,r){return U(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rj.bind(null,this.syncEngine),yield $2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Ev}()}createDatastore(t){let r=Dh(t.databaseInfo.databaseId),i=function(s){return new pv(s)}(t.databaseInfo);return function(s,c,u,l){return new yv(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new _v(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>lT(this.syncEngine,r,0),function(){return ih.D()?new ih:new hv}())}createSyncEngine(t,r){return function(o,s,c,u,l,h,p){let m=new Av(o,s,c,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return U(this,null,function*(){var t,r;yield function(o){return U(this,null,function*(){let s=ae(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Fc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var xv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Pv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=Hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>U(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>U(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=e_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function sy(n,e){return U(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>U(this,null,function*(){r.isEqual(i)||(yield JT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function fT(n,e){return U(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield aj(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>aT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>aT(e.remoteStore,i)),n._onlineComponents=e})}function aj(n){return U(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),yield sy(n,new hT)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield sy(n,new hT);return n._offlineComponents})}function hS(n){return U(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield fT(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield fT(n,new sj))),n._onlineComponents})}function cj(n){return hS(n).then(e=>e.syncEngine)}function pT(n){return U(this,null,function*(){let e=yield hS(n),t=e.eventManager;return t.onListen=W2.bind(null,e.syncEngine),t.onUnlisten=Y2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z2.bind(null,e.syncEngine),t})}function fS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var gT=new Map;function pS(n,e,t){if(!t)throw new W(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uj(n,e,t,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mT(n){if(!X.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yT(n){if(X.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Sh(n);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var hh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ay;switch(r.type){case"firstParty":return new dy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return U(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=gT.get(t);r&&(K("ComponentProvider","Removing Datastore"),gT.delete(t),r.terminate())}(this),Promise.resolve()}};function gS(n,e,t,r={}){var i;let o=(n=Wn(n,As))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ct.MOCK_USER;else{c=T0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ct(l)}n._authCredentials=new cy(new qd(c,u))}}var Ms=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ui=class n extends Ms{constructor(e,t,r){super(e,t,Wv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mS(n,e,...t){if(n=Zt(n),pS("collection","path",e),n instanceof As){let r=qe.fromString(e,...t);return yT(r),new ui(n,null,r)}{if(!(n instanceof Pt||n instanceof ui))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return yT(r),new ui(n.firestore,null,r)}}function r_(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=Hd.newId()),pS("doc","path",e),n instanceof As){let r=qe.fromString(e,...t);return mT(r),new Pt(n,null,new X(r))}{if(!(n instanceof Pt||n instanceof ui))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return mT(r),new Pt(n.firestore,n instanceof ui?n.converter:null,new X(r))}}var fh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new oh(this,"async_queue_retry"),this.Vu=()=>{let r=oy();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=oy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=oy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new br;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return U(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!kc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=wv.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return U(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function vT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Mr=class extends As{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return U(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fh(e),this._firestoreClient=void 0,yield e}})}};function yS(n,e){let t=typeof n=="object"?n:ra(),r=typeof n=="string"?n:e||"(default)",i=_f(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=b0("firestore");o&&gS(i,...o)}return i}function vS(n){if(n._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lj(n),n._firestoreClient}function lj(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,h){return new my(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Pv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var Mc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Et.fromBase64String(e))}catch(t){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xc=class{constructor(e){this._methodName=e}};var Pc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var Rc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var dj=/^__.*__$/,Rv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new io(e,this.data,t,this.fieldTransforms)}},ph=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function _S(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var Nv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_S(this.Cu)&&dj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Ov=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dh(e)}Qu(e,t,r,i=!1){return new Nv({Cu:e,methodName:t,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ah(n){let e=n._freezeSettings(),t=Dh(n._databaseId);return new Ov(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wS(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);i_("Data must be an object, but it was:",s,r);let c=IS(r,s),u,l;if(o.merge)u=new ln(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=kv(e,p,t);if(!s.contains(m))throw new W(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CS(h,m)||h.push(m)}u=new ln(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Rv(new Qt(c),u,l)}var gh=class n extends xc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function hj(n,e,t,r){let i=n.Qu(1,e,t);i_("Data must be an object, but it was:",i,r);let o=[],s=Qt.empty();oo(r,(u,l)=>{let h=o_(e,u,t);l=Zt(l);let p=i.Nu(h);if(l instanceof gh)o.push(h);else{let m=Lc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new ln(o);return new ph(s,c,i.fieldTransforms)}function fj(n,e,t,r,i,o){let s=n.Qu(1,e,t),c=[kv(e,r,t)],u=[i];if(o.length%2!=0)throw new W(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(kv(e,o[m])),u.push(o[m+1]);let l=[],h=Qt.empty();for(let m=c.length-1;m>=0;--m)if(!CS(l,c[m])){let y=c[m],T=u[m];T=Zt(T);let P=s.Nu(y);if(T instanceof gh)l.push(y);else{let A=Lc(T,P);A!=null&&(l.push(y),h.set(y,A))}}let p=new ln(l);return new ph(h,p,s.fieldTransforms)}function pj(n,e,t,r=!1){return Lc(t,n.Qu(r?4:3,e))}function Lc(n,e){if(ES(n=Zt(n)))return i_("Unsupported field value:",e,n),IS(n,e);if(n instanceof xc)return function(r,i){if(!_S(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Lc(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:th(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(i.serializer,o)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mc)return{bytesValue:HT(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rc)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Kv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sh(r)}`)}(n,e)}function IS(n,e){let t={};return ET(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(r,i)=>{let o=Lc(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ES(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Pc||n instanceof Mc||n instanceof Pt||n instanceof xc||n instanceof Rc)}function i_(n,e,t){if(!ES(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Sh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function kv(n,e,t){if((e=Zt(e))instanceof xs)return e._internalPath;if(typeof e=="string")return o_(n,e);throw mh("Field path arguments must be of type string or ",n,!1,void 0,t)}var gj=new RegExp("[~\\*/\\[\\]]");function o_(n,e,t){if(e.search(gj)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xs(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(O.INVALID_ARGUMENT,c+n+u)}function CS(n,e){return n.some(t=>t.isEqual(e))}var yh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Fv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(s_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Fv=class extends yh{data(){return super.data()}};function s_(n,e){return typeof e=="string"?o_(n,e):e instanceof xs?e._internalPath:e._delegate._internalPath}function mj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=class{},Vv=class extends Nc{};function DS(n,e,...t){let r=[];e instanceof Nc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof Lv).length,c=o.filter(u=>u instanceof vh).length;if(s>1||s>0&&c>0)throw new W(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var vh=class n extends Vv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return TS(e._query,t),new Ms(e.firestore,e.converter,My(e._query,t))}_parse(e){let t=Ah(e.firestore);return function(o,s,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wT(p,h);let y=[];for(let T of p)y.push(_T(u,o,T));m={arrayValue:{values:y}}}else m=_T(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wT(p,h),m=pj(c,s,p,h==="in"||h==="not-in");return nt.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function bS(n,e,t){let r=e,i=s_("where",n);return vh._create(i,r,t)}var Lv=class n extends Nc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)TS(s,u),s=My(s,u)}(e._query,t),new Ms(e.firestore,e.converter,My(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function _T(n,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new W(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&t.indexOf("/")!==-1)throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(qe.fromString(t));if(!X.isDocumentKey(r))throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zb(n,new X(r))}if(t instanceof Pt)return zb(n,t._key);throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(t)}.`)}function wT(n,e){if(!Array.isArray(n)||n.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(n,e){let t=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var jv=class{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return oo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Be(s.doubleValue));return new Rc(o)}convertGeoPoint(e){return new Pc(Be(e.latitude),Be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=zv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){let t=Sr(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=qe.fromString(e);Pe(ZT(r));let i=new Qd(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||Tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function SS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Zi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_h=class extends yh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(s_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ms=class extends _h{data(e={}){return super.data(e)}},Uv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ms(this._firestore,this._userDataWriter,r.key,r,new Zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ms(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ms(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:yj(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function yj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var wh=class extends jv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}};function AS(n,e,t){n=Wn(n,Pt);let r=Wn(n.firestore,Mr),i=SS(n.converter,e,t);return Mh(r,[wS(Ah(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Hn.none())])}function MS(n,e,t,...r){n=Wn(n,Pt);let i=Wn(n.firestore,Mr),o=Ah(i),s;return s=typeof(e=Zt(e))=="string"||e instanceof xs?fj(o,"updateDoc",n._key,e,t,r):hj(o,"updateDoc",n._key,e),Mh(i,[s.toMutation(n._key,Hn.exists(!0))])}function xS(n){return Mh(Wn(n.firestore,Mr),[new Dc(n._key,Hn.none())])}function PS(n,e){let t=Wn(n.firestore,Mr),r=r_(n),i=SS(n.converter,e);return Mh(t,[wS(Ah(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function a_(n,...e){var t,r,i;n=Zt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||vT(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(vT(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Pt)l=Wn(n.firestore,Mr),h=Wv(n._key.path),u={next:p=>{e[s]&&e[s](vj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Wn(n,Ms);l=Wn(p.firestore,Mr),h=p._query;let m=new wh(l);u={next:y=>{e[s]&&e[s](new Uv(l,m,p,y))},error:e[s+1],complete:e[s+2]},mj(n._query)}return function(m,y,T,P){let A=new xv(P),F=new Dv(y,A,T);return m.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return z2(yield pT(m),F)})),()=>{A.Za(),m.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return q2(yield pT(m),F)}))}}(vS(l),h,c,u)}function Mh(n,e){return function(r,i){let o=new br;return r.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return J2(yield cj(r),i,o)})),o.promise}(vS(n),e)}function vj(n,e,t){let r=t.docs.get(e._key),i=new wh(n);return new _h(n,i,e._key,r,new Zi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ps=i})(P0),na(new ta("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Mr(new uy(r.getProvider("auth-internal")),new fy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),yt(jb,"4.7.3",e),yt(jb,"4.7.3","esm2017")})();var xh=function(){return xh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xh.apply(this,arguments)};var Ij={includeMetadataChanges:!1};function c_(n,e){return e===void 0&&(e=Ij),new ce(function(t){var r=a_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function RS(n){return c_(n,{includeMetadataChanges:!0})}function NS(n,e){return e===void 0&&(e={}),RS(n).pipe(te(function(t){return u_(t,e)}))}function u_(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:xh(xh({},r),(t={},t[e.idField]=n.id,t))}function OS(n){return c_(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function kS(n,e){return e===void 0&&(e={}),OS(n).pipe(te(function(t){return t.map(function(r){return u_(r,e)})}))}var xr=class{constructor(e){return e}},FS="firestore",l_=class{constructor(){return hc(FS)}};var d_=new z("angularfire2.firestore-instances");function Ej(n,e){let t=Fd(FS,n,e);return t&&new xr(t)}function Cj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xr(r)}}var Dj={provide:l_,deps:[[new _t,d_]]},bj={provide:xr,useFactory:Ej,deps:[[new _t,d_],Cr]};function VS(n,...e){return yt("angularfire",Er.full,"fst"),sn([bj,Dj,{provide:d_,useFactory:Cj(n),multi:!0,deps:[Ce,kt,ai,Wi,[new _t,fc],[new _t,Ir],...e]}])}var h_=at(kS,!0);var LS=at(NS,!0);var jS=at(PS,!0);var Ph=at(mS,!0);var US=at(xS,!0);var Ns=at(r_,!0);var BS=at(yS,!0);var $S=at(DS,!0);var zS=at(AS,!0);var qS=at(MS,!0);var HS=at(bS,!0);var $e=class n{constructor(e,t){this.firestore=e;this.http=t}fetchLocalCollection(e){return this.http.get("db/"+e+".json")}getDocumentById(e,t){let r=Ns(this.firestore,`${e}/${t}`);return LS(r,{idField:"id"})}getDocumentsByField(e,t,r){let i=Ph(this.firestore,e),o=$S(i,HS(t,"==",r));return h_(o,{idField:"id"})}fetchFirestoreCollection(e){let t=Ph(this.firestore,e);return h_(t,{idField:"id"})}addFirestoreDocument(e,t){let r=Ph(this.firestore,e);return jS(r,t)}updateFirestoreDocument(e,t,r){let i=Ns(this.firestore,`${e}/${t}`);return qS(i,r)}deleteFirestoreDocument(e,t){let r=Ns(this.firestore,`${e}/${t}`);return US(r)}static \u0275fac=function(t){return new(t||n)(G(xr),G(Va))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fe=class n{constructor(e,t,r,i){this.auth=e;this.firestore=t;this.db=r;this.router=i;this.verifyIsLogued();let o=localStorage.getItem("profile");o&&(this.profile=JSON.parse(o));let s=localStorage.getItem("user");if(s){let c=JSON.parse(s);this.getProfile(c?.uid)}}isLogued=!1;profile;registerUser(e,t,r){return U(this,null,function*(){try{let o=(yield Ob(this.auth,e,t)).user.uid,s=Ns(this.firestore,`users/${o}`);yield zS(s,ge(j({},r),{email:e})),this.router.navigateByUrl("/login"),console.log("Usuario registrado y documento creado en Firestore")}catch(i){console.error("Error al registrar usuario:",i)}})}loginUser(e,t){return U(this,null,function*(){try{let r=yield Fb(this.auth,e,t);localStorage.setItem("user",JSON.stringify(r.user)),console.log("Usuario autenticado:",r.user),this.getProfile(r.user.uid),this.router.navigateByUrl("/profile")}catch(r){console.error("Error al iniciar sesi\xF3n:",r)}})}verifyIsLogued(){let e=localStorage.getItem("user");return this.isLogued=!!e,!!e}getProfile(e){this.db.getDocumentById("users",e).subscribe(t=>{console.log("perfil desde firebase",t),localStorage.setItem("profile",JSON.stringify(t)),this.profile=t},t=>{console.log(t)})}logout(){localStorage.clear(),this.router.navigateByUrl("/login")}static \u0275fac=function(t){return new(t||n)(G(Ki),G(xr),G($e),G(zi))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rh=class n{constructor(e,t){this.auth=e;this.fb=t;this.loginForm=this.fb.group({email:["test@ucb.edu.bo",[Me.required,Me.email]],password:["123456",Me.required]}),console.log(e.isLogued)}loginForm;ngOnDestroy(){console.log("destroy login")}onLogin(){if(this.loginForm.valid){console.log("formulario valido",this.loginForm.value);let{email:e,password:t}=this.loginForm.value;this.auth.loginUser(e,t)}else console.log("formulario invalido",this.loginForm),alert("revise sus datos")}static \u0275fac=function(t){return new(t||n)(k(Fe),k(si))};static \u0275cmp=Re({type:n,selectors:[["app-login"]],standalone:!0,features:[Ne],decls:18,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","mt-3"],[3,"ngSubmit","formGroup"],[1,"form-control-group"],["for",""],["formControlName","email","type","text",1,"form-control"],["formControlName","password","type","text",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-primary",3,"routerLink"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),R(4,"Iniciar sesi\xF3n"),b(),M(5,"form",3),se("ngSubmit",function(){return r.onLogin()}),M(6,"div",4)(7,"label",5),R(8,"Email"),b(),Z(9,"input",6),b(),M(10,"div",4)(11,"label",5),R(12,"Password"),b(),Z(13,"input",7),b(),M(14,"button",8),R(15," Iniciar sesi\xF3n "),b(),M(16,"button",9),R(17," Registrarme "),b()()()()()),t&2&&(N(5),H("formGroup",r.loginForm),N(11),H("routerLink","/register"))},dependencies:[Bn,oi,jt,un,ii,_r,wr,ti],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:30px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 12px #0000001a;width:100%;max-width:600px;margin-top:20px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2d3436;font-size:2rem;margin-bottom:20px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px;font-size:1rem;color:#2d3436;border:1px solid #ccc;border-radius:10px;background-color:#f7f7f7;transition:border-color .3s ease}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#a29bfe}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;font-size:1rem;font-weight:700;background-color:#a29bfe;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#7369fd}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#5c4ffd}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{margin-top:10px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.btn-primary[routerLink][_ngcontent-%COMP%]{background-color:#ffeaa7}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.btn-primary[routerLink][_ngcontent-%COMP%]:hover{background-color:#ffde74}.col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#a29bfe;padding-bottom:15px}.form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff;border-radius:20px;padding:2px 10px}"]})};var WS=(n,e)=>({"btn-primary":n,"btn-danger":e});function Tj(n,e){if(n&1&&(M(0,"span",16),R(1),b()),n&2){let t=e.$implicit;N(),pe("#",t,"")}}function Sj(n,e){n&1&&Z(0,"i",17)}function Aj(n,e){n&1&&Z(0,"i",18)}function Mj(n,e){if(n&1&&(M(0,"div",12),R(1,"Editar"),b()),n&2){let t=be(2);jn("routerLink","/edit-event/",t.data.id,"")}}function xj(n,e){if(n&1){let t=Ft();M(0,"div",19),se("click",function(){Je(t);let i=be(2);return Xe(i.borrarEvento())}),R(1,"Borrar"),b()}}function Pj(n,e){if(n&1){let t=Ft();M(0,"div",20),se("click",function(){Je(t);let i=be(2);return Xe(i.addToCart())}),Z(1,"i",21),b()}}function Rj(n,e){if(n&1){let t=Ft();M(0,"div",1),Z(1,"img",2),M(2,"div",3)(3,"p",4),we(4,Tj,2,1,"span",5),b(),M(5,"h5",6),R(6),b(),M(7,"p",4),R(8),b(),M(9,"p",4),R(10),b(),M(11,"p",4),R(12,"Precio: "),M(13,"span",7),R(14),b(),R(15," Bs."),b(),M(16,"p",8),R(17),b(),M(18,"div",9),se("click",function(){Je(t);let i=be();return Xe(i.setLike())}),we(19,Sj,1,0,"i",10)(20,Aj,1,0,"i",11),b(),M(21,"div",12),R(22,"Ver m\xE1s"),b(),we(23,Mj,2,2,"div",13)(24,xj,2,0,"div",14)(25,Pj,2,0,"div",15),b()()}if(n&2){let t=be();N(),Ln("src",t.data.photo,Fn),jn("routerLink","/view-event/",t.data.id,""),N(3),H("ngForOf",t.data.category),N(),jn("routerLink","/view-event/",t.data.id,""),N(),ot(t.data.name),N(2),pe("Fecha: ",t.data.date," "),N(2),pe("Hora: ",t.data.time,""),N(4),ot(t.data.price),N(2),jn("routerLink","/view-profile/",t.data.owner_user.id,""),N(),pe("Creador: ",t.data.owner_user.name,""),N(),H("ngClass",Aa(21,WS,t.checkLike()===!1,t.checkLike()===!0)),N(),H("ngIf",t.checkLike()===!1),N(),H("ngIf",t.checkLike()===!0),N(),jn("routerLink","/event-detail/",t.data.id,""),N(2),H("ngIf",t.showEditButton==!0),N(),H("ngIf",t.showEditButton==!0),N(),H("ngIf",t.showEditButton==!1)}}function Nj(n,e){if(n&1&&(M(0,"span",16),R(1),b()),n&2){let t=e.$implicit;N(),pe("#",t,"")}}function Oj(n,e){n&1&&Z(0,"i",17)}function kj(n,e){n&1&&Z(0,"i",18)}function Fj(n,e){if(n&1){let t=Ft();M(0,"div",1),Z(1,"img",2),M(2,"div",3)(3,"p",4),we(4,Nj,2,1,"span",5),b(),M(5,"h5",6),R(6),b(),M(7,"p",4),R(8),b(),M(9,"p",4),R(10),b(),M(11,"p",4),R(12,"Total: "),M(13,"span",7),R(14),b(),R(15," Bs."),b(),M(16,"p",4),R(17),b(),M(18,"div",9),se("click",function(){Je(t);let i=be();return Xe(i.setLike())}),we(19,Oj,1,0,"i",10)(20,kj,1,0,"i",11),b()()()}if(n&2){let t=be();N(),Ln("src",t.data.event.photo,Fn),jn("routerLink","/view-event/",t.data.event.id,""),N(3),H("ngForOf",t.data.category),N(),jn("routerLink","/view-event/",t.data.event.id,""),N(),ot(t.data.event.name),N(2),pe("Fecha De Compra: ",t.getFormattedDate(t.data.date)," "),N(2),pe("Cantidad: ",t.data.quantity,""),N(4),ot(t.data.total),N(3),pe("N\xFAmero de Contacto: ",t.data.event.contact_number,""),N(),H("ngClass",Aa(14,WS,t.checkLike()===!1,t.checkLike()===!0)),N(),H("ngIf",t.checkLike()===!1),N(),H("ngIf",t.checkLike()===!0)}}var fi=class n{constructor(e,t){this.db=e;this.auth=t}getFormattedDate(e){return e=new Date(e),e.toLocaleString()}data;showEditButton=!1;itIsTicket=!1;toggleInput=!1;showComments=!1;user;ngOnInit(){console.log("data",this.data),this.db.getDocumentById("users",this.data).subscribe(e=>{this.user=e})}addToCart(){if(!confirm("\xBFEst\xE1s seguro de que deseas agregar este evento a tu carrito?"))return;let e=[...this.auth.profile?.cart||[]];if(e.indexOf(this.data.id)>=0){console.error("Este evento ya est\xE1 en tu carrito.");return}e.push(this.data),console.log("cartToUpdate",e);let t=j({},this.auth.profile);t.cart=e,console.log("userUpdate",t),this.db.updateFirestoreDocument("users",t.id,t).then(r=>{console.log("Datos actualizados correctamente."),console.log("res",r)}).catch(r=>{console.error("Error al actualizar datos:",r.message)})}setLike(){let e=[...this.data.likes||[]];this.checkLike()?e=e.filter(t=>t!==this.auth.profile?.id):e.push(this.auth.profile?.id),console.log("likesToUpdate",e),this.data.id?(this.data.likes=e,this.db.updateFirestoreDocument("events",this.data.id,this.data).then(()=>{console.log("Datos actualizados correctamente."),this.db.getDocumentById("events",this.data.id).subscribe(t=>{this.data=t,console.log("res",t)}),console.log("likes",this.data)}).catch(t=>{console.error("Error al actualizar datos:",t.message)})):console.error("No se puede actualizar: ID del documento no definido.")}checkLike(){let e=!1;return this.data.likes?.indexOf(this.auth.profile?.id)>=0}borrarEvento(){confirm("\xBFEst\xE1s seguro de que deseas borrar este evento?")&&(this.auth.profile?.id===this.data.owner_user.id?this.eliminarEvento():console.error("No puedes borrar un evento que no te pertenece."))}eliminarEvento(){this.db.deleteFirestoreDocument("events",this.data.id).then(()=>{console.log("Evento eliminado correctamente.")}).catch(e=>{console.error("Error al eliminar evento:",e.message)}),this.db.fetchFirestoreCollection("users").subscribe(e=>{e.forEach(t=>{let r=[...t.cart||[]];if(r.find(i=>i.id===this.data.id)){r=r.filter(o=>o.id!==this.data.id);let i=j({},t);i.cart=r,this.db.updateFirestoreDocument("users",i.id,i).then(()=>{console.log("Datos actualizados correctamente.")}).catch(o=>{console.error("Error al actualizar datos:",o.message)})}})})}static \u0275fac=function(t){return new(t||n)(k($e),k(Fe))};static \u0275cmp=Re({type:n,selectors:[["app-card"]],inputs:{data:"data",showEditButton:"showEditButton",itIsTicket:"itIsTicket"},standalone:!0,features:[Ne],decls:2,vars:2,consts:[["class","card",4,"ngIf"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src","routerLink"],[1,"card-body"],[1,"card-text"],["style","padding: 3px; background: grey; margin-right: 4px; border-radius: 8px",4,"ngFor","ngForOf"],[1,"card-title",3,"routerLink"],[1,"card-text-span"],[1,"card-text",3,"routerLink"],[1,"btn","m-2",3,"click","ngClass"],["class","fa-regular fa-heart",4,"ngIf"],["class","fa-solid fa-heart",4,"ngIf"],[1,"btn","btn-info",3,"routerLink"],["class","btn btn-info",3,"routerLink",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[2,"padding","3px","background","grey","margin-right","4px","border-radius","8px"],[1,"fa-regular","fa-heart"],[1,"fa-solid","fa-heart"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"fa-solid","fa-cart-shopping"]],template:function(t,r){t&1&&we(0,Rj,26,24,"div",0)(1,Fj,21,17,"div",0),t&2&&(H("ngIf",r.itIsTicket==!1),N(),H("ngIf",r.itIsTicket==!0))},dependencies:[Go,ti,Lt,st],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#f9f9f9;color:#4a4a4a;margin:0;padding:0}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin:1rem 0}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}.card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;cursor:pointer}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:.5rem 0;color:#a29bfe;cursor:pointer;transition:color .3s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]:hover{color:#ffeaa7}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#4a4a4a;margin:.5rem 0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#81ecec;color:#fff;font-size:.8rem;padding:.3rem .6rem;border-radius:6px;margin-right:.4rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .card-text-span[_ngcontent-%COMP%]{font-weight:700;color:#000}.card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:10px;font-size:.9rem;border-radius:6px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#a29bfe;color:#000}.card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#d1cdff}.card[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#fab1a0;color:#fff}.card[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#fdd9d0}.card[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{background-color:#81ecec;color:#000}.card[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]:hover{background-color:#adf3f3}.card[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background-color:#ffeaa7;color:#4a4a4a}.card[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{background-color:#fff6da}.card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.card[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]{font-size:1.2rem}.card[_ngcontent-%COMP%]   .fa-heart.fa-regular[_ngcontent-%COMP%]{color:#4a4a4a}.card[_ngcontent-%COMP%]   .fa-heart.fa-solid[_ngcontent-%COMP%]{color:#a29bfe}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:.5rem}.btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.4rem .8rem}}"]})};function Vj(n,e){if(n&1&&Z(0,"app-card",12),n&2){let t=be().$implicit;H("data",t)("showEditButton",!0)}}function Lj(n,e){if(n&1&&Z(0,"app-card",13),n&2){let t=be().$implicit;H("data",t)("itIsTicket",!0)}}function jj(n,e){if(n&1&&(M(0,"div",9),we(1,Vj,1,2,"app-card",10)(2,Lj,1,2,"app-card",11),b()),n&2){let t=be();N(),H("ngIf",t.itIsTicket==!1),N(),H("ngIf",t.itIsTicket==!0)}}var Nh=class n{constructor(e,t){this.auth=e;this.db=t;console.log("hola desde perfil component",e.profile),this.db.getDocumentsByField("events","owner_user.id",this.auth.profile?.id).subscribe(r=>{this.allEvents=r,this.itIsTicket=!1,this.updateFilteredPosts()}),this.db.getDocumentsByField("tickets_bought","user.id",this.auth.profile?.id).subscribe(r=>{this.allTickets=r,this.itIsTicket=!0,this.updateFilteredPosts()})}postsFiltrados=[];allTickets=[];allEvents=[];seeMyTickets=!1;seeMyEvents=!0;itIsTicket=!1;switchView(e){this.seeMyTickets=e==="tickets",this.seeMyEvents=e==="events",this.updateFilteredPosts()}updateFilteredPosts(){this.seeMyTickets?(this.itIsTicket=!0,console.log("tickets",this.allTickets),this.postsFiltrados=this.allTickets):this.seeMyEvents&&(this.itIsTicket=!1,this.postsFiltrados=this.allEvents)}static \u0275fac=function(t){return new(t||n)(k(Fe),k($e))};static \u0275cmp=Re({type:n,selectors:[["app-profile"]],standalone:!0,features:[Ne],decls:34,vars:11,consts:[[1,"profile-container"],[1,"profile-header"],[1,"profile-actions"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"profile-switch"],[1,"switch-btn",3,"click"],[1,"posts-grid"],["class","post-card",4,"ngFor","ngForOf"],[1,"post-card"],[3,"data","showEditButton",4,"ngIf"],[3,"data","itIsTicket",4,"ngIf"],[3,"data","showEditButton"],[3,"data","itIsTicket"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"h1"),R(3,"Perfil"),b(),M(4,"p")(5,"strong"),R(6,"Nombre:"),b(),R(7),b(),M(8,"p")(9,"strong"),R(10,"Email:"),b(),R(11),b(),M(12,"p")(13,"strong"),R(14,"Tel\xE9fono:"),b(),R(15),b(),M(16,"p")(17,"strong"),R(18,"UID:"),b(),R(19),b()(),M(20,"div",2)(21,"button",3),R(22,"Editar Perfil"),b(),M(23,"button",3),R(24,"Subir Evento"),b(),M(25,"button",4),se("click",function(){return r.auth.logout()}),R(26,"Cerrar Sesi\xF3n"),b()(),M(27,"div",5)(28,"button",6),se("click",function(){return r.switchView("tickets")}),R(29,"Mis Boletos"),b(),M(30,"button",6),se("click",function(){return r.switchView("events")}),R(31,"Mis Eventos"),b()(),M(32,"div",7),we(33,jj,3,2,"div",8),b()()),t&2&&(N(7),pe(" ",r.auth.profile==null?null:r.auth.profile.name,""),N(4),pe(" ",r.auth.profile==null?null:r.auth.profile.email,""),N(4),pe(" ",r.auth.profile==null?null:r.auth.profile.phone,""),N(4),pe(" ",r.auth.profile==null?null:r.auth.profile.id,""),N(2),H("routerLink","/edit-profile"),N(2),H("routerLink","/new-post"),N(5),dr("active",r.seeMyTickets),N(2),dr("active",r.seeMyEvents),N(3),H("ngForOf",r.postsFiltrados))},dependencies:[ti,fi,st,Ht,Lt],styles:[".profile-container[_ngcontent-%COMP%]{padding:2rem;background-color:#f8f9fa;color:#4a4a4a;border-radius:12px;box-shadow:0 4px 10px #0000001a;max-width:800px;margin:2rem auto;font-family:Poppins,sans-serif}.profile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.profile-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#a29bfe}.profile-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:.5rem 0;color:#4a4a4a}.profile-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#81ecec}.profile-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}.profile-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.8rem 1.2rem;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.profile-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff}.profile-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#d1cdff}.profile-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#fab1a0;color:#fff}.profile-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#fdd9d0}.profile-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.profile-switch[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}.profile-switch[_ngcontent-%COMP%]   .switch-btn[_ngcontent-%COMP%]{padding:.6rem 1rem;font-size:.9rem;background-color:#fff;color:#4a4a4a;border:1px solid #a29bfe;border-radius:6px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.profile-switch[_ngcontent-%COMP%]   .switch-btn.active[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff}.profile-switch[_ngcontent-%COMP%]   .switch-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#d1cdff}.posts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.posts-grid[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]{display:block;background-color:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.posts-grid[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}@media (max-width: 768px){.profile-actions[_ngcontent-%COMP%], .profile-switch[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}"]})};var Oh=class{id;date;event;user;quantity;total;constructor(e,t,r,i,o,s){this.id=e,this.date=t,this.event=r,this.user=i,this.quantity=o,this.total=s}get getId(){return this.id}get getDate(){return this.date}get getEvent(){return this.event}get getUser(){return this.user}get getQuantity(){return this.quantity}get getTotal(){return this.total}set setId(e){this.id=e}set setDate(e){this.date=e}set setEvent(e){this.event=e}set setUser(e){this.user=e}set setQuantity(e){this.quantity=e}set setTotal(e){this.total=e}toString(){return`TicketBought: { id: ${this.id}, date: ${this.date}, event: ${this.event}, user: ${this.user}, quantity: ${this.quantity}, total: ${this.total} }`}};function Uj(n,e){if(n&1&&(M(0,"span",11),R(1),b()),n&2){let t=be();N(),ot(t.cartItems.length)}}function Bj(n,e){n&1&&(M(0,"p"),R(1,"Tu carrito est\xE1 vac\xEDo"),b())}function $j(n,e){if(n&1){let t=Ft();M(0,"div",12)(1,"div",13),Z(2,"img",14),b(),M(3,"div",15)(4,"p",16),R(5),b(),M(6,"p",17),R(7),pC(8,"currency"),b(),M(9,"div",18)(10,"button",19),se("click",function(){let i=Je(t).$implicit,o=be();return Xe(o.decreaseQuantity(i))}),R(11,"-"),b(),M(12,"input",20),Sa("ngModelChange",function(i){let o=Je(t).$implicit;return ql(o.quantity,i)||(o.quantity=i),Xe(i)}),se("ngModelChange",function(){let i=Je(t).$implicit,o=be();return Xe(o.updateQuantity(i))}),b(),M(13,"button",19),se("click",function(){let i=Je(t).$implicit,o=be();return Xe(o.increaseQuantity(i))}),R(14,"+"),b()(),M(15,"button",21),se("click",function(){let i=Je(t).$implicit,o=be();return Xe(o.removeFromCart(i))}),R(16,"Quitar"),b()()()}if(n&2){let t=e.$implicit;N(2),Ln("alt",t.name),H("src",t.photo,Fn),N(3),ot(t.name),N(2),ot(gC(8,5,t.price)),N(5),Ta("ngModel",t.quantity)}}var Os=class n{constructor(e,t){this.auth=e;this.db=t}cartOpen=!1;cartItems=[];ngOnInit(){this.auth.profile?(this.cartItems=this.auth.profile.cart||[],this.subscribeToCart()):console.error("El usuario no est\xE1 autenticado.")}toggleCart(){this.cartOpen=!this.cartOpen}checkout(){if(this.cartItems.length>0&&confirm("\xBFEst\xE1s seguro de que deseas comprar estos productos?")){let e=[];this.cartItems.forEach(t=>{let r=new Oh("",new Date().toISOString(),t,this.auth.profile,t.quantity,t.price);e.push(r)}),console.log("Tickets comprados:",e),e.forEach(t=>{let r=j({},t);this.db.addFirestoreDocument("tickets_bought",r).then(()=>{console.log("Ticket subido correctamente.")}).catch(i=>{console.error("Error al subir ticket:",i.message)})}),this.cartItems.forEach(t=>{this.removeFromCart(t)})}}decreaseQuantity(e){e.quantity>1&&(e.quantity--,e.price=e.price*e.quantity)}increaseQuantity(e){e.quantity++,e.price=e.price*e.quantity}removeFromCart(e){this.db.fetchFirestoreCollection("users").subscribe(t=>{t.forEach(r=>{let i=[...r.cart||[]];if(i.find(o=>o.id===e.id)){i=i.filter(s=>s.id!==e.id);let o=j({},r);o.cart=i,this.db.updateFirestoreDocument("users",o.id,o).then(()=>{console.log("Datos actualizados correctamente.")}).catch(s=>{console.error("Error al actualizar datos:",s.message)})}})})}updateQuantity(e){e.quantity<1&&(e.quantity=1)}subscribeToCart(){let e=this.auth.profile.id;this.db.getDocumentById("users",e).subscribe(t=>{t&&t.cart&&(this.cartItems=t.cart,this.cartItems.forEach(r=>{r.quantity||(r.quantity=1)}),console.log("Carrito actualizado:",this.cartItems))})}static \u0275fac=function(t){return new(t||n)(k(Fe),k($e))};static \u0275cmp=Re({type:n,selectors:[["app-cart"]],standalone:!0,features:[Ne],decls:15,vars:6,consts:[[1,"floating-cart",3,"click"],[1,"fa-solid","fa-cart-shopping"],["class","cart-count",4,"ngIf"],[1,"cart-modal"],[1,"cart-header"],[1,"close-btn",3,"click"],[1,"cart-items"],[4,"ngIf"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-footer"],[1,"checkout-btn",3,"click","disabled"],[1,"cart-count"],[1,"cart-item"],[1,"cart-item-image"],[3,"src","alt"],[1,"cart-item-details"],[1,"cart-item-name"],[1,"cart-item-price"],[1,"quantity-selector"],[3,"click"],["type","number","min","1",3,"ngModelChange","ngModel"],[1,"remove-btn",3,"click"]],template:function(t,r){t&1&&(M(0,"div",0),se("click",function(){return r.toggleCart()}),Z(1,"i",1),we(2,Uj,2,1,"span",2),b(),M(3,"div",3)(4,"div",4)(5,"h2"),R(6,"Tu Carrito"),b(),M(7,"button",5),se("click",function(){return r.toggleCart()}),R(8,"\u2716"),b()(),M(9,"div",6),we(10,Bj,2,0,"p",7)(11,$j,17,7,"div",8),b(),M(12,"div",9)(13,"button",10),se("click",function(){return r.checkout()}),R(14,"Pagar"),b()()()),t&2&&(N(2),H("ngIf",r.cartItems.length>0),N(),dr("open",r.cartOpen),N(7),H("ngIf",r.cartItems.length===0),N(),H("ngForOf",r.cartItems),N(2),H("disabled",r.cartItems.length===0))},dependencies:[Ht,st,Lt,UC,Od,jt,dc,un,Gm,lc],styles:[".floating-cart[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:#a29bfe;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 4px 10px #0000001a;cursor:pointer;z-index:1000;transition:transform .3s ease,background-color .3s ease}.floating-cart[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#d1cdff}.floating-cart[_ngcontent-%COMP%]   .cart-count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#81ecec;color:#fff;font-size:.7rem;padding:3px 6px;border-radius:50%;font-weight:700}.cart-modal[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:300px;height:100%;background:#f9f9f9;box-shadow:-4px 0 8px #0003;transition:right .3s ease;z-index:999}.cart-modal.open[_ngcontent-%COMP%]{right:0}.cart-modal[_ngcontent-%COMP%]   .cart-header[_ngcontent-%COMP%]{padding:10px 15px;background:#a29bfe;color:#fff;display:flex;justify-content:space-between;align-items:center}.cart-modal[_ngcontent-%COMP%]   .cart-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer}.cart-modal[_ngcontent-%COMP%]   .cart-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#81ecec}.cart-modal[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]{padding:15px;overflow-y:auto;max-height:calc(100% - 120px)}.cart-modal[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]{padding:10px 15px;background:#a29bfe;display:flex;justify-content:center}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;background:#81ecec;color:#fff;border:none;border-radius:12px;cursor:pointer;transition:background .3s ease}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]:hover{background:#adf3f3}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;padding:10px;background:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a}.cart-item[_ngcontent-%COMP%]   .cart-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;margin-right:15px;border-radius:12px}.cart-item[_ngcontent-%COMP%]   .cart-item-details[_ngcontent-%COMP%]{flex-grow:1}.cart-item[_ngcontent-%COMP%]   .cart-item-details[_ngcontent-%COMP%]   .cart-item-name[_ngcontent-%COMP%]{font-weight:700;color:#4a4a4a}.cart-item[_ngcontent-%COMP%]   .cart-item-details[_ngcontent-%COMP%]   .cart-item-price[_ngcontent-%COMP%]{margin-top:5px;color:#a29bfe}.cart-item[_ngcontent-%COMP%]   .quantity-selector[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.cart-item[_ngcontent-%COMP%]   .quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:16px;background-color:#6f6f6f;border:1px solid #ccc;cursor:pointer;border-radius:12px}.cart-item[_ngcontent-%COMP%]   .quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#898989}.cart-item[_ngcontent-%COMP%]   .quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;text-align:center;margin:0 5px;color:#000;border:1px solid #ccc;border-radius:12px;outline:none}.cart-item[_ngcontent-%COMP%]   .quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#81ecec}.cart-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background:#fab1a0;color:#fff;border:none;border-radius:12px;padding:5px 10px;cursor:pointer;transition:background .3s ease}.cart-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#fdd9d0}"]})};var zj=n=>({active:n});function qj(n,e){if(n&1){let t=Ft();M(0,"div",7),se("click",function(){let i=Je(t).$implicit,o=be();return Xe(o.selectUserTag(i))}),R(1),b()}if(n&2){let t=e.$implicit,r=be();H("ngClass",dC(2,zj,r.tagsMarcados.indexOf(t)>=0)),N(),pe(" #",t," ")}}function Hj(n,e){if(n&1&&(M(0,"div",8),Z(1,"app-card",9),b()),n&2){let t=e.$implicit;N(),H("data",t)}}var kh=class n{constructor(e,t,r){this.http=e;this.db=t;this.auth=r;this.title="Home"}searchTerm="";title;posts;postsFiltrados;tags=[];tagsMarcados=[];ngOnInit(){this.loadData(),console.log("posts",this.posts)}onSearch(e){let r=e.target?.value||"";this.searchTerm=r.toLowerCase(),this.filtrarEventos()}filtrarEventos(){this.postsFiltrados=this.posts.filter(e=>e.name?.toLowerCase().includes(this.searchTerm)||e.category?.some(t=>t.toLowerCase().includes(this.searchTerm)))}loadData(){console.log("loadData",this.posts),this.db.fetchFirestoreCollection("events").subscribe(e=>{this.postsFiltrados=e,this.posts=e,console.log("posts",this.posts),this.tags=[],this.posts.forEach(t=>{t.userTags?.forEach(r=>{this.tags.indexOf(r)===-1&&this.tags.push(r)})})})}selectUserTag(e){let t=this.tagsMarcados.indexOf(e);t===-1?this.tagsMarcados.push(e):this.tagsMarcados.splice(t,1),this.filterData()}filterData(){this.postsFiltrados=[];for(let e=0;e<this.posts.length;e++){console.log(this.posts[e]);for(let t=0;t<this.posts[e].userTags.length;t++)if(this.tagsMarcados.indexOf(this.posts[e].userTags[t])>=0){this.postsFiltrados.push(this.posts[e]);break}}}static \u0275fac=function(t){return new(t||n)(k(Va),k($e),k(Fe))};static \u0275cmp=Re({type:n,selectors:[["app-home"]],standalone:!0,features:[Ne],decls:10,vars:2,consts:[[1,"col-12","mt-3"],[1,"search-box"],["type","text","placeholder","Buscar por nombre o categor\xEDa...",1,"search-input",3,"input"],[1,"filter-box","mb-4"],["class","filter-chip",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row"],["class","col-xs-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"filter-chip",3,"click","ngClass"],[1,"col-xs-12","col-sm-6","col-md-4"],[3,"data"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h1"),R(2,"Eventos"),b(),Z(3,"app-cart"),b(),M(4,"div",1)(5,"input",2),se("input",function(o){return r.onSearch(o)}),b()(),M(6,"div",3),we(7,qj,2,4,"div",4),b(),M(8,"div",5),we(9,Hj,2,1,"div",6),b()),t&2&&(N(7),H("ngForOf",r.tags),N(2),H("ngForOf",r.postsFiltrados))},dependencies:[st,Go,fi,Os],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#f3f4f6;margin:0;padding:0;color:#4a4a4a}.col-12[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;text-align:center}.col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;color:#a29bfe;margin-bottom:1rem}.search-box[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2rem auto}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:.8rem;font-size:1rem;border:none;border-radius:12px;background-color:#fff;box-shadow:0 4px 10px #0000001a;outline:none;transition:.3s ease;color:#000}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#171717}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{box-shadow:0 6px 15px #00000026}.filter-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem;margin:1.5rem auto}.filter-box[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{padding:.6rem 1rem;font-size:.9rem;font-weight:500;background-color:#a29bfe;color:#fff;border-radius:12px;cursor:pointer;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,background-color .3s ease}.filter-box[_ngcontent-%COMP%]   .filter-chip.active[_ngcontent-%COMP%]{background-color:#ffeaa7;color:#4a4a4a}.filter-box[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#d1cdff}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center}.row[_ngcontent-%COMP%]   .col-xs-12[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{max-width:100%}@media (min-width: 576px){.row[_ngcontent-%COMP%]   .col-xs-12[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{max-width:calc(50% - 1rem)}}@media (min-width: 768px){.row[_ngcontent-%COMP%]   .col-xs-12[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{max-width:calc(33.333% - 1rem)}}.row[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]{display:block;background-color:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a;padding:1rem;transition:transform .3s ease,box-shadow .3s ease}.row[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}app-tabbar[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background-color:#fff;box-shadow:0 -2px 10px #0000001a;padding:.5rem 0}"]})};function Gj(n,e){if(n&1&&(M(0,"p"),R(1),b()),n&2){let t=e.$implicit;N(),pe(" ",t.name," ")}}var Fh=class n{constructor(e,t){this.auth=e;this.db=t;let r=e.verifyIsLogued();console.log(r),console.log(this.search),this.loadData()}search;alldata;filtered;loadData(){this.db.fetchFirestoreCollection("figuras").subscribe(e=>{console.log("figuras",e),this.alldata=e},e=>{console.log("Error: ",e)})}searchDocument(){console.log("buscando",this.search),this.filtered=[],this.alldata.forEach(e=>{e.name?.indexOf(this.search)>=0&&this.filtered.push(e)})}searchOnChange(){console.log("on change",this.search),this.filtered=[],this.alldata.forEach(e=>{e.name.indexOf(this.search)>=0&&this.filtered.push(e)})}static \u0275fac=function(t){return new(t||n)(k(Fe),k($e))};static \u0275cmp=Re({type:n,selectors:[["app-search"]],standalone:!0,features:[Ne],decls:11,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","mt-3"],[1,"col-12",2,"display","flex","justify-content","center","align-items","center","flex-direction","row"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","mr-sm-2",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"],[1,"col-12"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),R(4,"Buscador"),b()(),M(5,"div",3)(6,"input",4),se("ngModelChange",function(){return r.searchOnChange()}),Sa("ngModelChange",function(o){return ql(r.search,o)||(r.search=o),o}),b(),M(7,"button",5),se("click",function(){return r.searchDocument()}),R(8,"Search"),b()(),M(9,"div",6),we(10,Gj,2,1,"p",7),b()()()),t&2&&(N(6),Ta("ngModel",r.search),N(4),H("ngForOf",r.filtered))},dependencies:[Od,jt,un,lc,st]})};var Wj=new Map,Kj={activated:!1,tokenObservers:[]},Qj={initialized:!1,enabled:!1};function Sn(n){return Wj.get(n)||Object.assign({},Kj)}function JS(){return Qj}var Yj="https://content-firebaseappcheck.googleapis.com/v1";var Zj="exchangeDebugToken",KS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},wW=24*60*60*1e3;var p_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return U(this,null,function*(){this.stop();try{this.pending=new yf,this.pending.promise.catch(t=>{}),yield Jj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new yf,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Jj(n){return new Promise(e=>{setTimeout(e,n)})}var Xj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},pi=new x0("appCheck","AppCheck",Xj);function XS(n){if(!Sn(n).activated)throw pi.create("use-before-activation",{appName:n.name})}function eA(r,i){return U(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw pi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw pi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw pi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function tA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Yj}/projects/${t}/apps/${r}:${Zj}?key=${i}`,body:{debug_token:e}}}var eU="firebase-app-check-database",tU=1,g_="firebase-app-check-store";var Vh=null;function nU(){return Vh||(Vh=new Promise((n,e)=>{try{let t=indexedDB.open(eU,tU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(pi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(g_,{keyPath:"compositeKey"})}}}catch(t){e(pi.create("storage-open",{originalErrorMessage:t?.message}))}}),Vh)}function rU(n,e){return iU(oU(n),e)}function iU(n,e){return U(this,null,function*(){let r=(yield nU()).transaction(g_,"readwrite"),o=r.objectStore(g_).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(pi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function oU(n){return`${n.options.appId}-${n.name}`}var m_=new iu("@firebase/app-check");function f_(n,e){return vf()?rU(n,e).catch(t=>{m_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nA(){return JS().enabled}function rA(){return U(this,null,function*(){let n=JS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var sU={error:"UNKNOWN_ERROR"};function aU(n){return D0.encodeString(JSON.stringify(n),!1)}function y_(n,e=!1){return U(this,null,function*(){let t=n.app;XS(t);let r=Sn(t),i=r.token,o;if(i&&!jc(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(jc(u)?i=u:yield f_(t,void 0))}if(!e&&i&&jc(i))return{token:i.token};let s=!1;if(nA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=eA(tA(t,yield rA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield f_(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Sn(t).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?m_.warn(u.message):m_.error(u),o=u}let c;return i?o?jc(i)?c={token:i.token,internalError:o}:c=YS(o):(c={token:i.token},r.token=i,yield f_(t,i)):c=YS(o),s&&dU(t,c),c})}function cU(n){return U(this,null,function*(){let e=n.app;XS(e);let{provider:t}=Sn(e);if(nA()){let r=yield rA(),{token:i}=yield eA(tA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function uU(n,e,t,r){let{app:i}=n,o=Sn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&jc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),QS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>QS(n))}function iA(n,e){let t=Sn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function QS(n){let{app:e}=n,t=Sn(e),r=t.tokenRefresher;r||(r=lU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function lU(n){let{app:e}=n;return new p_(()=>U(this,null,function*(){let t=Sn(e),r;if(t.token?r=yield y_(n,!0):r=yield y_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Sn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},KS.RETRIAL_MIN_WAIT,KS.RETRIAL_MAX_WAIT)}function dU(n,e){let t=Sn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function jc(n){return n.expireTimeMillis-Date.now()>0}function YS(n){return{token:aU(sU),error:n}}var v_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Sn(this.app);for(let t of e)iA(this.app,t.next);return Promise.resolve()}};function hU(n,e){return new v_(n,e)}function fU(n){return{getToken:e=>y_(n,e),getLimitedUseToken:()=>cU(n),addTokenListener:e=>uU(n,"INTERNAL",e),removeTokenListener:e=>iA(n.app,e)}}var pU="@firebase/app-check",gU="0.8.8";var mU="app-check",ZS="app-check-internal";function yU(){na(new ta(mU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return hU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ZS).initialize()})),na(new ta(ZS,n=>{let e=n.getProvider("app-check").getImmediate();return fU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),yt(pU,gU)}yU();var vU=["localhost","0.0.0.0","127.0.0.1"],RW=typeof window<"u"&&vU.includes(window.location.hostname);var wU="firebase",IU="10.14.1";kr.registerVersion(wU,IU,"app-compat");var EU=["ngOnDestroy"],sA=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(EU.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(c=>{let u=c?.[o];return typeof u=="function"?u.bind(c):u?.then?u.then(l=>t.run(()=>l)):t.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>s[u],apply:(c,u,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var __=class{constructor(e){return e}},aA=new z("angularfire2.app.options"),cA=new z("angularfire2.app.name");function uA(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=kr.apps.filter(c=>c&&c.name===i.name)[0]||e.runOutsideAngular(()=>kr.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let c=!!module.hot;CU("error",`${s.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new __(s)}var CU=(n,...e)=>{Pg()&&typeof console<"u"&&console[n](...e)};function lA(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(o)return DU(i,s)||(oA("error",`${e} was already initialized on the ${t} Firebase App with different settings.${bU?" You may need to reload as Firebase is not HMR aware.":""}`),oA("warn",{is:i,was:s})),o;{let c=r();return globalThis.\u0275AngularfireInstanceCache.push([n,c,i]),c}}function DU(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var bU=typeof module<"u"&&!!module.hot,oA=(n,...e)=>{Pg()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var TU=new z("angularfire2.auth.use-emulator"),SU=new z("angularfire2.auth.settings"),AU=new z("angularfire2.auth.tenant-id"),MU=new z("angularfire2.auth.langugage-code"),xU=new z("angularfire2.auth.use-device-language"),PU=new z("angularfire.auth.persistence"),RU=(n,e,t,r,i,o,s,c)=>lA(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))u.settings[l]=h;return c&&u.setPersistence(c),u},[t,r,i,o,s,c]),NU=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,c,u,l,h,p,m,y){let T=new je,P=ee(void 0).pipe($t(s.outsideAngular),ze(()=>o.runOutsideAngular(()=>import("./chunk-UX2YPLZJ.js"))),te(()=>uA(t,o,r)),te(A=>RU(A,o,c,l,h,p,u,m)),Uu({bufferSize:1,refCount:!1}));if(Wo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ee(null);else{P.pipe(Xt()).subscribe();let A=P.pipe(ze(L=>L.getRedirectResult().then(J=>J,()=>null)),Km,Uu({bufferSize:1,refCount:!1})),F=P.pipe(ze(L=>new ce(J=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(he=>J.next(he),he=>J.error(he),()=>J.complete()))})))),q=P.pipe(ze(L=>new ce(J=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(he=>J.next(he),he=>J.error(he),()=>J.complete()))}))));this.authState=A.pipe($u(F),Jt(s.outsideAngular),$t(s.insideAngular)),this.user=A.pipe($u(q),Jt(s.outsideAngular),$t(s.insideAngular)),this.idToken=this.user.pipe(ze(L=>L?xe(L.getIdToken()):ee(null))),this.idTokenResult=this.user.pipe(ze(L=>L?xe(L.getIdTokenResult()):ee(null))),this.credential=zf(A,T,this.authState.pipe(vt(L=>!L))).pipe(te(L=>L?.user?L:null),Jt(s.outsideAngular),$t(s.insideAngular))}return sA(this,P,o,{spy:{apply:(A,F,q)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&q.then(L=>T.next(L))}}})}static \u0275fac=function(r){return new(r||n)(G(aA),G(cA,8),G(zt),G(Ce),G(ai),G(TU,8),G(SU,8),G(AU,8),G(MU,8),G(xU,8),G(PU,8),G(Ir,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Lh=(()=>{class n{constructor(){kr.registerVersion("angularfire",Er.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=on({type:n});static \u0275inj=rn({providers:[NU]})}return n})();var jh=class n{constructor(e,t){this.auth=e;this.fb=t;this.loginForm=this.fb.group({name:["",[Me.required]],email:["",[Me.required,Me.email]],phone:["+591",[]],password:["",Me.required]})}loginForm;onLogin(){if(this.loginForm.valid){console.log("formulario valido",this.loginForm.value);let{email:e,password:t}=this.loginForm.value;this.auth.registerUser(e,t,this.loginForm.value).then(r=>{console.log("then 1",r)},r=>{console.log("callback2",r)})}else console.log("formulario invalido",this.loginForm.value),alert("revise sus datos")}static \u0275fac=function(t){return new(t||n)(k(Fe),k(si))};static \u0275cmp=Re({type:n,selectors:[["app-register"]],standalone:!0,features:[Ne],decls:24,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","mt-3"],[3,"ngSubmit","formGroup"],[1,"form-control-group"],["for",""],["formControlName","name","type","text",1,"form-control"],["formControlName","phone","type","text",1,"form-control"],["formControlName","email","type","text",1,"form-control"],["formControlName","password","type","text",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),R(4,"Registrarme"),b(),M(5,"form",3),se("ngSubmit",function(){return r.onLogin()}),M(6,"div",4)(7,"label",5),R(8,"Nombre"),b(),Z(9,"input",6),b(),M(10,"div",4)(11,"label",5),R(12,"Tel\xE9fono"),b(),Z(13,"input",7),b(),M(14,"div",4)(15,"label",5),R(16,"Email"),b(),Z(17,"input",8),b(),M(18,"div",4)(19,"label",5),R(20,"Password"),b(),Z(21,"input",9),b(),M(22,"button",10),R(23," Registrarme "),b()()()()()),t&2&&(N(5),H("formGroup",r.loginForm))},dependencies:[Bn,oi,jt,un,ii,_r,wr,Lh],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f7f7f7;padding-bottom:10px}.col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;padding-bottom:15px}.form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff;border-radius:20px;padding:2px 10px}"]})};function OU(n,e){if(n&1&&(M(0,"p"),R(1),b()),n&2){let t=be();N(),ot(t.mensaje)}}function kU(n,e){if(n&1&&(M(0,"p"),R(1),b()),n&2){let t=e.$implicit;N(),ot(t)}}function FU(n,e){if(n&1&&(M(0,"p"),R(1),b()),n&2){let t=e.$implicit;N(),pe(" ",t.name,`
`)}}var Uh=class n{constructor(e,t){this.auth=e;this.db=t;console.log("ver si esta logueado",e.verifyIsLogued()),this.db.fetchFirestoreCollection("figuras").subscribe(r=>{console.log("datos de firebase",r),this.figuras=r})}listaProductos=["zapatillas adidas","blusa zara","polera benethon"];mensaje="Nuestras ofertas de la semana son:";figuras;static \u0275fac=function(t){return new(t||n)(k(Fe),k($e))};static \u0275cmp=Re({type:n,selectors:[["app-feed"]],standalone:!0,features:[Ne],decls:3,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&we(0,OU,2,1,"p",0)(1,kU,2,1,"p",1)(2,FU,2,1,"p",1),t&2&&(H("ngIf",!0),N(),H("ngForOf",r.listaProductos),N(),H("ngForOf",r.figuras))},dependencies:[st,Ht,Lt]})};var Bh=class n{constructor(e,t,r){this.auth=e;this.db=t;this.fb=r;e.profile?this.profileForm=r.group({email:[e.profile?.email,[Me.required,Me.email]],name:[e.profile?.name,Me.minLength(4)],phone:[e.profile?.phone]}):this.profileForm=r.group({})}profileForm;onEdit(){this.profileForm.valid?(console.log("datos por enviar",this.profileForm.value),this.db.updateFirestoreDocument("users",this.auth.profile?.id,this.profileForm.value).then(()=>{alert("Datos actualizados correctamente.")}).catch(e=>{console.error("Error al actualizar datos:",e.message)})):(console.log(this.profileForm),alert("Datos incorrectos"))}static \u0275fac=function(t){return new(t||n)(k(Fe),k($e),k(si))};static \u0275cmp=Re({type:n,selectors:[["app-edit-profile"]],standalone:!0,features:[Ne],decls:18,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[3,"ngSubmit","formGroup"],[1,"form-control-group"],["for",""],["formControlName","email","type","text",1,"form-control"],["for","name"],["id","name","formControlName","name","type","text",1,"form-control"],["for","phone"],["id","phone","formControlName","phone","type","text",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),se("ngSubmit",function(){return r.onEdit()}),M(4,"div",4)(5,"label",5),R(6,"Email"),b(),Z(7,"input",6),b(),M(8,"div",4)(9,"label",7),R(10,"Nombre"),b(),Z(11,"input",8),b(),M(12,"div",4)(13,"label",9),R(14,"Tel\xE9fono"),b(),Z(15,"input",10),b(),M(16,"button",11),R(17," Actualizar Perfil "),b()()()()()),t&2&&(N(3),H("formGroup",r.profileForm))},dependencies:[Bn,oi,jt,un,ii,_r,wr,Ht],styles:[".form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff;border-radius:20px}.container-fluid[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:30px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 12px #0000001a;width:100%;max-width:500px;margin-top:20px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;color:#2d3436}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#f7f7f7}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px;font-size:1rem;color:#000;border:1px solid #ccc;border-radius:10px;background-color:#f7f7f7}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   .form-control-group-name[_ngcontent-%COMP%]{color:#000}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#a29bfe}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px;font-size:1rem;font-weight:700;background-color:#a29bfe;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#7369fd}.container-fluid[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{background-color:#5c4ffd}"]})};function VU(n,e){if(n&1&&Z(0,"img",24),n&2){let t=be();Ln("src",t.post==null?null:t.post.photo,Fn)}}function LU(n,e){if(n&1&&(M(0,"option",25),R(1),b()),n&2){let t=e.$implicit;H("value",t),N(),ot(t)}}function jU(n,e){if(n&1){let t=Ft();M(0,"div",26)(1,"span",27),R(2),M(3,"button",28),se("click",function(){let i=Je(t).index,o=be();return Xe(o.removeCategory(i))}),R(4," \xD7 "),b()()()}if(n&2){let t=e.$implicit;N(2),pe(" ",t.value," ")}}var ks=class n{constructor(e,t,r,i,o){this.auth=e;this.db=t;this.fb=r;this.activatedRoute=i;this.router=o;this.id=this.activatedRoute.snapshot.paramMap.get("identificador"),this.initForm(),this.id&&this.db.getDocumentById("events",this.id).subscribe(s=>{this.post=s,this.populateForm(s)})}id;formulario;post;category="";categories=["Concierto","Fiesta","Cultura","Deportes"];selectedCategory="";initForm(){this.formulario=this.fb.group({name:["",[Me.required,Me.minLength(3)]],photo:["",[Me.required,Me.pattern(/^https?:\/\/.+$/)]],price:["",[Me.required,Me.min(0)]],categories:this.fb.array([],Me.required),date:["",[Me.required]],time:["",[Me.required]],description:["",[Me.required,Me.minLength(10)]],ubication:["",[Me.required]],contact_number:["",[Me.required,Me.pattern(/^[0-9]{10}$/)]]})}get categoriesFormArray(){return this.formulario.get("categories")}addCategory(e){e&&!this.categoriesFormArray.value.includes(e)&&this.categoriesFormArray.push(this.fb.control(e))}removeCategory(e){this.categoriesFormArray.removeAt(e)}populateForm(e){this.formulario.patchValue({name:e.name,photo:e.photo,price:e.price,date:e.date,time:e.time,description:e.description,ubication:e.ubication,contact_number:e.contact_number}),e.categories&&e.categories.forEach(t=>{this.addCategory(t)})}storePost(){return U(this,null,function*(){let{name:e,photo:t,price:r,date:i,time:o,description:s,ubication:c,contact_number:u}=this.formulario.value,l=this.categoriesFormArray.value;if(this.id)yield this.db.updateFirestoreDocument("events",this.id,{name:e,photo:t,price:r,category:l,date:i,time:o,description:s,ubication:c,contact_number:u}),alert("Evento actualizado");else{let h=this.auth.profile;h.password="";let p=yield this.db.addFirestoreDocument("events",{name:e,photo:t,price:r,category:l,date:i,time:o,description:s,ubication:c,contact_number:u,likes:[],owner_user:h});console.log("nuevoPost",p),alert("Nuevo evento creado")}this.router.navigateByUrl("/profile")})}static \u0275fac=function(t){return new(t||n)(k(Fe),k($e),k(si),k(Kt),k(zi))};static \u0275cmp=Re({type:n,selectors:[["app-new-post"]],standalone:!0,features:[Ne],decls:54,vars:5,consts:[["selectedCategory",""],[1,"container-fluid"],[1,"row"],[1,"col","mt-3"],[3,"ngSubmit","formGroup"],[1,"form-control-group"],["for",""],["formControlName","name","type","text",1,"form-control"],["style","width: 300px; margin-bottom: 30px; display: block","alt","",3,"src",4,"ngIf"],["formControlName","photo","type","text",1,"form-control"],["formControlName","price","type","number",1,"form-control"],["for","categories"],[1,"d-flex"],[1,"form-control",2,"flex","1","margin-right","10px"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["class","mt-2",4,"ngFor","ngForOf"],["formControlName","date","type","date",1,"form-control"],["formControlName","time","type","time",1,"form-control"],["formControlName","description","type","",1,"form-control"],["formControlName","ubication","type","text",1,"form-control"],["formControlName","contact_number","type","text",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mt-4"],["alt","",2,"width","300px","margin-bottom","30px","display","block",3,"src"],[3,"value"],[1,"mt-2"],[1,"badge","badge-primary"],["type","button",1,"btn","btn-sm","btn-danger","ml-2",3,"click"]],template:function(t,r){if(t&1){let i=Ft();M(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),R(4,"Evento"),b(),M(5,"form",4),se("ngSubmit",function(){return Je(i),Xe(r.storePost())}),M(6,"div",5)(7,"label",6),R(8,"Nombre del Evento"),b(),Z(9,"input",7),b(),we(10,VU,1,1,"img",8),M(11,"div",5)(12,"label",6),R(13,"Imagen"),b(),Z(14,"input",9),b(),M(15,"div",5)(16,"label",6),R(17,"Precio"),b(),Z(18,"input",10),b(),M(19,"div",5)(20,"label",11),R(21,"Categor\xEDas"),b(),M(22,"div",12)(23,"select",13,0)(25,"option",14),R(26,"Seleccione una categor\xEDa"),b(),we(27,LU,2,2,"option",15),b(),M(28,"button",16),se("click",function(){Je(i);let s=uC(24);return Xe(r.addCategory(s.value))}),R(29," Agregar "),b()(),we(30,jU,5,1,"div",17),b(),M(31,"div",5)(32,"label",6),R(33,"Fecha"),b(),Z(34,"input",18),b(),M(35,"div",5)(36,"label",6),R(37,"Hora"),b(),Z(38,"input",19),b(),M(39,"div",5)(40,"label",6),R(41,"Descripci\xF3n"),b(),Z(42,"textarea",20),b(),M(43,"div",5)(44,"label",6),R(45,"Ubicaci\xF3n"),b(),Z(46,"input",21),b(),M(47,"div",5)(48,"label",6),R(49,"N\xFAmero de Contacto"),b(),Z(50,"input",22),b(),M(51,"button",23),Z(52,"label",6),R(53),b()()()()()}t&2&&(N(5),H("formGroup",r.formulario),N(5),H("ngIf",r.id),N(17),H("ngForOf",r.categories),N(3),H("ngForOf",r.categoriesFormArray.controls),N(23),pe(" ",r.id?"Editar Evento":"Publicar Evento"," "))},dependencies:[Bn,oi,Tb,Ab,jt,dc,un,ii,_r,wr,Lt,st],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:30px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 12px #0000001a;width:100%;max-width:800px;margin-top:20px}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:2rem;margin-bottom:20px}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px;font-size:1rem;color:#2d3436;border:1px solid #ccc;border-radius:10px;background-color:#f7f7f7;transition:border-color .3s ease}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#a29bfe}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;gap:10px}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:10px;font-size:1rem;color:#2d3436;border-radius:10px;border:1px solid #ccc}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;font-size:1rem;background-color:#81ecec;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#55e5e5}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff;border-radius:10px;padding:5px 10px;margin-right:10px;margin-bottom:10px;display:inline-flex;align-items:center}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:1.2rem;cursor:pointer}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#000}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;font-size:1rem;font-weight:700;background-color:#a29bfe;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#7369fd}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#5c4ffd}.col-12[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;padding-bottom:15px}.form-control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#a29bfe;color:#fff;border-radius:20px;padding:2px 10px}"]})};function UU(n,e){if(n&1&&Z(0,"app-card",1),n&2){let t=e.$implicit;H("data",t)}}var $h=class n{constructor(e,t){this.db=e;this.activatedRoute=t;this.id=this.activatedRoute.snapshot.paramMap.get("id")}id;data;postsFiltrados;ngOnInit(){this.db.getDocumentById("users",this.id).subscribe(e=>{console.log("perfil de usuario",e),this.data=e}),this.db.getDocumentsByField("posts","userId",this.id).subscribe(e=>{console.log("posts filtrados",e),this.postsFiltrados=e})}static \u0275fac=function(t){return new(t||n)(k($e),k(Kt))};static \u0275cmp=Re({type:n,selectors:[["app-view-profile"]],standalone:!0,features:[Ne],decls:19,vars:5,consts:[[3,"data",4,"ngFor","ngForOf"],[3,"data"]],template:function(t,r){t&1&&(M(0,"h1"),R(1,"PERFIL"),b(),M(2,"p")(3,"strong"),R(4,"Nombre:"),b(),R(5),b(),M(6,"p")(7,"strong"),R(8,"Email:"),b(),R(9),b(),M(10,"p")(11,"strong"),R(12,"Phone"),b(),R(13),b(),M(14,"p")(15,"strong"),R(16,"UID"),b(),R(17),b(),we(18,UU,1,1,"app-card",0)),t&2&&(N(5),pe(" ",r.data==null?null:r.data.name,""),N(4),pe(" ",r.data==null?null:r.data.email,""),N(4),pe(" ",r.data==null?null:r.data.phone,""),N(4),pe(" ",r.data==null?null:r.data.id,""),N(),H("ngForOf",r.postsFiltrados))},dependencies:[fi,st]})};var BU=(n,e)=>({"btn-primary":n,"btn-danger":e});function $U(n,e){if(n&1&&(M(0,"span"),R(1),b()),n&2){let t=e.$implicit;N(),pe(" #",t," ")}}function zU(n,e){n&1&&Z(0,"i",14)}function qU(n,e){n&1&&Z(0,"i",15)}function HU(n,e){if(n&1){let t=Ft();M(0,"div",1),Z(1,"img",2),M(2,"div",3)(3,"h5",4),R(4),b(),M(5,"p",5),we(6,$U,2,1,"span",6),b(),M(7,"p",5),R(8),b(),M(9,"p",5),R(10),b(),M(11,"p",5),R(12),b(),M(13,"p",5),R(14,"Precio: "),M(15,"span",7),R(16),b(),R(17," Bs."),b(),M(18,"p",5),R(19),b(),M(20,"p",5),R(21,"Descripci\xF3n: "),b(),M(22,"p",8),R(23),b(),M(24,"p",5),R(25),b(),M(26,"div",9),se("click",function(){Je(t);let i=be();return Xe(i.setLike())}),we(27,zU,1,0,"i",10)(28,qU,1,0,"i",11),b(),M(29,"div",12),se("click",function(){Je(t);let i=be();return Xe(i.addToCart())}),Z(30,"i",13),b()()()}if(n&2){let t=be();N(),Ln("alt",t.eventData.name),H("src",t.eventData.photo,Fn),N(3),ot(t.eventData.name),N(2),H("ngForOf",t.eventData.category),N(2),pe("Creador: ",t.eventData.owner_user.name,""),N(2),pe("Fecha: ",t.eventData.date,""),N(2),pe("Hora: ",t.eventData.time,""),N(4),ot(t.eventData.price),N(3),pe("Contacto: ",t.eventData.contact_number,""),N(4),pe(" ",t.eventData.description," "),N(2),pe("Ubicaci\xF3n: ",t.eventData.ubication,""),N(),H("ngClass",Aa(14,BU,t.checkLike()===!1,t.checkLike()===!0)),N(),H("ngIf",t.checkLike()===!1),N(),H("ngIf",t.checkLike()===!0)}}var zh=class n{constructor(e,t,r){this.db=e;this.auth=t;this.route=r}setLike(){let e=[...this.eventData.likes||[]];this.checkLike()?e=e.filter(t=>t!==this.auth.profile?.id):e.push(this.auth.profile?.id),console.log("likesToUpdate",e),this.eventData.id?(this.eventData.likes=e,this.db.updateFirestoreDocument("events",this.eventData.id,this.eventData).then(()=>{console.log("Datos actualizados correctamente."),this.db.getDocumentById("events",this.eventData.id).subscribe(t=>{this.eventData=t,console.log("res",t)}),console.log("likes",this.eventData)}).catch(t=>{console.error("Error al actualizar datos:",t.message)})):console.error("No se puede actualizar: ID del documento no definido.")}checkLike(){let e=!1;return this.eventData.likes?.indexOf(this.auth.profile?.id)>=0}addToCart(){if(!confirm("\xBFEst\xE1s seguro de que deseas agregar este evento a tu carrito?"))return;let e=[...this.auth.profile?.cart||[]];if(e.indexOf(this.eventData.id)>=0){console.error("Este evento ya est\xE1 en tu carrito.");return}e.push(this.eventData),console.log("cartToUpdate",e);let t=j({},this.auth.profile);t.cart=e,console.log("userUpdate",t),this.db.updateFirestoreDocument("users",t.id,t).then(r=>{console.log("Datos actualizados correctamente."),console.log("res",r)}).catch(r=>{console.error("Error al actualizar datos:",r.message)})}eventId=null;eventData=null;ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id"),this.eventId&&this.db.getDocumentById("events",this.eventId).subscribe(e=>{this.eventData=e})}static \u0275fac=function(t){return new(t||n)(k($e),k(Fe),k(Kt))};static \u0275cmp=Re({type:n,selectors:[["app-event-detail"]],standalone:!0,features:[Ne],decls:2,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[4,"ngFor","ngForOf"],[1,"card-text-span"],[1,"card-description"],[1,"btn","m-2",3,"click","ngClass"],["class","fa-regular fa-heart",4,"ngIf"],["class","fa-solid fa-heart",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-regular","fa-heart"],[1,"fa-solid","fa-heart"]],template:function(t,r){t&1&&(Z(0,"app-cart"),we(1,HU,31,17,"div",0)),t&2&&(N(),H("ngIf",r.eventData))},dependencies:[Go,st,Lt,Os],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin-bottom:70px;border-radius:10px;box-shadow:0 4px 12px #0000001a}.card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#a29bfe;margin-bottom:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:1rem;color:#2d3436;margin-bottom:5px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:1rem;color:#2d3436;margin-bottom:15px;line-height:1.5}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text-span[_ngcontent-%COMP%]{color:#a29bfe;font-weight:700}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px;background-color:#81ecec;color:#000;border-radius:8px;font-size:.9rem;margin-right:6px;display:inline-block;margin-bottom:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;padding:10px;margin-top:15px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#a29bfe;color:#a29bfe}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#7369fd}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]{background-color:#fab1a0;color:#a29bfe}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#f78970}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]{background-color:#ffeaa7;color:#2d3436}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ffde74}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .fa-cart-shopping[_ngcontent-%COMP%]{font-size:1.5rem}.floating-cart[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:#a29bfe;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 4px 8px #0003;cursor:pointer;z-index:1000;transition:transform .3s ease}.floating-cart[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#7369fd}.floating-cart[_ngcontent-%COMP%]   .cart-count[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;background:#fab1a0;color:#fff;border-radius:50%;padding:5px;font-size:.5rem;min-width:20px;text-align:center}.cart-modal[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:300px;height:150%;background:#121212;box-shadow:-4px 0 8px #0003;transition:right .3s ease;z-index:999}.cart-modal.open[_ngcontent-%COMP%]{right:0}.cart-modal[_ngcontent-%COMP%]   .cart-header[_ngcontent-%COMP%]{padding:10px 15px;background:#a29bfe;color:#fff;display:flex;justify-content:space-between;align-items:center}.cart-modal[_ngcontent-%COMP%]   .cart-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer}.cart-modal[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]{padding:15px;overflow-y:auto;max-height:calc(100% - 120px)}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]{padding:10px 15px;background:#191414;display:flex;justify-content:center}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;background:#a29bfe;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background .3s ease}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]:hover{background:#7369fd}.cart-modal[_ngcontent-%COMP%]   .cart-footer[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.cart-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;margin-right:15px}.cart-item-details[_ngcontent-%COMP%]{flex-grow:1}.cart-item-name[_ngcontent-%COMP%]{font-weight:700}.cart-item-price[_ngcontent-%COMP%]{margin-top:5px;color:#2d3436}.quantity-selector[_ngcontent-%COMP%]{display:flex;align-items:center}.quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:16px;background-color:#6f6f6f;border:1px solid #ccc;cursor:pointer}.quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;text-align:center;margin:0 5px;color:#2d3436}.remove-btn[_ngcontent-%COMP%]{background:#a29bfe;color:#fff;border:none;border-radius:5px;padding:5px 10px;cursor:pointer;transition:background .3s ease}.remove-btn[_ngcontent-%COMP%]:hover{background:#f78970}"]})};var dA=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:Rh},{path:"profile",component:Nh},{path:"home",component:kh},{path:"search",component:Fh},{path:"register",component:jh},{path:"feed",component:Uh},{path:"edit-profile",component:Bh},{path:"new-post",component:ks},{path:"view-event/:identificador",component:ks},{path:"event-detail/:id",component:zh},{path:"edit-event/:identificador",component:ks},{path:"view-profile/:id",component:$h}];var hA={providers:[Jp(tD,Bn,Lh,Ht),xb(()=>Pb({apiKey:"AIzaSyDZTFvLty2qMvDNjQWIXx-NARlqQvoSP0I",authDomain:"programacion-2-529c3.firebaseapp.com",projectId:"programacion-2-529c3",storageBucket:"programacion-2-529c3.firebasestorage.app",messagingSenderId:"67310190827",appId:"1:67310190827:web:082c3d45e56b6da4b0beae",measurementId:"G-9BQX38FW8V"})),Nb(()=>kb()),VS(()=>BS()),IC({eventCoalescing:!0}),WD(dA)]};function GU(n,e){n&1&&(M(0,"a",10),Z(1,"i",11),M(2,"span"),R(3,"Profile"),b()())}function WU(n,e){n&1&&(M(0,"a",12),Z(1,"i",13),M(2,"span"),R(3,"Login"),b()())}function KU(n,e){if(n&1&&(M(0,"div",5)(1,"a",6),Z(2,"i",7),M(3,"span"),R(4,"Home"),b()(),we(5,GU,4,0,"a",8)(6,WU,4,0,"a",9),b()),n&2){let t=be();N(5),H("ngIf",t.auth.isLogued===!0),N(),H("ngIf",t.auth.isLogued===!1)}}var qh=class n{constructor(e){this.auth=e;console.log("constructor app component")}isMenuOpen=!0;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(t){return new(t||n)(k(Fe))};static \u0275cmp=Re({type:n,selectors:[["app-root"]],standalone:!0,features:[Ne],decls:6,vars:1,consts:[[1,"container-fluid","app-wrapper"],[1,"app-navbar"],[1,"app-header"],[1,"row"],["class","app-menu",4,"ngIf"],[1,"app-menu"],["routerLink","/home","routerLinkActive","active",1,"navbar-btn"],[1,"fa-solid","fa-house"],["routerLink","/profile","routerLinkActive","active","class","navbar-btn",4,"ngIf"],["routerLink","/login","routerLinkActive","active","class","navbar-btn",4,"ngIf"],["routerLink","/profile","routerLinkActive","active",1,"navbar-btn"],[1,"fa-solid","fa-user"],["routerLink","/login","routerLinkActive","active",1,"navbar-btn"],[1,"fa-solid","fa-right-to-bracket"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1),Z(2,"div",2),M(3,"div",3),Z(4,"router-outlet"),b()()(),we(5,KU,7,2,"div",4)),t&2&&(N(5),H("ngIf",r.isMenuOpen))},dependencies:[Ht,Lt,ti,xm],styles:[".app-menu[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;justify-content:space-between;align-items:center;position:fixed;bottom:0;left:0;right:0;background:var(--color-dark-bg);box-shadow:0 2px 7px 1px #000}.app-menu[_ngcontent-%COMP%]   .navbar-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;padding:4px;color:inherit;text-decoration:none}.app-menu[_ngcontent-%COMP%]   .navbar-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px;font-size:9px}.app-menu[_ngcontent-%COMP%]   .navbar-btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .app-menu[_ngcontent-%COMP%]   .navbar-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-green-accent)!important}.app-wrapper[_ngcontent-%COMP%]{max-height:calc(100% - 60px)}"]})};lD(qh,hA).catch(n=>console.error(n));
